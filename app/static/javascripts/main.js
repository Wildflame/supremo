!function t(e,i,o){function n(r,a){if(!i[r]){if(!e[r]){var c="function"==typeof require&&require;if(!a&&c)return c(r,!0);if(s)return s(r,!0);var l=new Error("Cannot find module '"+r+"'");throw l.code="MODULE_NOT_FOUND",l}var h=i[r]={exports:{}};e[r][0].call(h.exports,function(t){var i=e[r][1][t];return n(i?i:t)},h,h.exports,t,e,i,o)}return i[r].exports}for(var s="function"==typeof require&&require,r=0;r<o.length;r++)n(o[r]);return n}({1:[function(t,e){(function(i){__browserify_shim_require__=t,function(t,e,i,o,n){!function(t,e){"use strict";function i(t){this.callback=t,this.ticking=!1}function o(e){return e&&"undefined"!=typeof t&&(e===t||e.nodeType)}function n(t){if(arguments.length<=0)throw new Error("Missing arguments in extend function");var e,i,s=t||{};for(i=1;i<arguments.length;i++){var r=arguments[i]||{};for(e in r)s[e]="object"!=typeof s[e]||o(s[e])?s[e]||r[e]:n(s[e],r[e])}return s}function s(t){return t===Object(t)?t:{down:t,up:t}}function r(t,e){e=n(e,r.options),this.lastKnownScrollY=0,this.elem=t,this.debouncer=new i(this.update.bind(this)),this.tolerance=s(e.tolerance),this.classes=e.classes,this.offset=e.offset,this.scroller=e.scroller,this.initialised=!1,this.onPin=e.onPin,this.onUnpin=e.onUnpin,this.onTop=e.onTop,this.onNotTop=e.onNotTop}var a={bind:!!function(){}.bind,classList:"classList"in e.documentElement,rAF:!!(t.requestAnimationFrame||t.webkitRequestAnimationFrame||t.mozRequestAnimationFrame)};t.requestAnimationFrame=t.requestAnimationFrame||t.webkitRequestAnimationFrame||t.mozRequestAnimationFrame,i.prototype={constructor:i,update:function(){this.callback&&this.callback(),this.ticking=!1},requestTick:function(){this.ticking||(requestAnimationFrame(this.rafCallback||(this.rafCallback=this.update.bind(this))),this.ticking=!0)},handleEvent:function(){this.requestTick()}},r.prototype={constructor:r,init:function(){return r.cutsTheMustard?(this.elem.classList.add(this.classes.initial),setTimeout(this.attachEvent.bind(this),100),this):void 0},destroy:function(){var t=this.classes;this.initialised=!1,this.elem.classList.remove(t.unpinned,t.pinned,t.top,t.initial),this.scroller.removeEventListener("scroll",this.debouncer,!1)},attachEvent:function(){this.initialised||(this.lastKnownScrollY=this.getScrollY(),this.initialised=!0,this.scroller.addEventListener("scroll",this.debouncer,!1),this.debouncer.handleEvent())},unpin:function(){var t=this.elem.classList,e=this.classes;(t.contains(e.pinned)||!t.contains(e.unpinned))&&(t.add(e.unpinned),t.remove(e.pinned),this.onUnpin&&this.onUnpin.call(this))},pin:function(){var t=this.elem.classList,e=this.classes;t.contains(e.unpinned)&&(t.remove(e.unpinned),t.add(e.pinned),this.onPin&&this.onPin.call(this))},top:function(){var t=this.elem.classList,e=this.classes;t.contains(e.top)||(t.add(e.top),t.remove(e.notTop),this.onTop&&this.onTop.call(this))},notTop:function(){var t=this.elem.classList,e=this.classes;t.contains(e.notTop)||(t.add(e.notTop),t.remove(e.top),this.onNotTop&&this.onNotTop.call(this))},getScrollY:function(){return void 0!==this.scroller.pageYOffset?this.scroller.pageYOffset:void 0!==this.scroller.scrollTop?this.scroller.scrollTop:(e.documentElement||e.body.parentNode||e.body).scrollTop},getViewportHeight:function(){return t.innerHeight||e.documentElement.clientHeight||e.body.clientHeight},getDocumentHeight:function(){var t=e.body,i=e.documentElement;return Math.max(t.scrollHeight,i.scrollHeight,t.offsetHeight,i.offsetHeight,t.clientHeight,i.clientHeight)},getElementHeight:function(t){return Math.max(t.scrollHeight,t.offsetHeight,t.clientHeight)},getScrollerHeight:function(){return this.scroller===t||this.scroller===e.body?this.getDocumentHeight():this.getElementHeight(this.scroller)},isOutOfBounds:function(t){var e=0>t,i=t+this.getViewportHeight()>this.getScrollerHeight();return e||i},toleranceExceeded:function(t,e){return Math.abs(t-this.lastKnownScrollY)>=this.tolerance[e]},shouldUnpin:function(t,e){var i=t>this.lastKnownScrollY,o=t>=this.offset;return i&&o&&e},shouldPin:function(t,e){var i=t<this.lastKnownScrollY,o=t<=this.offset;return i&&e||o},update:function(){var t=this.getScrollY(),e=t>this.lastKnownScrollY?"down":"up",i=this.toleranceExceeded(t,e);this.isOutOfBounds(t)||(t<=this.offset?this.top():this.notTop(),this.shouldUnpin(t,i)?this.unpin():this.shouldPin(t,i)&&this.pin(),this.lastKnownScrollY=t)}},r.options={tolerance:{up:0,down:0},offset:0,scroller:t,classes:{pinned:"headroom--pinned",unpinned:"headroom--unpinned",top:"headroom--top",notTop:"headroom--not-top",initial:"headroom"}},r.cutsTheMustard="undefined"!=typeof a&&a.rAF&&a.bind&&a.classList,t.Headroom=r}(window,document),n("undefined"!=typeof headroom?headroom:window.headroom)}.call(i,void 0,void 0,void 0,void 0,function(t){e.exports=t})}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],2:[function(require,module,exports){(function(global){__browserify_shim_require__=require,function browserifyShim(module,exports,require,define,browserify_shim__define__module__export__){!new function(window,document,undefined,$){"use strict";var MODULE;!function(t){var e;!function(t){t.NAME="pjax",t.NAMESPACE=jQuery}(e=t.DEF||(t.DEF={}))}(MODULE||(MODULE={}));var MODULE;!function(t){!function(t){t[t.blank=0]="blank",t[t.initiate=1]="initiate",t[t.open=2]="open",t[t.pause=3]="pause",t[t.lock=4]="lock",t[t.seal=5]="seal",t[t.error=6]="error",t[t.crash=7]="crash",t[t.terminate=8]="terminate",t[t.close=9]="close"}(t.State||(t.State={}));t.State;t.EVENT={PJAX:t.DEF.NAME.toLowerCase(),CLICK:"click",SUBMIT:"submit",POPSTATE:"popstate",SCROLL:"scroll"}}(MODULE||(MODULE={}));var MODULE;!function(t){var e;!function(){}(e=t.MODEL||(t.MODEL={}))}(MODULE||(MODULE={}));var MODULE;!function(t){var e;!function(t){var e;!function(){}(e=t.APP||(t.APP={}))}(e=t.MODEL||(t.MODEL={}))}(MODULE||(MODULE={}));var MODULE;!function(t){var e;!function(t){var e;!function(t){var e;!function(){}(e=t.DATA||(t.DATA={}))}(e=t.APP||(t.APP={}))}(e=t.MODEL||(t.MODEL={}))}(MODULE||(MODULE={}));var MODULE;!function(t){function e(t,e){var i=t.prototype;e=e.reverse();for(var o=e.length;o--;){var n=e[o].prototype;for(var s in n)"constructor"!==s&&i[s]&&n.hasOwnProperty(s)&&(i[s]=n[s])}}function i(){function t(t){var e=16*Math.random()|0,i="x"==t?e:3&e|8;return i.toString(16).toUpperCase()}return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,t)}function o(t,e){if(!Object.freeze||t===t.window||"ownerDocument"in t)return t;if(!Object.isFrozen(t)&&Object.freeze(t),!e)return t;for(var i in t){var n=t[i];~"object,function".indexOf(typeof n)&&n&&o(n,e)}return t}function n(t,e){if(!Object.seal||t===t.window||"ownerDocument"in t)return t;if(!Object.isSealed(t)&&Object.seal(t),!e)return t;for(var i in t){var o=t[i];~"object,function".indexOf(typeof o)&&o&&n(o,e)}return t}t.MIXIN=e,t.UUID=i,t.FREEZE=o,t.SEAL=n}(MODULE||(MODULE={}));var MODULE;!function(){}(MODULE||(MODULE={}));var MODULE;!function(t){var e;!function(e){var i=function(){function e(e){this.NAME=t.DEF.NAME,this.NAMESPACE=t.DEF.NAMESPACE,this.UUID=t.UUID(),this.state_=0,this.state_=e}return e.prototype.MAIN=function(t){for(var e=[],i=1;i<arguments.length;i++)e[i-1]=arguments[i];return this.main_.apply(this,[t].concat(e))},e.prototype.main_=function(t){for(var e=[],i=1;i<arguments.length;i++)e[i-1]=arguments[i];return t},e}();e.Template=i}(e=t.MODEL||(t.MODEL={}))}(MODULE||(MODULE={}));var MODULE;!function(t){var e;!function(e){var i=function(){function e(e){this.UUID=t.UUID(),this.state_=0,this.state_=e}return e}();e.Template=i}(e=t.VIEW||(t.VIEW={}))}(MODULE||(MODULE={}));var __extends=this.__extends||function(t,e){function i(){this.constructor=t}for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o]);i.prototype=e.prototype,t.prototype=new i},MODULE;!function(t){var e;!function(e){var i=function(e){function i(i,o,n,s){var r=this;e.call(this,1),this.model_=i,this.controller_=o,this.context_=n,this.handlers={click:function(){r.controller_.click(arguments)},submit:function(){r.controller_.submit(arguments)},popstate:function(){r.controller_.popstate(arguments)},scroll:function(){r.controller_.scroll(arguments)}},t.FREEZE(this),this.observe_(s)}return __extends(i,e),i.prototype.observe_=function(t){return this.release_(t),t.link&&this.context_.delegate(t.link,t.nss.event.click,this.handlers.click),t.form&&this.context_.delegate(t.form,t.nss.event.submit,this.handlers.submit),jQuery(window).bind(t.nss.event.popstate,this.handlers.popstate),t.database.active&&t.fix.scroll&&jQuery(window).bind(t.nss.event.scroll,this.handlers.scroll),this},i.prototype.release_=function(t){return t.link&&this.context_.undelegate(t.link,t.nss.event.click),t.form&&this.context_.undelegate(t.form,t.nss.event.submit),jQuery(window).unbind(t.nss.event.popstate),t.database.active&&t.fix.scroll&&jQuery(window).unbind(t.nss.event.scroll),this},i}(e.Template);e.Main=i}(e=t.VIEW||(t.VIEW={}))}(MODULE||(MODULE={}));var MODULE;!function(t){t.View=t.VIEW.Main}(MODULE||(MODULE={}));var MODULE;!function(t){var e;!function(e){var i=function(){function e(){t.FREEZE(this)}return e.prototype.enable=function(){return t.Model.singleton().enable(),this},e.prototype.disable=function(){return t.Model.singleton().disable(),this},e.prototype.click=function(e,i){var o;switch(typeof e){case"undefined":o=jQuery(this).filter("a").first().clone();break;case"object":o=jQuery(e).clone();break;case"string":i=jQuery.extend(!0,{},i,{href:e}),o=jQuery("<a/>",i);break;default:return this}var n=t.Model.singleton().configure(o[0]);return n&&o.first().one(n.nss.event.click,function(){return t.Controller.singleton().click(arguments)}).click(),this},e.prototype.submit=function(e,i,o){var n,s,r,a=document.createDocumentFragment();switch(typeof e){case"undefined":n=jQuery(this).filter("form").first().clone();break;case"object":n=jQuery(e).clone();break;case"string":i=jQuery.extend(!0,{},i,{action:e}),s=o instanceof Array&&Array||o instanceof Object&&Object||undefined;for(var c in o){switch(s){case Object:if(!Object.prototype.hasOwnProperty.call(o,c))continue;r=jQuery("<textarea/>",{name:c}).val(o[c]);break;case Array:o[c].attrs=o[c].attrs||{},o[c].attrs.name=o[c].name||o[c].attrs.name,o[c].attrs.type=o[c].type||o[c].attrs.type,r=jQuery("<"+o[c].tag+"/>",o[c].attrs).val(o[c].value);break;default:continue}a.appendChild(r[0])}n=jQuery("<form/>",i).append(a);break;default:return this}var l=t.Model.singleton().configure(n[0]);return l&&n.first().one(l.nss.event.submit,function(){return t.Controller.singleton().submit(arguments)}).submit(),this},e.prototype.getCache=function(e){void 0===e&&(e=window.location.href);var i=t.Model.singleton().getCache(e);return i&&(i={data:i.data,textStatus:i.textStatus,jqXHR:i.jqXHR,expires:i.expires}),i},e.prototype.setCache=function(e,i,o,n){switch(void 0===e&&(e=window.location.href),arguments.length){case 0:return this.setCache(e,document.documentElement.outerHTML);case 1:return this.setCache(e,null);case 2:case 3:case 4:default:t.Model.singleton().setCache(e,i,o,n)}return this},e.prototype.removeCache=function(e){return void 0===e&&(e=window.location.href),t.Model.singleton().removeCache(e),this},e.prototype.clearCache=function(){return t.Model.singleton().clearCache(),this},e.prototype.follow=function(e,i,o,n){if(!t.Model.singleton().isDeferrable)return!1;var s=e.currentTarget;return i.follow=!0,i.host=o||"",isFinite(e.timeStamp)&&(i.timeStamp=n||e.timeStamp),t.Model.singleton().setXHR(i),jQuery.when(i).done(function(){!t.Model.singleton().getCache(s.href)&&t.Model.singleton().isOperatable(e)&&t.Model.singleton().setCache(s.href,undefined,undefined,i)}),jQuery[t.DEF.NAME].click(s.href),!0},e.prototype.bypass=function(){return t.Model.singleton().bypass()},e.prototype.host=function(){return t.Model.singleton().host()},e}();e.Functions=i}(e=t.CONTROLLER||(t.CONTROLLER={}))}(MODULE||(MODULE={}));var MODULE;!function(t){var e;!function(e){var i=function(){function e(){t.FREEZE(this)}return e}();e.Methods=i}(e=t.CONTROLLER||(t.CONTROLLER={}))}(MODULE||(MODULE={}));var MODULE;!function(t){var e;!function(e){var i=function(){function e(e,i){this.UUID=t.UUID(),this.state_=0,this.PROPERTIES=[],this.state_=i}return e.prototype.EXTEND=function(e){return e instanceof t.DEF.NAMESPACE?(e instanceof jQuery&&(e=e.add()),this.REGISTER_FUNCTION(e),this.REGISTER_METHOD(e)):(e!==this.EXTENSION&&(e=this.EXTENSION),this.REGISTER_FUNCTION(e)),this.UPDATE_PROPERTIES(e),e},e.prototype.REGISTER=function(e){var i=this;this.EXTENSION=this.EXTENSION||function(){for(var t=[],o=0;o<arguments.length;o++)t[o-0]=arguments[o];var n=i.EXTEND(this);return t=[n].concat(t),t=i.EXEC.apply(i,t),t instanceof Array?e.MAIN.apply(e,t):t},this.EXTEND(this.EXTENSION),window[t.DEF.NAMESPACE]=window[t.DEF.NAMESPACE]||{},t.DEF.NAMESPACE[t.DEF.NAME]=t.DEF.NAMESPACE.prototype?t.DEF.NAMESPACE.prototype[t.DEF.NAME]=this.EXTENSION:this.EXTENSION},e.prototype.EXEC=function(){return this.exec_.apply(this,arguments)},e.prototype.exec_=function(t){for(var e=[],i=1;i<arguments.length;i++)e[i-1]=arguments[i];return[t].concat(e)},e.prototype.REGISTER_FUNCTION=function(t){var e=this.FUNCTIONS;for(var i in e)"constructor"!==i&&(t[i]=e[i]);return t},e.prototype.REGISTER_METHOD=function(t){var e=this.METHODS;for(var i in e)"constructor"!==i&&(t[i]=e[i]);return t},e.prototype.UPDATE_PROPERTIES=function(t){var e,i,o,n=this.PROPERTIES;for(e=0,i=n.length;i>e;e++)"constructor"!==e&&(o=n[e],t[o]&&(t[o]=t[o]()));return t},e}();e.Template=i}(e=t.CONTROLLER||(t.CONTROLLER={}))}(MODULE||(MODULE={}));var MODULE;!function(t){var e;!function(e){var i=function(i){function o(o){i.call(this,o,1),this.model_=o,this.FUNCTIONS=new e.Functions,this.METHODS=new e.Methods,this.REGISTER(o),t.FREEZE(this)}return __extends(o,i),o.prototype.exec_=function(t){var e=[].slice.call(arguments,1,2),i=e[0];switch(typeof i){case"undefined":case"object":break;default:return t}return[t].concat(e)},o.prototype.view=function(e,i){return new t.View(this.model_,this,e,i)},o.prototype.click=function(t){this.model_.click.apply(this.model_,t)},o.prototype.submit=function(t){this.model_.submit.apply(this.model_,t)},o.prototype.popstate=function(t){this.model_.popstate.apply(this.model_,t)},o.prototype.scroll=function(t){this.model_.scroll.apply(this.model_,t)},o}(e.Template);e.Main=i;var o=function(){function e(o){void 0===o&&(o=t.Model.singleton()),e.instance_=e.instance_||new i(o)}return e.singleton=function(){return e.instance_},e.prototype.singleton=function(){return e.singleton()},e}();e.Singleton=o}(e=t.CONTROLLER||(t.CONTROLLER={}))}(MODULE||(MODULE={}));var MODULE;!function(t){t.Controller=t.CONTROLLER.Singleton}(MODULE||(MODULE={}));var MODULE;!function(t){var e;!function(t){var e=function(){function t(t,e){void 0===t&&(t=1),void 0===e&&(e=0),this.list_=[],this.config_={mode:1,size:0},this.table_={},this.option_={},this.config_.mode=t||this.config_.mode,this.config_.size=e||this.config_.size}return t.prototype.define=function(t,e,i){void 0===e&&(e=this.config_.mode),void 0===i&&(i=this.config_.size),this.option_[t]={mode:e,size:i},this.table_[t]=[]},t.prototype.reserve=function(t,e){switch(typeof t){case"string":!this.option_[t]&&this.define(t);var i=this.option_[t],o=this.table_[t],n=[].slice.call(arguments,2);break;case"function":e=t,t=undefined;var i=this.config_,o=this.list_,n=[].slice.call(arguments,1);break;default:return}if("function"==typeof e){var s;s=i.mode>0?"push":"unshift",o[s]([e,n.shift(),n])}},t.prototype.digest=function(t,e){switch(typeof t){case"string":!this.option_[t]&&this.define(t),e=e||0;var i=this.option_[t],o=this.table_[t];if(!o)return;break;case"number":case"undefined":e=t||0,t=undefined;var i=this.config_,o=this.list_;break;default:return}o.length>i.size&&i.size&&(i.mode>0?o.splice(0,o.length-i.size):o.splice(o.length-i.size,o.length));var n;for(e=e||-1;n=e--&&o.pop();)n.shift().apply(n.shift()||window,n.shift()||[]);if(undefined===t){var s=this.table_;for(var r in s)this.digest(r,e)}},t.prototype.clear=function(t){switch(typeof t){case"string":!this.option_[t]&&this.define(t),this.table_[t].splice(0,this.table_[t].length);break;default:var e=this.table_;for(var i in e)this.clear(i)}},t}();t.Task=e}(e=t.LIBRARY||(t.LIBRARY={}))}(MODULE||(MODULE={}));var MODULE;!function(t){var e;!function(t){var e;!function(t){var e;!function(t){var e;!function(t){var e;!function(t){var e=function(){function t(t){this.task_=t,this.labels_={done:"done",fail:"fail",always:"always"}}return t.prototype.done=function(t){return this.task_.reserve(this.labels_.done,t),this},t.prototype.fail=function(t){return this.task_.reserve(this.labels_.fail,t),this},t.prototype.always=function(t){return this.task_.reserve(this.labels_.always,t),this},t.prototype.resolve=function(){return this.task_.clear(this.labels_.fail),this.task_.digest(this.labels_.done),this.task_.digest(this.labels_.always),this},t.prototype.reject=function(){return this.task_.clear(this.labels_.done),this.task_.digest(this.labels_.fail),this.task_.digest(this.labels_.always),this},t}();t.Task=e;var i=function(t){function e(){t.apply(this,arguments)}return __extends(e,t),e}(e);t.TaskUp=i;var o=function(t){function e(){t.apply(this,arguments)}return __extends(e,t),e.prototype.done=function(){return this},e.prototype.fail=function(){return this},e.prototype.always=function(){return this},e.prototype.resolve=function(){return this},e}(e);t.TaskDown=o}(e=t.STATEFUL||(t.STATEFUL={}))}(e=t.DB||(t.DB={}))}(e=t.DATA||(t.DATA={}))}(e=t.APP||(t.APP={}))}(e=t.MODEL||(t.MODEL={}))}(MODULE||(MODULE={}));var MODULE;!function(t){var e;!function(e){var i;!function(e){var i;!function(e){var i;!function(e){var i=function(){function i(e,i,o){var n=this;this.origin_=e,this.connect_=i,this.extend_=o,this.state_=function(){return n.origin_.state()},this.task_=new t.LIBRARY.Task,this.cache_={stateful:{}}}return i.prototype.stateful_=function(){var t=this,i=function(e,i){return t.cache_.stateful[t.state_()]=t.cache_.stateful[t.state_()]||new e(t.origin_,t.connect_,t.extend_,t.task_,i)};switch(this.state_()){case 0:return i(e.STATE.Blank,!0);case 1:return i(e.STATE.Initiate,!0);case 2:return i(e.STATE.Open,!0);case 9:return i(e.STATE.Close,!0);case 8:return i(e.STATE.Terminate,!0);case 6:return i(e.STATE.Error,!1);default:return i(e.STATE.Except,!1)}},i.prototype.open=function(){return this.stateful_().open()},i.prototype.resolve=function(){return this.stateful_().resolve()},i.prototype.reject=function(){return this.stateful_().reject()},i}();e.Stateful=i}(i=e.DB||(e.DB={}))}(i=e.DATA||(e.DATA={}))}(i=e.APP||(e.APP={}))}(e=t.MODEL||(t.MODEL={}))}(MODULE||(MODULE={}));var MODULE;!function(t){var e;!function(t){var e;!function(t){var e;!function(t){var e;!function(t){var e;!function(e){var i=function(){function e(e,i,o,n,s){this.origin=e,this.connect=i,this.extend=o,this.task=s?new t.STATEFUL.TaskUp(n):new t.STATEFUL.TaskDown(n)}return e.prototype.open=function(){return this.task},e.prototype.resolve=function(){},e.prototype.reject=function(){this.task.reject()},e}();e.Default=i;var o=function(t){function e(){t.apply(this,arguments)}return __extends(e,t),e.prototype.open=function(){return this.connect(),this.task},e.prototype.resolve=function(){this.open()},e.prototype.reject=function(){this.task.reject()},e}(i);e.Blank=o;var n=function(t){function e(){t.apply(this,arguments)}return __extends(e,t),e.prototype.open=function(){return this.task},e.prototype.resolve=function(){},e.prototype.reject=function(){this.task.reject()},e}(i);e.Initiate=n;var s=function(t){function e(){t.apply(this,arguments)}return __extends(e,t),e.prototype.open=function(){var t=this;return this.extend(),setTimeout(function(){return t.origin.resolve()},1),this.task},e.prototype.resolve=function(){this.task.resolve()},e.prototype.reject=function(){this.task.reject()},e}(i);e.Open=s;var r=function(t){function e(){t.apply(this,arguments)}return __extends(e,t),e.prototype.open=function(){return this.connect(),this.task},e.prototype.resolve=function(){this.open()},e.prototype.reject=function(){this.task.reject()},e}(i);e.Close=r;var a=function(t){function e(){t.apply(this,arguments)}return __extends(e,t),e}(i);e.Terminate=a;var c=function(t){function e(){t.apply(this,arguments)}return __extends(e,t),e}(i);e.Error=c;var l=function(t){function e(){t.apply(this,arguments)}return __extends(e,t),e}(i);e.Except=l}(e=t.STATE||(t.STATE={}))}(e=t.DB||(t.DB={}))}(e=t.DATA||(t.DATA={}))}(e=t.APP||(t.APP={}))}(e=t.MODEL||(t.MODEL={}))}(MODULE||(MODULE={}));var MODULE;!function(t){var e;!function(t){var e;!function(t){var e;!function(t){var e=function(){function t(t){this.DB=t,this.autoIncrement=!1,this.indexes=[],this.size=100,this.buffer={},this.diff={}}return t.prototype.accessStore=function(t,e){var i=this;void 0===e&&(e="readwrite");try{var o=this.DB.database(),n=o&&o.transaction(this.name,e).objectStore(this.name)}catch(s){}n?t(n):this.DB.open().done(function(){return i.accessStore(t)})},t.prototype.accessCount=function(){var t="string"==typeof arguments[0]&&arguments[0],e=arguments[t?1:0];this.accessStore(function(i){var o=t?i.index(t).count():i.count();o.onsuccess=function(){e.apply(this,[].slice.call(arguments,1).concat(this.result))}})},t.prototype.accessRecord=function(t,e,i){this.accessStore(function(i){i.get(t).onsuccess=e},i)},t.prototype.accessCursor=function(t,e,i,o){this.accessStore(function(n){var s;s=i&&e?n.index(t).openCursor(e,i):e?n.index(t).openCursor(e):n.openCursor(),s.onsuccess=o})},t.prototype.accessAll=function(t,e,i,o){"function"==typeof t&&(o=t,t=null,e=null,i=null),this.accessCursor(t,e,i,o)},t.prototype.get=function(t,e){var i=this;this.accessRecord(t,function(t){i.setBuffer(t.target.result),e(t)})},t.prototype.set=function(t,e){var i=this;t=jQuery.extend(!0,{},t),this.setBuffer(t,e),this.accessRecord(t[this.keyPath],function(o){o.target.source.put(e?jQuery.extend(!0,{},o.target.result,t):t),i.autoIncrement||delete i.diff[t[i.keyPath]]})},t.prototype.remove=function(t){this.removeBuffer(t),this.accessStore(function(e){e["delete"](t)})},t.prototype.clear=function(){this.clearBuffer(),this.accessStore(function(t){t.clear()})},t.prototype.clean=function(){var t=this;if(this.size&&this.indexes.length){var e=this.indexes[0].name,i=this.size;this.accessCount(e,function(o){i>=o||(i=o-i,t.accessCursor(e,t.DB.IDBKeyRange.upperBound(1/0),"next",function(e){if(e.target.result&&i--){var o=e.target.result;delete t.diff[o.primaryKey],o["delete"](),o["continue"]()}}))})}},t.prototype.loadBuffer=function(t){function e(){if(!this.result)return t&&t();var e=this.result;i[e.primaryKey]=e.value,e["continue"]()}if(!this.autoIncrement){var i=this.buffer;this.indexes.length?this.DB.IDBKeyRange&&this.accessAll(this.indexes[0].name,this.DB.IDBKeyRange.upperBound(1/0),"prev",e):this.accessAll(e)}},t.prototype.saveBuffer=function(t){var e=this;this.autoIncrement||this.accessStore(function(i){for(var o in e.diff)i.put(e.diff[o]);t&&t()})},t.prototype.getBuffers=function(){return this.buffer},t.prototype.setBuffers=function(t,e){for(var i in t)this.setBuffer(t[i],e);return this.buffer},t.prototype.getBuffer=function(t){return this.autoIncrement?void 0:this.buffer[t]},t.prototype.setBuffer=function(t,e){if(!this.autoIncrement){if(!t)return t;var i=t[this.keyPath];return this.buffer[i]=e?jQuery.extend(!0,{},this.buffer[i],t):t,this.diff[i]=this.buffer[i],this.buffer[i]}},t.prototype.removeBuffer=function(t){if(!this.autoIncrement){var e=this.buffer[t];return delete this.buffer[t],delete this.diff[t],e}},t.prototype.clearBuffer=function(){if(!this.autoIncrement){for(var t in this.buffer)delete this.buffer[t];for(var t in this.diff)delete this.diff[t]}},t}();t.Store=e}(e=t.DATA||(t.DATA={}))}(e=t.APP||(t.APP={}))}(e=t.MODEL||(t.MODEL={}))}(MODULE||(MODULE={}));var MODULE;!function(t){var e;!function(t){var e;!function(t){var e;!function(t){var e;!function(e){var i=function(t){function e(){t.apply(this,arguments),this.name="meta",this.keyPath="key",this.autoIncrement=!1,this.size=0}return __extends(e,t),e}(t.Store);e.Meta=i}(e=t.STORE||(t.STORE={}))}(e=t.DATA||(t.DATA={}))}(e=t.APP||(t.APP={}))}(e=t.MODEL||(t.MODEL={}))}(MODULE||(MODULE={}));var MODULE;!function(t){var e;!function(t){var e;!function(t){var e;!function(t){var e;!function(e){var i=function(t){function e(){t.apply(this,arguments),this.name="history",this.keyPath="url",this.autoIncrement=!1,this.indexes=[{name:"date",keyPath:"date",option:{unique:!1}}],this.size=300}return __extends(e,t),e}(t.Store);e.History=i}(e=t.STORE||(t.STORE={}))}(e=t.DATA||(t.DATA={}))}(e=t.APP||(t.APP={}))}(e=t.MODEL||(t.MODEL={}))}(MODULE||(MODULE={}));var MODULE;!function(t){var e;!function(t){var e;!function(t){var e;!function(t){var e;!function(e){var i=function(t){function e(){t.apply(this,arguments),this.name="server",this.keyPath="host",this.autoIncrement=!1,this.indexes=[{name:"score",keyPath:"score",option:{unique:!1}}],this.size=100}return __extends(e,t),e}(t.Store);e.Server=i}(e=t.STORE||(t.STORE={}))}(e=t.DATA||(t.DATA={}))}(e=t.APP||(t.APP={}))}(e=t.MODEL||(t.MODEL={}))}(MODULE||(MODULE={}));var MODULE;!function(t){var e;!function(e){var i;!function(e){var i;!function(e){var i=function(){function i(){var i=this;this.IDBFactory=window.indexedDB||window.webkitIndexedDB||window.mozIndexedDB||window.msIndexedDB,this.IDBKeyRange=window.IDBKeyRange||window.webkitIDBKeyRange||window.mozIDBKeyRange||window.msIDBKeyRange,this.name=t.DEF.NAME,this.version=10,this.refresh=10,this.upgrade=0,this.revision=0,this.state_=0,this.stateful=new e.DB.Stateful(this,function(){return i.connect()},function(){return i.extend()}),this.age=1e4,this.expires=0,this.timer=0,this.stores={meta:new e.STORE.Meta(this),history:new e.STORE.History(this),server:new e.STORE.Server(this)},this.meta={version:{key:"version",value:undefined},update:{key:"update",value:undefined},revision:{key:"revision",value:undefined}}}return i.prototype.state=function(){return this.state_},i.prototype.extend=function(){var t=this;this.expires=(new Date).getTime()+this.age,clearTimeout(this.timer),this.timer=setTimeout(function(){return t.check()},this.age)},i.prototype.check=function(){!this.age||(new Date).getTime()<=this.expires||2===this.state()&&this.close()},i.prototype.database=function(){return this.extend(),this.database_},i.prototype.configure=function(t,e){this.revision=t,this.refresh=e},i.prototype.up=function(){this.state_=0,this.open()},i.prototype.down=function(){this.reject(),this.close(),this.state_=6},i.prototype.open=function(){return!this.IDBFactory&&this.down(),this.stateful.open()},i.prototype.close=function(){this.database_&&this.database_.close&&this.database_.close(),this.state_=9},i.prototype.resolve=function(){this.stateful.resolve()},i.prototype.reject=function(){this.stateful.reject()},i.prototype.connect=function(){this.create()},i.prototype.create=function(){var t=this;try{this.close(),this.state_=1;var e=this.IDBFactory.open(this.name,this.upgrade?this.version:1),i=function(){t.verify(function(){t.state_=2,t.resolve(),t.extend()})};if("done"===e.readyState)this.database_=e.result,this.database()?i():this.format();else{var o=setTimeout(function(){return t.down()},3e3);e.onblocked=function(){clearTimeout(o),t.database_=e.result,t.close(),setTimeout(function(){return t.open()},1e3)},e.onupgradeneeded=function(){clearTimeout(o),t.database_=e.result,t.createStores()},e.onsuccess=function(){clearTimeout(o),t.database_=e.result,i()},e.onerror=function(){clearTimeout(o),t.database_=e.result,t.down()}}}catch(n){this.down()}},i.prototype.destroy=function(t,e){var i=this;try{this.close(),this.state_=8;var o=this.IDBFactory.deleteDatabase(this.name);o&&(o.onsuccess=t,o.onerror=e),setTimeout(function(){return 8===i.state()&&i.down()},3e3)}catch(n){this.down()}},i.prototype.format=function(){var t=this;this.destroy(function(){return t.up()},function(){return t.down()})},i.prototype.verify=function(t){var e=this,i=this.database(),o=this.version,n=this.revision,s=this.meta,r=this.stores.meta,a=function(){return e.format()};if(i.objectStoreNames.length!==Object.keys(this.stores).length)return void a();for(var c in this.stores){var l=i.transaction(this.stores[c].name,"readonly").objectStore(this.stores[c].name);switch(!1){case l.keyPath===this.stores[c].keyPath:case l.indexNames.length===this.stores[c].indexes.length:return void a()}}var h=!1;r.get(s.version.key,function(t){if(!h){var i=t.target.result;!i||e.upgrade?r.set(r.setBuffer({key:s.version.key,value:o})):i.value>o?(h=!0,e.down()):i.value<o&&(h=!0,a())}}),r.get(s.revision.key,function(t){if(!h){var i=t.target.result;i?i.value>n?(h=!0,e.down()):i.value<n&&(h=!0,a()):r.set(r.setBuffer({key:s.revision.key,value:n}))}}),r.get(s.update.key,function(i){if(!h){var o=i.target.result,n=Math.floor((new Date).getTime()/864e5);o&&e.refresh?o.value>n?t():o.value<=n&&a():(r.set(r.setBuffer({key:s.update.key,value:n+e.refresh})),t())}})},i.prototype.createStores=function(){this.destroyStores();var t=this.database();for(var e in this.stores)for(var i,o=this.stores[e],n=t.createObjectStore(o.name,{keyPath:o.keyPath,autoIncrement:o.autoIncrement}),s=0,r=o.indexes;i=r[s];s++)n.createIndex(i.name,i.keyPath,i.option)},i.prototype.destroyStores=function(){for(var t=this.database(),e=t.objectStoreNames?t.objectStoreNames.length:0;e--;)t.deleteObjectStore(t.objectStoreNames[e])},i}();e.Database=i}(i=e.DATA||(e.DATA={}))}(i=e.APP||(e.APP={}))}(e=t.MODEL||(t.MODEL={}))}(MODULE||(MODULE={}));var MODULE;!function(t){var e;!function(t){var e;!function(t){var e;!function(t){var e=function(){function t(t){this.age_=t}return t.prototype.getCookie=function(t){if(t&&window.navigator.cookieEnabled){var e=new RegExp("(?:^|; )("+encodeURIComponent(t)+"=[^;]*)"),i=(document.cookie.match(e)||[]).pop();return i&&decodeURIComponent(i.split("=").pop())}},t.prototype.setCookie=function(t,e,i){return void 0===i&&(i={}),t&&window.navigator.cookieEnabled?(i.age=i.age||this.age_,document.cookie=[encodeURIComponent(t)+"="+encodeURIComponent(e),i.age?"; expires="+new Date((new Date).getTime()+1e3*i.age).toUTCString():"",i.path?"; path="+i.path:"; path=/",i.secure?"; secure":""].join(""),this.getCookie(t)):void 0},t}();t.Cookie=e}(e=t.DATA||(t.DATA={}))}(e=t.APP||(t.APP={}))}(e=t.MODEL||(t.MODEL={}))}(MODULE||(MODULE={}));var MODULE;!function(t){var e;!function(t){var e;!function(t){var e;!function(t){var e=function(){function e(){this.DB=new t.Database,this.Cookie=new t.Cookie(864e3)}return e}();t.Main=e}(e=t.DATA||(t.DATA={}))}(e=t.APP||(t.APP={}))}(e=t.MODEL||(t.MODEL={}))}(MODULE||(MODULE={}));var MODULE;!function(t){var e;!function(t){var e=function(){function t(){}return t.trim=function(t){if(t="string"==typeof t?t:String(0===t&&t.toString()||""),t.trim)t=t.trim();else if(t=t.replace(/^[\s\uFEFF\xA0]+/,"")){var e=/[\s\uFEFF\xA0]/,i=t.length,o=i%8;t:{for(;o--;)if(!e.test(t.charAt(--i)))break t;for(;i;){if(!e.test(t.charAt(--i)))break t;if(!e.test(t.charAt(--i)))break t;if(!e.test(t.charAt(--i)))break t;if(!e.test(t.charAt(--i)))break t;if(!e.test(t.charAt(--i)))break t;if(!e.test(t.charAt(--i)))break t;if(!e.test(t.charAt(--i)))break t;if(!e.test(t.charAt(--i)))break t}}t=t.substring(0,i+1)}return t},t.repeat=function(t,e){switch(t instanceof Array&&"array"||typeof t){case"string":var i=t;return Array(e+1).join(i);case"array":var o=t.length;if(300>e){var n=Array(e);this.duff(-e,function(e){return n[e]=t[e%o]})}else{for(var n=t.slice();2*n.length<=e;)n=n.concat(n);n=n.concat(n.slice(0,e-n.length))}return n}},t.fire=function(t,e,i,o){return void 0===e&&(e=window),void 0===i&&(i=[]),"function"==typeof t?o?setTimeout(function(){t.apply(e||window,i)},0):t.apply(e||window,i):t},t.duff=function(t,e){if(0>t){for(var i=-t,o=i%8;o--;)e(--i);for(;i;)e(--i),e(--i),e(--i),e(--i),e(--i),e(--i),e(--i),e(--i)}else{for(var n=t,i=0,o=n%8,s=n/8^0;o--;)e(i++);for(;s--;)e(i++),e(i++),e(i++),e(i++),e(i++),e(i++),e(i++),e(i++)}},t.duffEx=function(t,e){if(0>t){var i=-t,o=i%8;t:{for(;o--;)if(!1===e(--i))break t;for(;i;){if(!1===e(--i))break t;
if(!1===e(--i))break t;if(!1===e(--i))break t;if(!1===e(--i))break t;if(!1===e(--i))break t;if(!1===e(--i))break t;if(!1===e(--i))break t;if(!1===e(--i))break t}}}else{var n=t,i=0,o=n%8,s=n/8^0;t:{for(;o--;)if(!1===e(i++))break t;for(;s--;){if(!1===e(i++))break t;if(!1===e(i++))break t;if(!1===e(i++))break t;if(!1===e(i++))break t;if(!1===e(i++))break t;if(!1===e(i++))break t;if(!1===e(i++))break t;if(!1===e(i++))break t}}}},t.normalizeUrl=function(t,e){void 0===e&&(e=!0);var i;return i=this.trim(t),i=/^([^:/?#]+):\/\/[^/?#.]+\.[^/?#]+/i.test(i)?i:function(t,e){return e.href=t,e.href}(i,document.createElement("a")),i=encodeURI(decodeURI(i)),i=i.replace(/["`^|\\<>{}\[\]\s].*/,""),i=e?this.justifyPercentEncodingUrlCase_(t,i):i},t.canonicalizeUrl=function(t){function e(t){return t.toUpperCase()}var i=this.normalizeUrl(t,!1);return i=i.replace(/(?:%\w{2})+/g,e)},t.compareUrl=function(t,e){return t=this.canonicalizeUrl(t),e=this.canonicalizeUrl(e),t===e},t.justifyPercentEncodingUrlCase_=function(t,e){function i(e){var i=~t.indexOf(e.toUpperCase())||~t.indexOf(e.toLowerCase());return i?t.substr(~i,e.length):e}return t===e?e:e.replace(/(?:%\w{2})+/g,i)},t}();t.Utility=e}(e=t.LIBRARY||(t.LIBRARY={}))}(MODULE||(MODULE={}));var MODULE;!function(t){var e;!function(e){var i;!function(e){var i=function(){function i(i){this.model_=i,this.data_=new e.DATA.Main,this.stores_=this.data_.DB.stores,this.util_=t.LIBRARY.Utility}return i.prototype.getCookie=function(t){return this.data_.Cookie.getCookie(t)},i.prototype.setCookie=function(t,e,i){return this.data_.Cookie.setCookie(t,e,i)},i.prototype.connect=function(t){t.database.active?(this.data_.DB.configure(t.database.revision,t.database.refresh),this.data_.DB.up(),this.saveTitle(),this.saveScrollPosition()):this.data_.DB.down()},i.prototype.loadBuffers=function(){for(var t in this.stores_)this.stores_[t].loadBuffer()},i.prototype.saveBuffers=function(){for(var t in this.stores_)this.stores_[t].saveBuffer()},i.prototype.getHistoryBuffer=function(t){return this.stores_.history.getBuffer(this.model_.convertUrlToKey(t,!0))},i.prototype.loadTitle=function(){var t=this,e=this.model_.convertUrlToKey(window.location.href,!0),i=this.stores_.history.getBuffer(e);i&&"string"==typeof i.title?document.title=i.title:this.stores_.history.get(e,function(o){i=o.target.result,i&&i.title&&t.model_.compareKeyByUrl(e,t.util_.canonicalizeUrl(window.location.href))&&(document.title=i.title)})},i.prototype.saveTitle=function(t,e){void 0===t&&(t=window.location.href),void 0===e&&(e=document.title);var i=this.model_.convertUrlToKey(t,!0),o={url:i,title:e,date:(new Date).getTime(),scrollX:undefined,scrollY:undefined,host:undefined,expires:undefined};this.stores_.history.set(o,!0),this.stores_.history.clean()},i.prototype.loadScrollPosition=function(){function t(t,e){"number"==typeof t&&"number"==typeof e&&window.scrollTo(parseInt(Number(t)+"",10),parseInt(Number(e)+"",10))}var e=this,i=this.model_.convertUrlToKey(window.location.href,!0),o=this.stores_.history.getBuffer(i);o&&"number"==typeof o.scrollX?t(o.scrollX,o.scrollY):this.stores_.history.get(i,function(n){o=n.target.result,o&&"number"==typeof o.scrollX&&e.model_.compareKeyByUrl(i,e.util_.canonicalizeUrl(window.location.href))&&t(o.scrollX,o.scrollY)})},i.prototype.saveScrollPosition=function(t,e,i){void 0===t&&(t=window.location.href),void 0===e&&(e=jQuery(window).scrollLeft()),void 0===i&&(i=jQuery(window).scrollTop());var o=this.model_.convertUrlToKey(t,!0),n={url:o,scrollX:e,scrollY:i,date:(new Date).getTime(),title:undefined,host:undefined,expires:undefined};this.stores_.history.set(n,!0)},i.prototype.loadExpires=function(){},i.prototype.saveExpires=function(t,e,i){var o=this.model_.convertUrlToKey(t,!0),n={url:o,host:e||"",expires:i,title:undefined,scrollX:undefined,scrollY:undefined,date:undefined};this.stores_.history.set(n,!0)},i.prototype.getServerBuffers=function(){return this.stores_.server.getBuffers()},i.prototype.getServerBuffer=function(t){var e=this.model_.convertUrlToKey(t,!0).split("//").pop().split("/").shift();return e=this.model_.compareKeyByUrl("http://"+e,"http://"+window.location.host)?"":e,this.stores_.server.getBuffer(e)},i.prototype.loadServer=function(){},i.prototype.saveServer=function(t,e,i,o,n){t=t.split("//").pop().split("/").shift(),t=this.model_.compareKeyByUrl("http://"+t,"http://"+window.location.host)?"":t;var s={host:t,time:Math.max(i,1),score:o,state:n,expires:e};this.stores_.server.set(s,!0),this.stores_.server.clean()},i.prototype.removeServer=function(t){this.stores_.server.remove(t),this.stores_.server.clean()},i}();e.Data=i}(i=e.APP||(e.APP={}))}(e=t.MODEL||(t.MODEL={}))}(MODULE||(MODULE={}));var MODULE;!function(t){var e;!function(e){var i;!function(e){var i=function(){function e(e){this.data_=e,this.util_=t.LIBRARY.Utility,this.force_=!1,this._host="",this.parallel_=4}return e.prototype.host_=function(t,e){return e&&(this._host=this.sanitize(t,e)),this._host},e.prototype.host=function(){return this.host_()},e.prototype.sanitize=function(t,e){var i;switch(t&&typeof t){case"string":i=t;break;case"object":var o=t;i=4===o.readyState&&o.getResponseHeader(e.balance.server.header)||o.host}return i=i||"",!/[/?#"`^|\\<>{}\[\]\s]/.test(i)&&e.balance.bounds.test(i)&&i},e.prototype.enable=function(t){return t.balance.active&&t.balance.client.support.browser.test(window.navigator.userAgent)?(this.data_.setCookie(t.balance.client.cookie.balance,"1"),void(t.balance.client.support.redirect.test(window.navigator.userAgent)&&this.data_.setCookie(t.balance.client.cookie.redirect,"1"))):void this.disable(t)},e.prototype.disable=function(t){this.data_.getCookie(t.balance.client.cookie.balance)&&this.data_.setCookie(t.balance.client.cookie.balance,"0"),this.data_.getCookie(t.balance.client.cookie.redirect)&&this.data_.setCookie(t.balance.client.cookie.redirect,"0"),this.changeServer("",t)},e.prototype.score=function(t,e){return Math.max(Math.round(e/t*1e3),0)},e.prototype.changeServer=function(t,e){return e.balance.active?(this.host_(t,e),this.data_.setCookie(e.balance.client.cookie.host,t)):this.host_("",e),this.host()},e.prototype.chooseServers_=function(t){function e(t,e){return+e-+t}var i=this,o=t.balance.server.respite,n=t.balance.weight,s=t.ajax.timeout,r=t.balance.client.hosts.slice();r=this.force_?jQuery.grep(r,function(t){return!!t}):r,function(){var e=i.data_.getCookie(t.balance.client.cookie.host);(!i.force_||e)&&(e===i.sanitize(e,t)?!~jQuery.inArray(e,r)&&r.unshift(e):i.data_.setCookie(t.balance.client.cookie.host,""))}();var a=this.data_.getServerBuffers(),c={};jQuery.each(Object.keys(a),function(e,o){var n=a[o];~jQuery.inArray(n.host,r)&&r.splice(jQuery.inArray(n.host,r),1),(!i.force_||n.host)&&(n.host===i.sanitize(n.host,t)&&n.expires>(new Date).getTime()?c[n.score]=n:i.data_.removeServer(n.host))});var l,h=Object.keys(c).sort(e),u=[];for(jQuery.each(h,function(e){var a=c[h[e]],p=a.host,d=a.time,f=a.score,m=a.state;if(~jQuery.inArray(p,r)&&r.splice(jQuery.inArray(p,r),1),!(m+o>=(new Date).getTime())){switch(m&&i.data_.removeServer(a.host),!0){case u.length>=t.balance.random:return!1;case n&&!p&&!!Math.floor(Math.random()*n):case s&&d>=s:case u.length>=Math.min(Math.floor(h.length/2),3)&&l&&d>=l.time+500&&s&&d>=2*s/3:case u.length>=Math.min(Math.floor(h.length/2),3)&&l&&f<=l.score/2:return}l=l||a,u.push(p)}});r.length;)u.push(r.splice(Math.floor(Math.random()*r.length),1).shift());return u},e.prototype.chooseServer=function(t){if(!t.balance.active)return"";var e,i=this.data_.getHistoryBuffer(t.destLocation.href);switch(!1){case i&&i.host===this.sanitize(i.host,t):this.data_.saveExpires(i.url,"",0);case!!i:case!!i.expires&&i.expires>=(new Date).getTime():case!!i.host||!this.force_:break;default:return i.host||""}return e=this.chooseServers_(t),e.slice(Math.floor(Math.random()*Math.min(e.length,6))).shift()||""},e.prototype.bypass=function(t){var e=this;this.force_=!0;var i=jQuery.Deferred();if(!t.balance.active)return i.reject();var o=this.parallel_,n=this.chooseServers_(t),s=jQuery.extend({},t.ajax,t.balance.option.ajax);n=jQuery.grep(n,function(t){return!!t});for(var r=0,a=n.length,c=function(o){var l=e,h=(new Date).getTime();"pending"===i.state()&&jQuery.ajax(jQuery.extend({},s,{url:l.util_.normalizeUrl(window.location.protocol+"//"+o+window.location.pathname.replace(/^\/?/,"/")+window.location.search),xhr:t.balance.option.callbacks.ajax.xhr?function(){var e;return e=l.util_.fire(t.balance.option.callbacks.ajax.xhr,this,[event,t]),e="object"==typeof e?e:jQuery.ajaxSettings.xhr()}:undefined,beforeSend:t.balance.option.callbacks.ajax.beforeSend||t.server.header?function(e,i){t.server.header&&e.setRequestHeader(t.nss.requestHeader,"true"),"object"==typeof t.server.header&&(e.setRequestHeader(t.nss.requestHeader,"true"),t.server.header.area&&e.setRequestHeader(t.nss.requestHeader+"-Area",this.app_.chooseArea(t.area,document,document)),t.server.header.head&&e.setRequestHeader(t.nss.requestHeader+"-Head",t.load.head),t.server.header.css&&e.setRequestHeader(t.nss.requestHeader+"-CSS",t.load.css.toString()),t.server.header.script&&e.setRequestHeader(t.nss.requestHeader+"-Script",t.load.script.toString())),l.util_.fire(t.balance.option.callbacks.ajax.beforeSend,this,[event,t,e,i])}:undefined,dataFilter:t.balance.option.callbacks.ajax.dataFilter?function(e,i){return l.util_.fire(t.balance.option.callbacks.ajax.dataFilter,this,[event,t,e,i])||e}:undefined,success:function(e,i,n){h=(new Date).getTime()-h;var s=l.data_.getServerBuffer(this.url),r=l.score(h,n.responseText.length);h=s&&!s.state&&s.time?Math.round((s.time+h)/2):h,r=s&&!s.state&&s.score?Math.round((s.score+r)/2):r,l.data_.saveServer(o,(new Date).getTime()+t.balance.server.expires,h,r,0),o=l.sanitize(n,t)||o,l.util_.fire(t.balance.option.ajax.success,this,arguments)},error:function(){l.data_.saveServer(o,(new Date).getTime()+t.balance.server.expires,0,0,(new Date).getTime()),o=null,l.util_.fire(t.balance.option.ajax.error,this,arguments)},complete:function(){l.util_.fire(t.balance.option.ajax.complete,this,arguments),++r,i.notify(r,a,o),o?(l.host_(o,t),n.splice(0,n.length),i.resolve(o)):!l.host()&&n.length?c(n.shift()):i.reject()}}))};o--&&n.length;)c(n.shift());return i},e}();e.Balancer=i}(i=e.APP||(e.APP={}))}(e=t.MODEL||(t.MODEL={}))}(MODULE||(MODULE={}));var MODULE;!function(t){var e;!function(t){var e;!function(t){var e=function(){function t(t,e,o,n,s){this.data_=t?{url:t,data:e,textStatus:o,jqXHR:n,host:s}:{url:undefined,data:undefined,textStatus:undefined,jqXHR:undefined,host:undefined},this.data=new i(this.data_)}return t.prototype.state=function(t){var e=t?t.cache.expires.min:undefined,i=t?t.cache.expires.max:undefined;switch(!1){case this.data.jqXHR()&&200===+this.data.jqXHR().status:case this.data.expires(e,i)>=(new Date).getTime():return!1;default:return!0}},t}();t.PageRecord=e;var i=function(){function t(t){this.data_=t}return t.prototype.url=function(){return this.data_.url},t.prototype.data=function(){return this.data_.data},t.prototype.textStatus=function(){return this.data_.textStatus},t.prototype.jqXHR=function(){return this.data_.jqXHR},t.prototype.host=function(){return this.data_.host},t.prototype.expires=function(t,e){if(!this.jqXHR()&&!this.data())return 0;var i,o=this.jqXHR();switch(o&&(o.timeStamp=o.timeStamp||new Date(o.getResponseHeader("Date")).getTime()||(new Date).getTime()),!0){case!o:i=0;break;case/no-store|no-cache/.test(o.getResponseHeader("Cache-Control")):i=0;break;case!!o.getResponseHeader("Cache-Control")&&!!~o.getResponseHeader("Cache-Control").indexOf("max-age="):i=new Date(o.getResponseHeader("Date")||new Date(o.timeStamp).toString()).getTime()+1e3*+o.getResponseHeader("Cache-Control").match(/max-age=(\d*)/).pop();break;case!!o.getResponseHeader("Expires"):i=new Date(o.getResponseHeader("Expires")).getTime();break;default:i=0}return(undefined!==t||undefined!==e)&&(i="number"==typeof t?Math.max(t+(new Date).getTime(),i):i,i="number"==typeof e?Math.min(e+(new Date).getTime(),i):i),i=Math.max(i,0)||0},t}();t.PageRecordData=i}(e=t.APP||(t.APP={}))}(e=t.MODEL||(t.MODEL={}))}(MODULE||(MODULE={}));var MODULE;!function(t){var e;!function(t){var e;!function(t){var e=function(){function t(){}return t.prototype.chooseArea=function(t,e,i){t=t instanceof Array?t:[t];var o,n=-1;t:for(;o=t[++n];){for(var s=o.match(/(?:[^,\(\[]+|\(.*?\)|\[.*?\])+/g),r=-1;s[++r];)if(!jQuery(s[r],e).length||!jQuery(s[r],i).length)continue t;return o}},t.prototype.dispatchEvent=function(t,e,i,o){var n=document.createEvent("HTMLEvents");n.initEvent(e,i,o),t.dispatchEvent(n)},t}();t.PageUtility=e}(e=t.APP||(t.APP={}))}(e=t.MODEL||(t.MODEL={}))}(MODULE||(MODULE={}));var MODULE;!function(t){var e;!function(e){var i;!function(e){var i=function(){function e(e,i,o,n,s,r,a){this.model_=e,this.page_=i,this.balancer_=o,this.setting_=n,this.event_=s,this.success_=r,this.failure_=a,this.util_=t.LIBRARY.Utility,this.main_()}return e.prototype.main_=function(){function e(){return n.call(this,[].slice.call(arguments),undefined)}function i(){return s.apply(this,arguments)}function o(){return r.apply(this,arguments)}function n(t){arguments.length&&arguments[0]&&(a.data_=t[0],a.textStatus_=t[1],a.jqXHR_=t[2],a.util_.fire(c.callbacks.ajax.success,this[0]||this,[l,c,a.data_,a.textStatus_,a.jqXHR_]))}function s(t,e,i){arguments.length&&arguments[0]&&(a.jqXHR_=t,a.textStatus_=e,a.errorThrown_=i,a.util_.fire(c.callbacks.ajax.error,this[0]||this,[l,c,a.jqXHR_,a.textStatus_,a.errorThrown_]))}function r(){arguments.length&&arguments[0]&&(a.util_.fire(c.callbacks.ajax.complete,this[0]||this,[l,c,a.jqXHR_,a.textStatus_]),a.model_.setXHR(null),200===+a.jqXHR_.status?(a.model_.setCache(c.destLocation.href,d&&d.data||null,a.textStatus_,a.jqXHR_),a.success_(c,l,a.data_,a.textStatus_,a.jqXHR_,a.host_)):a.failure_(c,l,a.data_,a.textStatus_,a.jqXHR_,a.host_))}var a=this,c=this.setting_,l=this.event_=jQuery.extend(!0,{},this.event_),h=this.util_.fire(c.wait,c,[l,c,c.origLocation.cloneNode(),c.destLocation.cloneNode()]),u=c.speedcheck,p=this.model_.speed;u&&(p.fire=l.timeStamp),u&&p.time.splice(0,100,0),u&&p.name.splice(0,100,"pjax("+p.time.slice(-1)+")");var d;switch(c.cache[l.type.toLowerCase()]&&l.type.toLowerCase()){case t.EVENT.CLICK:d=this.model_.getCache(c.destLocation.href);break;case t.EVENT.SUBMIT:d=c.cache[l.currentTarget.method.toLowerCase()]?this.model_.getCache(c.destLocation.href):d;break;case t.EVENT.POPSTATE:d=this.model_.getCache(c.destLocation.href)}var f=this.model_.getXHR();if(!(f&&f.readyState<4&&f.location&&this.model_.comparePageByUrl(f.location.href,c.destLocation.href)))if(this.dispatchEvent(document,c.nss.event.pjax.fetch,!1,!1),d&&d.jqXHR&&200===+d.jqXHR.status)if(u&&p.name.splice(0,1,"cache("+p.time.slice(-1)+")"),f=d.jqXHR,f.location=f.location||c.destLocation.cloneNode(),this.model_.setXHR(f),this.page_.loadtime=0,this.host_=this.balancer_.sanitize(d.host,c),this.data_=d.jqXHR.responseText,this.textStatus_=d.textStatus,this.jqXHR_=d.jqXHR,this.model_.isDeferrable){var m=this.wait_(h);this.page_.setWait(m),jQuery.when(jQuery.Deferred().resolve(this.data_,this.textStatus_,this.jqXHR_),m).done(n).fail(s).always(r)}else{var v=jQuery.extend({},jQuery.ajaxSettings,c.ajax);v=v.context||v,e.call(v,this.data_,this.textStatus_,this.jqXHR_),o.call(v,this.jqXHR_,this.textStatus_)}else if(f&&f.follow&&!~"error abort timeout parsererror".indexOf(f.statusText)){u&&p.time.splice(0,1,f.timeStamp-p.fire),u&&p.name.splice(0,1,"preload("+p.time.slice(-1)+")"),u&&p.time.push(p.now()-p.fire),u&&p.name.push("continue("+p.time.slice(-1)+")"),f.location=c.destLocation.cloneNode(),this.model_.setXHR(f),this.balancer_.sanitize(f,c),this.balancer_.changeServer(f.host,c),this.host_=this.model_.host(),this.page_.loadtime=f.timeStamp;var m=this.wait_(h);this.page_.setWait(m),delete f.timeStamp,jQuery.when(f,m).done(n).fail(s).always(r)}else{this.page_.loadtime=l.timeStamp;var y=c.destLocation.cloneNode(),g={};switch(this.balancer_.changeServer(this.balancer_.chooseServer(c),c),this.host_=c.balance.active&&this.model_.host().split("//").pop()||"",y.host=this.host_||c.destLocation.host,g.url=c.server.query?[y.protocol,"//",y.host,y.pathname.replace(/^\/?/,"/"),y.search.replace(/&*$/,"&"+c.server.query).replace(/^\??&/,"?").replace(/(\?|&)$/,""),y.hash].join(""):y.href,l.type.toLowerCase()){case t.EVENT.CLICK:g.type="GET";break;case t.EVENT.SUBMIT:switch(g.type=l.currentTarget.method.toUpperCase(),g.type){case"POST":jQuery(l.currentTarget).has(":file").length?"function"==typeof FormData&&(g.data=(new FormData)(l.currentTarget),g.contentType=!1,g.processData=!1):g.data=jQuery(l.currentTarget).serializeArray();break;case"GET":}break;case t.EVENT.POPSTATE:g.type="GET"}if(g=jQuery.extend({},c.ajax,g,{xhr:c.callbacks.ajax.xhr?function(){var t;return t=a.util_.fire(c.callbacks.ajax.xhr,this,[l,c]),t="object"==typeof t?t:jQuery.ajaxSettings.xhr()}:undefined,beforeSend:c.callbacks.ajax.beforeSend||c.server.header?function(t,e){c.server.header&&t.setRequestHeader(c.nss.requestHeader,"true"),"object"==typeof c.server.header&&(t.setRequestHeader(c.nss.requestHeader,"true"),c.server.header.area&&t.setRequestHeader(c.nss.requestHeader+"-Area",this.app_.chooseArea(c.area,document,document)),c.server.header.head&&t.setRequestHeader(c.nss.requestHeader+"-Head",c.load.head),c.server.header.css&&t.setRequestHeader(c.nss.requestHeader+"-CSS",c.load.css.toString()),c.server.header.script&&t.setRequestHeader(c.nss.requestHeader+"-Script",c.load.script.toString())),a.util_.fire(c.callbacks.ajax.beforeSend,this,[l,c,t,e])}:undefined,dataFilter:c.callbacks.ajax.dataFilter?function(t,e){return a.util_.fire(c.callbacks.ajax.dataFilter,this,[l,c,t,e])||t}:undefined,success:this.model_.isDeferrable?null:e,error:this.model_.isDeferrable?null:i,complete:this.model_.isDeferrable?null:o}),f=jQuery.ajax(g),f.location=c.destLocation.cloneNode(),this.model_.setXHR(f),this.balancer_.sanitize(f,c),!this.model_.isDeferrable)return;var m=this.wait_(h);this.page_.setWait(m),jQuery.when(this.model_.getXHR(),m).done(n).fail(s).always(r)}},e.prototype.wait_=function(t){var e=jQuery.Deferred();return t?(setTimeout(function(){e.resolve()},t),e):e.resolve()},e.prototype.chooseArea=function(){},e.prototype.dispatchEvent=function(){},e}();e.PageFetch=i}(i=e.APP||(e.APP={}))}(e=t.MODEL||(t.MODEL={}))}(MODULE||(MODULE={}));var MODULE;!function(t){var e;!function(t){var e;!function(t){var e=function(){function e(t,e,i,o){this.Record_=t,this.model_=e,this.balancer_=i,this.page_=o,this.hash_=function(t){return t.nss.url},this.table_={},this.order_=[]}return e.prototype.fetchRecord=function(t,e,i,o){this.getRecord(t).state(t)?this.pullRecord(t,e,i,o):this.pullRecord(t,e,i,o)},e.prototype.pullRecord=function(e,i,o,n){var s=this;new t.PageFetch(this.model_,this.page_,this.balancer_,e,i,function(t,e,i,n,r,a){var c=s.setRecord(t,s.getRecord(t).data.data()||"",n,r,a);o(c,t,e)},function(t,e,i,o,r,a){var c=s.setRecord(t,s.getRecord(t).data.data()||"",o,r,a);n(c,t,e)})},e.prototype.getRecord=function(t){return this.table_[this.hash_(t)]=this.table_[this.hash_(t)]||new this.Record_},e.prototype.setRecord=function(t,e,i,o,n){return this.cleanRecords_(t),this.addOrder_(t),this.table_[this.hash_(t)]=new this.Record_(t.nss.url,e,i,o,n)},e.prototype.removeRecord=function(t){return this.removeOrder_(t),this.table_[this.hash_(t)]=new this.Record_},e.prototype.clearRecord=function(){this.order_.splice(0,this.order_.length);for(var t in this.table_)delete this.table_[t]},e.prototype.cleanRecords_=function(t){if(t.cache.limit)for(;this.order_.length>=t.cache.limit;)this.removeRecord(this.order_.pop())},e.prototype.addOrder_=function(t){this.removeOrder_(t),this.order_.unshift(t)},e.prototype.removeOrder_=function(t){for(var e=this.order_.length;e--;)this.order_[e].nss.url===t.nss.url&&this.order_.splice(e,1)},e}();t.PageProvider=e}(e=t.APP||(t.APP={}))}(e=t.MODEL||(t.MODEL={}))}(MODULE||(MODULE={}));var MODULE;!function(t){var e;!function(e){var i;!function(e){var i=function(){function e(e,i,o,n,s,r,a){this.model_=e,this.page_=i,this.data_=o,this.balancer_=n,this.setting_=s,this.event_=r,this.record_=a,this.util_=t.LIBRARY.Utility,this.loadwaits_=[],this.main_()}return e.prototype.main_=function(){var e=this.record_,i=this.setting_,o=this.event_,n=i.speedcheck,s=this.model_.speed;if(n&&s.time.push(s.now()-s.fire),n&&s.name.push("fetch("+s.time.slice(-1)+")"),++this.page_.count,this.page_.loadtime=this.page_.loadtime&&(new Date).getTime()-this.page_.loadtime,i.cache.mix&&t.EVENT.POPSTATE!==o.type.toLowerCase()&&(new Date).getTime()-o.timeStamp<=i.cache.mix)return this.model_.fallback(o);try{if(this.page_.landing=null,!~(e.data.jqXHR().getResponseHeader("Content-Type")||"").toLowerCase().search(i.contentType))throw new Error("throw: content-type mismatch");if(this.srcDocument_=this.page_.parser.parse(e.data.jqXHR().responseText,i.destLocation.href),this.dstDocument_=document,this.area_=this.chooseArea(i.area,this.srcDocument_,this.dstDocument_),!this.area_)throw new Error("throw: area notfound");if(this.areas_=this.area_.match(/(?:[^,]+?|\(.*?\)|\[.*?\])+/g),n&&s.time.push(s.now()-s.fire),n&&s.name.push("parse("+s.time.slice(-1)+")"),this.redirect_(),this.dispatchEvent(window,i.nss.event.pjax.unload,!1,!1),this.url_(),!this.model_.comparePageByUrl(i.destLocation.href,window.location.href))throw new Error("throw: location mismatch");this.document_()}catch(r){if(!r)return;this.model_.getCache(window.location.href)&&this.model_.removeCache(i.destLocation.href),this.model_.fallback(o)}},e.prototype.isRegister_=function(e,i){switch(!0){case e.destLocation.href===e.origLocation.href:case t.EVENT.POPSTATE===i.type.toLowerCase():return!1;default:return!0}},e.prototype.isCacheUsable_=function(e,i){switch(!0){case!i.cache.click&&!i.cache.submit&&!i.cache.popstate:case t.EVENT.SUBMIT===e.type.toLowerCase()&&!i.cache[e.currentTarget.method.toLowerCase()]:return!1;default:return!0}},e.prototype.redirect_=function(){var e=this,i=this.setting_,o=this.event_,n=(jQuery('head meta[http-equiv="Refresh"][content*="URL="]').attr("content")||"").match(/\w+:\/\/[^;\s"']+|$/i).shift();if(n&&!this.model_.comparePageByUrl(i.destLocation.href,n)){var s=i.destLocation.cloneNode();if(s.href=n,this.util_.fire(i.callbacks.update.redirect.before,i,[o,i,s.cloneNode(),i.origLocation.cloneNode(),i.destLocation.cloneNode()])!==!1){switch(!0){case!i.redirect:case s.protocol!==i.destLocation.protocol:case s.host!==i.destLocation.host:case t.EVENT.SUBMIT===o.type.toLowerCase()&&"GET"!==o.currentTarget.method.toUpperCase():switch(o.type.toLowerCase()){case t.EVENT.CLICK:case t.EVENT.SUBMIT:window.location.assign(s.href);break;case t.EVENT.POPSTATE:window.location.replace(s.href)}throw!1;default:switch(jQuery[t.DEF.NAME].enable(),o.type.toLowerCase()){case t.EVENT.CLICK:case t.EVENT.SUBMIT:setTimeout(function(){return jQuery[t.DEF.NAME].click(s.href)},0);break;case t.EVENT.POPSTATE:window.history.replaceState(window.history.state,this.srcDocument_.title,s.href),this.isRegister_(i,o)&&i.fix.location&&!this.util_.compareUrl(i.destLocation.href,window.location.href)&&(jQuery[t.DEF.NAME].disable(),window.history.back(),window.history.forward(),jQuery[t.DEF.NAME].enable()),setTimeout(function(){return e.dispatchEvent(window,t.EVENT.POPSTATE,!1,!1)},0)}throw!1}this.util_.fire(i.callbacks.update.redirect.after,i,[o,i,s.cloneNode(),i.origLocation.cloneNode(),i.destLocation.cloneNode()])===!1}}},e.prototype.url_=function(){var e=this.setting_,i=this.event_;this.model_.location.href=e.destLocation.href,this.util_.fire(e.callbacks.update.url.before,e,[i,e,e.origLocation.cloneNode(),e.destLocation.cloneNode()])!==!1&&(this.isRegister_(e,i)&&(window.history.pushState(this.util_.fire(e.state,e,[i,e,e.origLocation.cloneNode(),e.destLocation.cloneNode()]),~window.navigator.userAgent.toLowerCase().indexOf("opera")?this.dstDocument_.title:this.srcDocument_.title,e.destLocation.href),e.fix.location&&!this.util_.compareUrl(e.destLocation.href,window.location.href)&&(jQuery[t.DEF.NAME].disable(),window.history.back(),window.history.forward(),jQuery[t.DEF.NAME].enable())),this.util_.fire(e.callbacks.update.url.after,e,[i,e,e.origLocation.cloneNode(),e.destLocation.cloneNode()])===!1)},e.prototype.document_=function(){var e=this,i=this.setting_,o=this.event_;if(i.load.script&&!this.page_.loadedScripts[""]){var n=this.page_.loadedScripts;n[""]=!0,jQuery("script").each(function(){var t=this;t.src&&(n[t.src]=!i.load.reload||!jQuery(t).is(i.load.reload))})}this.overwriteDocumentByCache_(),i.fix.noscript&&this.escapeNoscript_(this.srcDocument_),this.rewrite_(),this.title_(),i.fix.history&&this.data_.saveTitle(),this.data_.saveExpires(this.record_.data.url(),this.record_.data.host(),this.record_.data.expires()),this.head_();var s=i.speedcheck,r=this.model_.speed;s&&r.time.push(r.now()-r.fire),s&&r.name.push("head("+r.time.slice(-1)+")"),this.content_(),s&&r.time.push(r.now()-r.fire),s&&r.name.push("content("+r.time.slice(-1)+")"),this.balance_(),this.css_('link[rel~="stylesheet"], style'),jQuery(window).one(t.DEF.NAME+":rendering",function(n){n.preventDefault(),n.stopImmediatePropagation();var a=function(t){return e.model_.comparePageByUrl(i.destLocation.href,window.location.href)?(e.dispatchEvent(document,i.nss.event.pjax.ready,!1,!1),e.util_.fire(i.callback,i,[o,i]),e.waitRender_(jQuery.when?jQuery.Deferred().resolve:t)):void 0},c=function(n){return e.model_.comparePageByUrl(i.destLocation.href,window.location.href)?(setTimeout(function(){switch(o.type.toLowerCase()){case t.EVENT.CLICK:case t.EVENT.SUBMIT:e.model_.overlay(i)||e.scrollByHash_(i)||e.scroll_(!0);break;case t.EVENT.POPSTATE:e.model_.overlay(i)||e.scroll_(!0)}},100),e.dispatchEvent(document,i.nss.event.pjax.render,!1,!1),s&&r.time.push(r.now()-r.fire),s&&r.name.push("render("+r.time.slice(-1)+")"),jQuery.when?jQuery.when.apply(jQuery,e.loadwaits_):n()):void 0},l=function(){return e.model_.comparePageByUrl(i.destLocation.href,window.location.href)?(e.dispatchEvent(window,i.nss.event.pjax.load,!1,!1),s&&r.time.push(r.now()-r.fire),s&&r.name.push("load("+r.time.slice(-1)+")"),s&&console.log(r.time),s&&console.log(r.name),e.script_("[src][defer]"),jQuery.when&&jQuery.Deferred().resolve()):jQuery.when&&jQuery.Deferred().reject()};if(e.scroll_(!1),100>e.page_.loadtime&&i.reset.type.match(o.type.toLowerCase())&&!jQuery('form[method][method!="GET"]').length)switch(!1){case e.page_.count<i.reset.count||!i.reset.count:case(new Date).getTime()<i.reset.time+e.page_.time||!i.reset.time:throw new Error("throw: reset")}var h=e.script_(":not([defer]), :not([src])");if(jQuery.when){var u=jQuery.Deferred().pipe?"pipe":"then";jQuery.when.apply(jQuery,h)[u](function(){return a()})[u](function(){return c()})[u](function(){return l()})}else a(function(){return c(function(){return l()})})}).trigger(t.DEF.NAME+":rendering")},e.prototype.overwriteDocumentByCache_=function(){var t=this.setting_,e=this.event_,i=this.model_.getCache(t.destLocation.href);if(this.isCacheUsable_(e,t)&&i&&i.data){var o=t.fix.noscript?this.restoreNoscript_(i.data):i.data,n=this.page_.parser.parse(o,t.destLocation.href),s=this.srcDocument_;s.title=n.title;for(var r,a,c=0;this.areas_[c];c++){if(r=jQuery(this.areas_[c],n).clone(),a=jQuery(this.areas_[c],s),!r.length||!a.length||r.length!==a.length)throw new Error("throw: area mismatch");for(var l=0;r[l];l++)a[l].parentNode.replaceChild(r[l],a[l])}}},e.prototype.rewrite_=function(){var t=this.setting_,e=this.event_;t.rewrite&&this.util_.fire(t.callbacks.update.rewrite.before,t,[e,t,this.srcDocument_,this.dstDocument_])!==!1&&(this.util_.fire(t.rewrite,t,[this.srcDocument_,this.area_,this.record_.data.host()]),this.util_.fire(t.callbacks.update.rewrite.before,t,[e,t,this.srcDocument_,this.dstDocument_])===!1)},e.prototype.title_=function(){var t=this.setting_,e=this.event_;this.util_.fire(t.callbacks.update.title.before,t,[e,t,this.srcDocument_.title,this.dstDocument_.title])!==!1&&(this.dstDocument_.title=this.srcDocument_.title,this.util_.fire(t.callbacks.update.title.after,t,[e,t,this.srcDocument_.title,this.dstDocument_.title])===!1)},e.prototype.head_=function(){var t=this.setting_,e=this.event_,i=this.srcDocument_,o=this.dstDocument_;if(t.load.head&&this.util_.fire(t.callbacks.update.head.before,t,[e,t,this.srcDocument_.querySelector("head"),this.dstDocument_.querySelector("head")])!==!1){for(var n,s="base, meta, link",r=jQuery(i.head).children(s).filter(t.load.head).not(t.load.ignore).not('link[rel~="stylesheet"], style, script'),a=jQuery(o.head).children(s).filter(t.load.head).not(t.load.ignore).not('link[rel~="stylesheet"], style, script'),c=jQuery(),l=a,h=0;n=r[h];h++){for(var u=0;l[u];u++)if(l[u].tagName===n.tagName&&l[u].outerHTML===n.outerHTML){if(c.length){var p=a[a.index(l[u])-1];p?jQuery(p).after(c.clone()):l.eq(u).before(c.clone()),c=jQuery()}l=l.not(l[u]),n=null;break}c=c.add(n)}jQuery("title",o).before(c.clone()),l.remove(),this.util_.fire(t.callbacks.update.head.after,t,[e,t,this.srcDocument_.querySelector("head"),this.dstDocument_.querySelector("head")])===!1}},e.prototype.content_=function(){function e(){var t=jQuery.Deferred();return jQuery(this).one("load error abort",t.resolve),t}var i,o=this,n=this.setting_,s=this.event_,r=this.srcDocument_,a=this.dstDocument_;if(this.util_.fire(n.callbacks.update.content.before,n,[s,n,jQuery(this.area_,this.srcDocument_).get(),jQuery(this.area_,this.dstDocument_).get()])!==!1){jQuery(this.area_).children("."+n.nss.elem+"-check").remove(),i=jQuery("<div/>",{"class":n.nss.elem+"-check",style:["background: none !important","display: block !important","visibility: hidden !important","position: absolute !important","top: 0 !important","left: 0 !important","z-index: -9999 !important","width: auto !important","height: 0 !important","margin: 0 !important","padding: 0 !important","border: none !important","font-size: 12px !important","text-indent: 0 !important"].join(";")}).text(t.DEF.NAME);for(var c,l,h=0;this.areas_[h];h++){if(c=jQuery(this.areas_[h],r).clone(),l=jQuery(this.areas_[h],a),!c.length||!l.length||c.length!==l.length)throw new Error("throw: area mismatch");c.find("script").each(function(t,e){return o.escapeScript_(e)}),jQuery.when&&(this.loadwaits_=this.loadwaits_.concat(c.find("img, iframe, frame").map(e).get()));for(var u=0;c[u];u++)l[u].parentNode.replaceChild(c[u],l[u]);l=jQuery(this.areas_[h],a),l.append(i.clone()),l.find("script").each(function(t,e){return o.restoreScript_(e)})}this.dispatchEvent(document,n.nss.event.pjax.DOMContentLoaded,!1,!1),this.util_.fire(n.callbacks.update.content.after,n,[s,n,jQuery(this.area_,this.srcDocument_).get(),jQuery(this.area_,this.dstDocument_).get()])===!1}},e.prototype.balance_=function(){var t=this.setting_,e=this.event_;if(t.balance.active&&!(this.page_.loadtime<100)){var i=this.record_.data.jqXHR(),o=this.balancer_.sanitize(i,t)||this.record_.data.host()||"",n=this.page_.loadtime,s=this.balancer_.score(n,i.responseText.length);if(this.util_.fire(t.callbacks.update.balance.before,t,[e,t,o,this.page_.loadtime,i.responseText.length])!==!1){var r=this.data_.getServerBuffer(t.destLocation.href),s=this.balancer_.score(n,i.responseText.length);n=r&&!r.state&&r.time?Math.round((r.time+n)/2):n,s=r&&!r.state&&r.score?Math.round((r.score+s)/2):s,this.data_.saveServer(o,(new Date).getTime()+t.balance.server.expires,n,s,0),this.balancer_.changeServer(this.balancer_.chooseServer(t),t),this.util_.fire(t.callbacks.update.balance.after,t,[e,t,o,this.page_.loadtime,i.responseText.length])===!1}}},e.prototype.css_=function(t){function e(){return jQuery.contains(s.head,this)}function i(){return jQuery.contains(s.body,this)}var o=this.setting_,n=this.event_,s=this.srcDocument_,r=this.dstDocument_;if(o.load.css){var a="link, style",c=jQuery(a,s).filter(t).not(jQuery("noscript",s).find(a)),l=jQuery(a,r).filter(t).not(jQuery("noscript",s).find(a)),h=jQuery(),u=l;if(this.util_.fire(o.callbacks.update.css.before,o,[n,o,c.get(),l.get()])!==!1){c=c.not(o.load.ignore),l=c.not(o.load.ignore);
for(var p,d=0;p=c[d];d++){for(var f,m=0;u[m];m++){switch(p.tagName.toLowerCase()){case"link":f=p.href===u[m].href;break;case"style":f=this.util_.trim(p.innerHTML)===this.util_.trim(u[m].innerHTML)}if(f){if(h.length){if(jQuery.contains(r.body,u[m])&&h.first().parents("head").length)jQuery(r.head).append(h.filter(e).clone()),u.eq(m).before(h.filter(i).clone());else{var v=l[l.index(u[m])-1];v?jQuery(v).after(h.clone()):u.eq(m).before(h.clone())}h=jQuery()}u=u.not(u[m]),m-=Number(!!m),p=null;break}}h=h.add(p)}if(jQuery(r.head).append(h.filter(e).clone()),jQuery(r.body).append(h.filter(i).clone()),u.remove(),l=jQuery(a,r).filter(t).not(jQuery("noscript",s).find(a)),this.util_.fire(o.callbacks.update.css.after,o,[n,o,c.get(),l.get()])!==!1){var y=o.speedcheck,g=this.model_.speed;y&&g.time.push(g.now()-g.fire),y&&g.name.push("css("+g.time.slice(-1)+")")}}}},e.prototype.script_=function(t){var e=this,i=this.setting_,o=this.event_,n=this.srcDocument_,s=this.dstDocument_,r=[],a=[];if(!i.load.script)return r;var c="script",l=jQuery(c,n).filter(t).not(jQuery("noscript",n).find(c)),h=jQuery(c,s).filter(t).not(jQuery("noscript",s).find(c)),u=this.page_.loadedScripts,p=/^$|(?:application|text)\/(?:java|ecma)script/i,d=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g;if(this.util_.fire(i.callbacks.update.script.before,i,[o,i,l.get(),h.get()])===!1)return r;l=l.not(i.load.ignore);for(var f,m=function(t,o){if(!e.model_.comparePageByUrl(i.destLocation.href,window.location.href))return!1;t.src&&(u[t.src]=!i.load.reload||!jQuery(t).is(i.load.reload));try{if(e.model_.isDeferrable){if("string"!=typeof o)throw o;eval.call(window,o)}else t.hasAttribute("src")?jQuery.ajax(jQuery.extend(!0,{},i.ajax,i.load.ajax,{url:t.src,dataType:"script",async:!1,global:!1,success:function(){return null},error:function(t){throw t}})):eval.call(window,(t.text||t.textContent||t.innerHTML||"").replace(d,""));try{t.hasAttribute("src")&&e.dispatchEvent(t,"load",!1,!1)}catch(n){}}catch(s){try{t.hasAttribute("src")&&e.dispatchEvent(t,"error",!1,!1)}catch(n){}if(!0===i.load.error)throw s;e.util_.fire(i.load.error,i,[s,t])}},v=0;f=l[v];v++)if(p.test(f.type||"")&&(f.hasAttribute("src")?!u[f.src]:this.util_.trim(f.innerHTML))){var y=jQuery(f).parent(i.load.log)[0];if(y&&!jQuery(f).parents(this.area_).length){var g=jQuery(y.id||y.tagName,s)[0],w=f.cloneNode(!0);this.escapeScript_(w),g.appendChild(w),this.restoreScript_(w)}!function(t){var o=e.model_.isDeferrable&&jQuery.Deferred();t.hasAttribute("src")&&t.getAttribute("src")?(u[t.src]=!i.load.reload||!jQuery(t).is(i.load.reload),t.hasAttribute("async")?jQuery.ajax(jQuery.extend({},i.ajax,i.load.ajax,{url:t.src,dataType:"script",async:!0,global:!1,success:function(){return e.dispatchEvent(t,"load",!1,!1)},error:function(){return e.dispatchEvent(t,"error",!1,!1)}})):o?(jQuery.ajax(jQuery.extend({},i.ajax,i.load.ajax,{url:t.src,dataType:"text",async:!0,global:!1,success:function(){return o.resolve([t,arguments[0]])},error:function(e){return o.resolve([t,e])}})),r.push(o)):a.push(t)):t.hasAttribute("src")||(o?r.push(o.resolve([t,(t.text||t.textContent||t.innerHTML||"").replace(d,"")])):a.push(t))}(f)}try{this.model_.isDeferrable?jQuery.when.apply(jQuery,r).always(function(){return jQuery.each(arguments,function(t,i){return m.apply(e,i)})}):jQuery.each(a,function(t,e){return m(e)})}catch(_){throw setTimeout(function(){return e.model_.fallback(o)},1),_}if(h=jQuery(c,s).filter(t).not(jQuery("noscript",s).find(c)),this.util_.fire(i.callbacks.update.script.after,i,[o,i,l.get(),h.get()])===!1)return r;var T=i.speedcheck,b=this.model_.speed;return T&&b.time.push(b.now()-b.fire),T&&b.name.push("script("+b.time.slice(-1)+")"),r},e.prototype.scroll_=function(e){var i=this.setting_,o=this.event_;if(this.util_.fire(i.callbacks.update.scroll.before,i,[o,i])!==!1){var n,s;switch(o.type.toLowerCase()){case t.EVENT.CLICK:case t.EVENT.SUBMIT:n=e&&"function"==typeof i.scrollLeft?this.util_.fire(i.scrollLeft,i,[o,i,i.origLocation.cloneNode(),i.destLocation.cloneNode()]):i.scrollLeft,n=n>=0?n:0,n=n===!1||null===n?jQuery(window).scrollLeft():parseInt(Number(n)+"",10),s=e&&"function"==typeof i.scrollTop?this.util_.fire(i.scrollTop,i,[o,i,i.origLocation.cloneNode(),i.destLocation.cloneNode()]):i.scrollTop,s=s>=0?s:0,s=s===!1||null===s?jQuery(window).scrollTop():parseInt(Number(s)+"",10),window.scrollTo(n,s);break;case t.EVENT.POPSTATE:e&&i.fix.scroll&&this.data_.loadScrollPosition()}e&&this.data_.saveScrollPosition(),this.util_.fire(i.callbacks.update.scroll.after,i,[o,i])===!1}},e.prototype.waitRender_=function(t){function e(){return this.clientWidth||this.clientHeight||jQuery(this).is(":hidden")}var i=this,o=this.setting_,n=(this.event_,jQuery(this.area_)),s=n.children("."+o.nss.elem+"-check"),r=(new Date).getTime()+5e3,a=function(){switch(!0){case!i.model_.comparePageByUrl(o.destLocation.href,window.location.href):break;case(new Date).getTime()>r:case s.length!==n.length:case s.length===s.filter(e).length:s.remove(),t();break;default:setTimeout(a,100)}};return a(),jQuery.when&&t},e.prototype.scrollByHash_=function(t){var e=t.destLocation.hash.replace(/^#/,"");if(!e)return!1;var i=jQuery("#"+e+", [name~="+e+"]").first();return i.length?(isFinite(i.offset().top)&&window.scrollTo(jQuery(window).scrollLeft(),parseInt(Number(i.offset().top)+"",10)),this.data_.saveScrollPosition(),!0):!1},e.prototype.escapeNoscript_=function(t){function e(){jQuery(this).text(this.innerHTML)}jQuery("noscript",t).children().parent().each(e)},e.prototype.restoreNoscript_=function(t){var e=jQuery("<span/>");return t.replace(/(<noscript>)([^<>]+?)(<\/noscript>)/gim,function(t,i,o,n){return i+e.html(o).text()+n})},e.prototype.escapeScript_=function(t){jQuery.data(t,"source",t.src),jQuery.data(t,"code",t.innerHTML),t.removeAttribute("src"),t.innerHTML=""},e.prototype.restoreScript_=function(t){undefined!==jQuery.data(t,"code")&&(t.innerHTML=" ",jQuery.data(t,"source")?(t.src=jQuery.data(t,"source"),jQuery.removeData(t,"source")):t.removeAttribute("src"),t.innerHTML=jQuery.data(t,"code"),jQuery.removeData(t,"code"))},e.prototype.chooseArea=function(){},e.prototype.dispatchEvent=function(){},e}();e.PageUpdate=i}(i=e.APP||(e.APP={}))}(e=t.MODEL||(t.MODEL={}))}(MODULE||(MODULE={}));var MODULE;!function(t){var e;!function(e){var i;!function(e){var i=function(){function e(){}return e.prototype.test_=function(t){try{var e='<html lang="en" class="html"><head><title>&amp;</title><link href="/"><noscript><style>/**/</style></noscript></head><body><noscript>noscript</noscript><a href="/"></a></body></html>',i=this.parse(e,window.location.href,t);switch(!1){case!!i:case i.URL&&decodeURI(i.URL)===decodeURI(window.location.href):case"&"===i.title:case!!i.querySelector('html.html[lang="en"]'):case!!i.querySelector("head>link").href:case!!i.querySelector("head>noscript").innerHTML:case!!i.querySelector("body>noscript").innerHTML:case!!i.querySelector("body>a").href:throw!0}return t}catch(o){}},e.prototype.parse=function(e,i,o){function n(t,e){var i=document.createElement("div");i.innerHTML=e.match(/<html(?:\s.*?[^\\])?>|$/i).shift().replace(/html/i,"div")||"<div>";for(var o,n=i.firstChild.attributes,s=0;o=n[s];s++)t.documentElement.setAttribute(o.name,o.value);var i=document.createElement("html");for(i.innerHTML=e.replace(/^.*?<html(?:\s.*?[^\\])?>/im,""),t.documentElement.removeChild(t.head),t.documentElement.removeChild(t.body);i.childNodes.length;)t.documentElement.appendChild(i.childNodes[0]);return t}void 0===o&&(o=this.mode_),e+=~e.search(/<title[\s>]/i)?"":"<title></title>";var s=i&&t.LIBRARY.Utility.compareUrl(i,window.location.href)?undefined:window.location.href;s&&window.history.replaceState&&window.history.replaceState(window.history.state,document.title,i);var r;switch(o){case"dom":"function"==typeof window.DOMParser&&(r=(new window.DOMParser).parseFromString(e,"text/html"));break;case"doc":if(document.implementation&&document.implementation.createHTMLDocument){if(r=document.implementation.createHTMLDocument(""),"object"!=typeof r.activeElement||!r.activeElement)break;"function"==typeof window.DOMParser&&(new window.DOMParser).parseFromString("","text/html")&&(r.title=(new window.DOMParser).parseFromString(e.match(/<title(?:\s.*?[^\\])?>(?:.*?[^\\])?<\/title>/i),"text/html").title),r.open(),r.write(e),r.close(),r.title!==r.querySelector("title").textContent&&(r.title=r.querySelector("title").textContent)}break;case"manipulate":document.implementation&&document.implementation.createHTMLDocument&&(r=n(document.implementation.createHTMLDocument(""),e));break;case null:r=null;break;default:switch(/webkit|firefox|trident|$/i.exec(window.navigator.userAgent.toLowerCase()).shift()){case"webkit":this.mode_=this.test_("doc")||this.test_("dom")||this.test_("manipulate");break;case"firefox":this.mode_=this.test_("dom")||this.test_("doc")||this.test_("manipulate");break;case"trident":this.mode_=this.test_("manipulate")||this.test_("dom")||this.test_("doc");break;default:this.mode_=this.test_("dom")||this.test_("doc")||this.test_("manipulate")}r=this.mode_&&this.parse(e,i)}return s&&window.history.replaceState&&window.history.replaceState(window.history.state,document.title,s),r},e}();e.PageParser=i;var o=function(){function t(){t.instance_=t.instance_||new i}return t.prototype.singleton_=function(){return t.instance_},t.prototype.parse=function(t,e){return this.singleton_().parse(t,e)},t}();e.PageParserSingleton=o}(i=e.APP||(e.APP={}))}(e=t.MODEL||(t.MODEL={}))}(MODULE||(MODULE={}));var MODULE;!function(t){var e;!function(e){var i;!function(e){t.MIXIN(e.PageFetch,[e.PageUtility]),t.MIXIN(e.PageUpdate,[e.PageUtility]);var i=function(){function i(i,o,n){var s=this;this.model_=i,this.data_=o,this.balancer_=n,this.util_=t.LIBRARY.Utility,this.parser=new e.PageParserSingleton,this.provider=new e.PageProvider(e.PageRecord,this.model_,this.balancer_,this),this.landing=this.util_.normalizeUrl(window.location.href),this.loadedScripts={},this.loadtime=0,this.count=0,this.time=(new Date).getTime(),setTimeout(function(){return s.parser.parse("")||s.model_.disable()},100)}return i.prototype.transfer=function(e,i){switch(i.type.toLowerCase()){case t.EVENT.CLICK:this.data_.saveTitle(),this.data_.saveScrollPosition();break;case t.EVENT.SUBMIT:this.data_.saveTitle(),this.data_.saveScrollPosition();break;case t.EVENT.POPSTATE:this.data_.saveTitle(e.origLocation.href,document.title),e.fix.history&&this.data_.loadTitle()}e=jQuery.extend(!0,{},e),e.origLocation=e.origLocation.cloneNode(),e.destLocation=e.destLocation.cloneNode(),e=t.FREEZE(e),this.fetch_(e,i)},i.prototype.getWait=function(){return this.wait_},i.prototype.setWait=function(t){return this.wait_&&this.wait_.state&&"pending"===this.wait_.state()&&this.wait_.reject(),this.wait_=t},i.prototype.fetch_=function(t,e){var i=this;this.provider.fetchRecord(t,e,function(t,e,o){return i.success_(t,e,o)},function(t,e,o){return i.failure_(t,e,o)})},i.prototype.success_=function(t,i,o){new e.PageUpdate(this.model_,this,this.data_,this.balancer_,i,o,t)},i.prototype.failure_=function(t,e,i){var o=this;e.fallback&&"abort"!==t.data.textStatus()&&(this.data_.saveExpires(e.destLocation.href,"",0),e.balance.active&&(this.data_.saveServer(t.data.host(),(new Date).getTime()+e.balance.server.expires,0,0,(new Date).getTime()),this.balancer_.changeServer(this.balancer_.chooseServer(e),e)),setTimeout(function(){return o.model_.fallback(i)},100))},i.prototype.chooseArea=function(){},i.prototype.dispatchEvent=function(){},i}();e.Page=i}(i=e.APP||(e.APP={}))}(e=t.MODEL||(t.MODEL={}))}(MODULE||(MODULE={}));var MODULE;!function(MODULE){var MODEL;!function(MODEL){var APP;!function(APP){MODULE.MIXIN(APP.Page,[APP.PageUtility]);var Main=function(){function Main(t,e){this.model_=t,this.controller_=e,this.util_=MODULE.LIBRARY.Utility,this.settings_={},this.data=new APP.Data(this.model_),this.balancer=new APP.Balancer(this.data),this.page=new APP.Page(this.model_,this.data,this.balancer)}return Main.prototype.initialize=function(t,e){var i=this;this.controller_.view(t,e),this.balancer.enable(e),this.data.loadBuffers(),setTimeout(function(){return i.page.landing=null},1500)},Main.prototype.configure=function(destination){var _this=this,event=destination.preventDefault?destination:null;switch(event&&"object"==typeof event&&event.type.toLowerCase()){case MODULE.EVENT.CLICK:return this.configure(event.currentTarget);case MODULE.EVENT.SUBMIT:return this.configure(event.currentTarget);case MODULE.EVENT.POPSTATE:return this.configure(window.location);case null:}var url;switch(!0){case"string"==typeof destination:url=destination;break;case"href"in destination:url=this.util_.normalizeUrl(destination.href);break;case"action"in destination:switch(url=this.util_.normalizeUrl(destination.action.replace(/[?#].*/,"")),destination.method.toUpperCase()){case"GET":url+="?"+jQuery(destination).serialize()}break;default:url=this.model_.location.href,this.option_=destination}var index=[this.util_.canonicalizeUrl(this.model_.location.href).slice(0,2048),this.util_.canonicalizeUrl(url).slice(0,2048)].join(" ");if(!this.option_)return null;if(index in this.settings_)return this.settings_[index];var origLocation=this.model_.location.cloneNode(),destLocation=this.model_.location.cloneNode();origLocation.href=this.util_.canonicalizeUrl(origLocation.href),destLocation.href=this.util_.canonicalizeUrl(url);var scope=this.scope_(this.option_,origLocation.href,destLocation.href)||null,initial={area:"body",link:"a:not([target])",filter:function(){return/^https?:/.test(this.href)&&/\/[^.]*$|\.(html?|php)$/.test(this.pathname.replace(/^\/?/,"/"))},form:null,scope:null,rewrite:null,state:null,scrollTop:0,scrollLeft:0,ajax:{dataType:"text"},contentType:"text/html",redirect:!0,cache:{click:!1,submit:!1,popstate:!1,get:!0,post:!0,mix:0,limit:100,expires:{max:null,min:3e5}},buffer:{limit:30,delay:500},load:{head:"",css:!1,script:!1,ignore:'[src*="jquery.js"], [src*="jquery.min.js"], [href^="chrome-extension://"]',reload:"",execute:!0,log:"head, body",error:!0,ajax:{dataType:"script",cache:!0}},balance:{active:!1,bounds:/^.*$/,weight:1,random:0,option:{server:{header:!1},ajax:{crossDomain:!0},callbacks:{ajax:{beforeSend:null}}},client:{hosts:[],support:{browser:/msie|trident.+ rv:|chrome|firefox|safari/i,redirect:/chrome|firefox|safari/i},cookie:{balance:"balanceable",redirect:"redirectable",host:"host"}},server:{header:"X-Ajax-Host",respite:6e5,expires:864e6}},wait:0,fallback:!0,reset:{type:"",count:100,time:108e5},fix:{location:!0,history:!0,scroll:!0,noscript:!0},database:{active:!0,revision:0,refresh:10},server:{query:null,header:!0},overlay:"",callback:null,callbacks:{ajax:{},update:{redirect:{},url:{},rewrite:{},title:{},head:{},content:{},scroll:{},css:{},script:{},balance:{}}},data:undefined},force={uid:MODULE.UUID(),ns:"",nss:undefined,speedcheck:undefined,origLocation:origLocation,destLocation:destLocation,scroll:{queue:[]},option:this.option_},compute=function(){setting.ns=setting.ns?setting.ns.split(".").sort().join("."):"";var nsArray=[MODULE.DEF.NAME].concat(setting.ns?setting.ns.split("."):[]),query=setting.server.query;switch(query&&typeof query){case"string":query=eval("({"+query.match(/[^?=&]+=[^&]*/g).join("&").replace(/"/g,'\\"').replace(/([^?=&]+)=([^&]*)/g,'"$1": "$2"').replace(/&/g,",")+"})");case"object":query=jQuery.param(query);break;default:query=""}return{uid:undefined,ns:undefined,origLocation:undefined,destLocation:undefined,scroll:undefined,option:undefined,speedcheck:undefined,nss:{array:nsArray,name:nsArray.join("."),data:nsArray[0],url:_this.model_.convertUrlToKey(setting.destLocation.href,!0),event:{pjax:{fetch:[MODULE.EVENT.PJAX,"fetch"].join(":"),unload:[MODULE.EVENT.PJAX,"unload"].join(":"),DOMContentLoaded:[MODULE.EVENT.PJAX,"DOMContentLoaded"].join(":"),ready:[MODULE.EVENT.PJAX,"ready"].join(":"),render:[MODULE.EVENT.PJAX,"render"].join(":"),load:[MODULE.EVENT.PJAX,"load"].join(":")},click:[MODULE.EVENT.CLICK].concat(nsArray.join(":")).join("."),submit:[MODULE.EVENT.SUBMIT].concat(nsArray.join(":")).join("."),popstate:[MODULE.EVENT.POPSTATE].concat(nsArray.join(":")).join("."),scroll:[MODULE.EVENT.SCROLL].concat(nsArray.join(":")).join(".")},elem:nsArray.join("-"),requestHeader:["X",nsArray[0].replace(/^\w/,function(t){return t.toUpperCase()})].join("-")},fix:/android|iphone os|like mac os x/i.test(window.navigator.userAgent)?undefined:{location:!1},contentType:setting.contentType.replace(/\s*[,;]\s*/g,"|").toLowerCase(),database:{refresh:Math.min(setting.database.refresh,30)},reset:{type:(setting.reset.type||"").toLowerCase()},server:{query:query},timeStamp:(new Date).getTime()}},setting;return setting=jQuery.extend(!0,initial,scope||this.option_),setting=jQuery.extend(!0,setting,setting.balance.active&&setting.balance.option,force),setting=jQuery.extend(!0,setting,compute()),scope?(MODULE.FREEZE(setting,!0),this.settings_[index]=setting,setting):(this.settings_[index]=null,null)},Main.prototype.scope_=function(t,e,i,o){if(void 0===o&&(o=""),t=jQuery.extend(!0,{},t),!t.scope)return t;var n,s,r,a,c,l,h,u=t.scope;if(n=this.model_.convertUrlToKey(e,!0).match(/.+?\w(\/.*)/).pop(),s=this.model_.convertUrlToKey(i,!0).match(/.+?\w(\/.*)/).pop(),o=o.replace(/[#?].*/,""),a=(o||s).split("/"),o){if(!~o.indexOf("*"))return undefined;r=[];for(var p=n.split("/"),d=0,f=a.length;f>d;d++)"*"===a[d]&&r.push(p[d])}for(var d=a.length;d--;)if(c=a.slice(0,d+1).join("/"),c+="/"===(o||n).charAt(c.length)?"/":"",c&&c in u){var m;if(u[c]instanceof Array?(l="",m=u[c]):(l=u[c],m=u[l]),m){m=m.concat();var v,y,g;g=h=v=y=undefined;for(var w,_=0;w=m[_];_++){if("#"===w.charAt(0)&&(l=w.slice(1),[].splice.apply(m,[_,1].concat(u[l])),w=m[_]),"inherit"===w)g=!0;else if("rewrite"!==w||"function"!=typeof u.rewrite||o){if("string"==typeof w){var T="!"===w.charAt(0);w=T?w.slice(1):w;var b="*"===w.charAt(0);if(w=b?w.slice(1):w,o&&~w.indexOf("/*/"))for(var x=0,f=r.length;f>x;x++)w=w.replace("/*/","/"+r[x]+"/");(b?~n.search(w):~n.indexOf(w))&&(v=T?!1:!0),(b?~s.search(w):~s.indexOf(w))&&(T?y=!1:(y=!0,h=u["$"+l]||u["$"+w]||undefined))}}else h=this.scope_(t,e,i,this.util_.fire(u.rewrite,null,[s])),h?v=y=!0:null===h&&(v=y=!1);if(!1===v||!1===y)return null}if(v&&y)return jQuery.extend(!0,t,h);if(!g)break}}return undefined},Main}();APP.Main=Main}(APP=MODEL.APP||(MODEL.APP={}))}(MODEL=MODULE.MODEL||(MODULE.MODEL={}))}(MODULE||(MODULE={}));var MODULE;!function(t){var e;!function(t){t.App=t.APP.Main}(e=t.MODEL||(t.MODEL={}))}(MODULE||(MODULE={}));var MODULE;!function(t){var e;!function(e){var i=function(i){function o(){i.call(this,1),this.controller_=new t.Controller(this).singleton(),this.app_=new e.App(this,this.controller_),this.util_=t.LIBRARY.Utility,this.isDeferrable=!!jQuery.when&&"1.006"<=jQuery().jquery.match(/\d[\d.]+\d/).pop().replace(/\.(\d+)/g,".00$1").replace(/0*(\d{3})/g,"$1"),this.location=document.createElement("a"),this.queue_=[]}return __extends(o,i),o.prototype.host=function(){return this.app_.balancer.host()},o.prototype.state=function(){return this.state_},o.prototype.main_=function(e,i){var o=this;switch(typeof i){case"object":e=e instanceof t.DEF.NAMESPACE?e:jQuery(document)[t.DEF.NAME](),t.FREEZE(i,!0);break;default:return e}if(!window.history||!window.history.pushState||!window.history.replaceState)return e;this.location.href=this.util_.normalizeUrl(window.location.href);var n=this.app_.configure(i);return n?(this.app_.data.connect(n),this.speed={fire:0,time:[],name:[],now:function(){return(new Date).getTime()}},jQuery(function(){o.app_.initialize(e,n),o.state_=1===o.state()?2:o.state(),o.overlay(n,!0)}),e):e},o.prototype.convertUrlToKey=function(t,e){return t=e?this.util_.canonicalizeUrl(t):t,this.util_.trim(t).split("#").shift()},o.prototype.compareKeyByUrl=function(t,e){return t=this.convertUrlToKey(t,!0),e=this.convertUrlToKey(e,!0),t===e},o.prototype.comparePageByUrl=function(t,e){return t=this.convertUrlToKey(t,!0),e=this.convertUrlToKey(e,!0),t===e},o.prototype.configure=function(t){return this.app_.configure(t)},o.prototype.isOperatable=function(e){if(2!==this.state())return!1;if(e.which>1||e.metaKey||e.ctrlKey||e.shiftKey||e.altKey)return!1;var i;switch(e.type.toLowerCase()){case t.EVENT.CLICK:if(i=this.app_.configure(e.currentTarget),i&&!jQuery(e.currentTarget).filter(i.filter).length)return!1;break;case t.EVENT.SUBMIT:i=this.app_.configure(e.currentTarget);break;case t.EVENT.POPSTATE:i=this.app_.configure(window.location)}if(!i)return!1;if(i.origLocation.protocol!==i.destLocation.protocol||i.origLocation.host!==i.destLocation.host)return!1;switch(e.type.toLowerCase()){case t.EVENT.CLICK:if(this.comparePageByUrl(i.origLocation.href,i.destLocation.href)&&i.destLocation.hash)return!1;break;case t.EVENT.SUBMIT:break;case t.EVENT.POPSTATE:if(this.comparePageByUrl(i.origLocation.href,i.destLocation.href))return!1}return this.app_.page.chooseArea(i.area,document,document)?!0:!1},o.prototype.getXHR=function(){return this.app_.page.xhr},o.prototype.setXHR=function(t){return this.app_.balancer.sanitize(t,this.app_.configure(window.location)),this.app_.page.xhr&&this.app_.page.xhr.readyState<4&&this.app_.page.xhr!==t&&this.app_.page.xhr.abort(),this.app_.page.xhr=t},o.prototype.click=function(t){t.timeStamp=(new Date).getTime();var e=t.currentTarget,i=(jQuery(e),this.app_.configure(e));switch(this.location.href=this.util_.normalizeUrl(window.location.href),!0){case!i:case t.isDefaultPrevented():case 2!==this.state():return;case this.isOperatable(t):return this.app_.page.transfer(i,t),void t.preventDefault();case this.isHashChange(i)&&this.overlay(i):return t.preventDefault(),void window.history.pushState(null,document.title,i.destLocation.href);case!t.originalEvent&&!jQuery(document).has(e).length:return void this.fallback(t)}},o.prototype.submit=function(t){t.timeStamp=(new Date).getTime();var e=t.currentTarget,i=(jQuery(e),this.app_.configure(e));switch(this.location.href=this.util_.normalizeUrl(window.location.href),!0){case!i:case t.isDefaultPrevented():case 2!==this.state():return;case this.isOperatable(t):return this.app_.page.transfer(i,t),void t.preventDefault;case!t.originalEvent&&!jQuery(document).has(e).length:return void this.fallback(t)}},o.prototype.popstate=function(t){if(!this.app_.page.landing||!this.util_.compareUrl(this.app_.page.landing,window.location.href)){t.timeStamp=(new Date).getTime();var e=this.app_.configure(window.location);switch(!0){case!e:case 2!==this.state():return void(this.location.href=this.util_.normalizeUrl(window.location.href));case this.isOperatable(t):return void this.app_.page.transfer(e,t);case this.isHashChange(e)&&this.overlay(e):return void(this.location.href=this.util_.normalizeUrl(window.location.href));case!this.comparePageByUrl(e.origLocation.href,window.location.href):return this.fallback(t),void(this.location.href=this.util_.normalizeUrl(window.location.href))}}},o.prototype.scroll=function(){for(var t,e=this;t=this.queue_.shift();)clearTimeout(t);t=setTimeout(function(){for(;t=e.queue_.shift();)clearTimeout(t);e.compareKeyByUrl(window.location.href,e.location.href)&&e.app_.data.saveScrollPosition()},300),this.queue_.push(t)},o.prototype.fallback=function(t){var e=this.configure(t);switch(!0){case e&&!e.fallback:case e&&!1===this.util_.fire(e.fallback,e,[t,e,e.origLocation.cloneNode(),e.destLocation.cloneNode()]):break;default:this.movePageNormally_(t)}},o.prototype.movePageNormally_=function(e){switch(e.type.toLowerCase()){case t.EVENT.CLICK:window.location.assign(e.currentTarget.href);break;case t.EVENT.SUBMIT:switch(e.currentTarget.method.toUpperCase()){case"GET":window.location.assign(e.currentTarget.action.replace(/[?#].*/,"")+"?"+jQuery(e.currentTarget).serialize());break;case"POST":window.location.assign(e.currentTarget.action)}break;case t.EVENT.POPSTATE:window.location.reload()}},o.prototype.isHashChange=function(t){return!!t&&t.origLocation.href.replace(/#.*/,"")===t.destLocation.href.replace(/#.*/,"")&&t.origLocation.hash!==t.destLocation.hash},o.prototype.overlay=function(t,e){var i=this,o=t.destLocation.hash.replace(/^#/,"");if(!o||!t.overlay)return!1;var n=jQuery("#"+o+", [name~="+o+"]");if(n=n.add(n.nextUntil(":header")),n=n.filter(t.overlay).add(n.find(t.overlay)).first(),!n.length)return!1;this.isHashChange(t)&&(this.app_.data.loadScrollPosition(),setTimeout(function(){return i.app_.data.loadScrollPosition()},1));var s=jQuery("<div>");return n=n.clone(!0),s.addClass(t.nss.elem+"-overlay").css({background:"rgba(255, 255, 255, 0.8)",display:"none",position:"fixed",top:0,left:0,right:0,bottom:0,margin:0,padding:0,border:"none"}).append(n.css({position:"absolute",top:0,left:0,right:0,bottom:0,margin:"auto"}).show()),s.bind("click",s,function(t){t.target===t.currentTarget&&(window.history.pushState(window.history.state,document.title,window.location.href.replace(/#.*/,"")),i.location.href=i.util_.normalizeUrl(window.location.href),jQuery(t.data).fadeOut("fast",function(){return jQuery(t.data).remove()}))}),s.appendTo("body").fadeIn(e?0:100),jQuery(window).one("popstate",s,function(t){setTimeout(function(){return i.app_.data.loadScrollPosition()},1),jQuery(t.data).fadeOut("fast",function(){return jQuery(t.data).remove()})}),/trident/i.test(window.navigator.userAgent)&&n.width(n.width()),this.app_.data.saveScrollPosition(),!0},o.prototype.enable=function(){this.state_=2},o.prototype.disable=function(){this.state_=3},o.prototype.getCache=function(t){var e=this.configure(this.convertUrlToKey(t));if(e){var i=this.app_.page.provider.getRecord(e);return i.state(e)||i.data.data()?{data:i.data.data(),textStatus:i.data.textStatus(),jqXHR:i.data.jqXHR(),expires:i.data.expires(),host:i.data.host()}:void this.removeCache(t)}},o.prototype.setCache=function(t,e,i,o){var n=this.configure(this.convertUrlToKey(t));if(n){var s=this.app_.page.provider.getRecord(n);this.app_.page.provider.setRecord(n,e||"",i||s.data.textStatus(),o||s.data.jqXHR(),this.app_.balancer.sanitize(o,n)||s.data.host()||"")}},o.prototype.removeCache=function(t){var e=this.configure(this.convertUrlToKey(t));e&&this.app_.page.provider.removeRecord(e)},o.prototype.clearCache=function(){this.app_.page.provider.clearRecord()},o.prototype.bypass=function(){return this.app_.balancer.bypass(this.app_.configure(window.location))},o}(e.Template);e.Main=i;var o=function(){function t(){t.instance_=t.instance_||new i}return t.singleton=function(){return t.instance_},t.prototype.singleton=function(){return t.singleton()},t}();e.Singleton=o}(e=t.MODEL||(t.MODEL={}))}(MODULE||(MODULE={}));var MODULE;!function(t){t.Model=t.MODEL.Singleton}(MODULE||(MODULE={}));var Module=function(){function t(){new MODULE.Model}return t}();new Module}(window,window.document,void 0,jQuery),browserify_shim__define__module__export__("undefined"!=typeof pjax?pjax:window.pjax)}.call(global,void 0,void 0,void 0,void 0,function(t){module.exports=t})}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],3:[function(t,e){(function(i){__browserify_shim_require__=t,function(t,e,i,o,n){!function(i){"use strict";"function"==typeof o&&o.amd?o(["jquery"],i):"undefined"!=typeof e?t.exports=i(__browserify_shim_require__("jquery")):i(jQuery)}(function(t){"use strict";var e=window.Slick||{};e=function(){function e(e,o){var n,s,r=this;if(r.defaults={accessibility:!0,adaptiveHeight:!1,appendArrows:t(e),appendDots:t(e),arrows:!0,asNavFor:null,prevArrow:'<button type="button" data-role="none" class="slick-prev">Previous</button>',nextArrow:'<button type="button" data-role="none" class="slick-next">Next</button>',autoplay:!1,autoplaySpeed:3e3,centerMode:!1,centerPadding:"50px",cssEase:"ease",customPaging:function(t,e){return'<button type="button" data-role="none">'+(e+1)+"</button>"},dots:!1,dotsClass:"slick-dots",draggable:!0,easing:"linear",fade:!1,focusOnSelect:!1,infinite:!0,initialSlide:0,lazyLoad:"ondemand",onBeforeChange:null,onAfterChange:null,onInit:null,onReInit:null,onSetPosition:null,pauseOnHover:!0,pauseOnDotsHover:!1,respondTo:"window",responsive:null,rtl:!1,slide:"div",slidesToShow:1,slidesToScroll:1,speed:500,swipe:!0,swipeToSlide:!1,touchMove:!0,touchThreshold:5,useCSS:!0,variableWidth:!1,vertical:!1,waitForAnimate:!0},r.initials={animating:!1,dragging:!1,autoPlayTimer:null,currentDirection:0,currentLeft:null,currentSlide:0,direction:1,$dots:null,listWidth:null,listHeight:null,loadIndex:0,$nextArrow:null,$prevArrow:null,slideCount:null,slideWidth:null,$slideTrack:null,$slides:null,sliding:!1,slideOffset:0,swipeLeft:null,$list:null,touchObject:{},transformsEnabled:!1},t.extend(r,r.initials),r.activeBreakpoint=null,r.animType=null,r.animProp=null,r.breakpoints=[],r.breakpointSettings=[],r.cssTransitions=!1,r.paused=!1,r.positionProp=null,r.respondTo=null,r.shouldClick=!0,r.$slider=t(e),r.$slidesCache=null,r.transformType=null,r.transitionType=null,r.windowWidth=0,r.windowTimer=null,r.options=t.extend({},r.defaults,o),r.currentSlide=r.options.initialSlide,r.originalSettings=r.options,n=r.options.responsive||null,n&&n.length>-1){r.respondTo=r.options.respondTo||"window";for(s in n)n.hasOwnProperty(s)&&(r.breakpoints.push(n[s].breakpoint),r.breakpointSettings[n[s].breakpoint]=n[s].settings);r.breakpoints.sort(function(t,e){return e-t})}r.autoPlay=t.proxy(r.autoPlay,r),r.autoPlayClear=t.proxy(r.autoPlayClear,r),r.changeSlide=t.proxy(r.changeSlide,r),r.clickHandler=t.proxy(r.clickHandler,r),r.selectHandler=t.proxy(r.selectHandler,r),r.setPosition=t.proxy(r.setPosition,r),r.swipeHandler=t.proxy(r.swipeHandler,r),r.dragHandler=t.proxy(r.dragHandler,r),r.keyHandler=t.proxy(r.keyHandler,r),r.autoPlayIterator=t.proxy(r.autoPlayIterator,r),r.instanceUid=i++,r.htmlExpr=/^(?:\s*(<[\w\W]+>)[^>]*)$/,r.init(),r.checkResponsive()}var i=0;return e}(),e.prototype.addSlide=function(e,i,o){var n=this;if("boolean"==typeof i)o=i,i=null;else if(0>i||i>=n.slideCount)return!1;n.unload(),"number"==typeof i?0===i&&0===n.$slides.length?t(e).appendTo(n.$slideTrack):o?t(e).insertBefore(n.$slides.eq(i)):t(e).insertAfter(n.$slides.eq(i)):o===!0?t(e).prependTo(n.$slideTrack):t(e).appendTo(n.$slideTrack),n.$slides=n.$slideTrack.children(this.options.slide),n.$slideTrack.children(this.options.slide).detach(),n.$slideTrack.append(n.$slides),n.$slides.each(function(e,i){t(i).attr("index",e)}),n.$slidesCache=n.$slides,n.reinit()},e.prototype.animateSlide=function(e,i){var o={},n=this;if(1===n.options.slidesToShow&&n.options.adaptiveHeight===!0&&n.options.vertical===!1){var s=n.$slides.eq(n.currentSlide).outerHeight(!0);n.$list.animate({height:s},n.options.speed)}n.options.rtl===!0&&n.options.vertical===!1&&(e=-e),n.transformsEnabled===!1?n.options.vertical===!1?n.$slideTrack.animate({left:e},n.options.speed,n.options.easing,i):n.$slideTrack.animate({top:e},n.options.speed,n.options.easing,i):n.cssTransitions===!1?t({animStart:n.currentLeft}).animate({animStart:e},{duration:n.options.speed,easing:n.options.easing,step:function(t){n.options.vertical===!1?(o[n.animType]="translate("+t+"px, 0px)",n.$slideTrack.css(o)):(o[n.animType]="translate(0px,"+t+"px)",n.$slideTrack.css(o))},complete:function(){i&&i.call()}}):(n.applyTransition(),o[n.animType]=n.options.vertical===!1?"translate3d("+e+"px, 0px, 0px)":"translate3d(0px,"+e+"px, 0px)",n.$slideTrack.css(o),i&&setTimeout(function(){n.disableTransition(),i.call()},n.options.speed))},e.prototype.asNavFor=function(e){var i=this,o=null!=i.options.asNavFor?t(i.options.asNavFor).getSlick():null;null!=o&&o.slideHandler(e,!0)},e.prototype.applyTransition=function(t){var e=this,i={};i[e.transitionType]=e.options.fade===!1?e.transformType+" "+e.options.speed+"ms "+e.options.cssEase:"opacity "+e.options.speed+"ms "+e.options.cssEase,e.options.fade===!1?e.$slideTrack.css(i):e.$slides.eq(t).css(i)},e.prototype.autoPlay=function(){var t=this;t.autoPlayTimer&&clearInterval(t.autoPlayTimer),t.slideCount>t.options.slidesToShow&&t.paused!==!0&&(t.autoPlayTimer=setInterval(t.autoPlayIterator,t.options.autoplaySpeed))},e.prototype.autoPlayClear=function(){var t=this;
t.autoPlayTimer&&clearInterval(t.autoPlayTimer)},e.prototype.autoPlayIterator=function(){var t=this;t.options.infinite===!1?1===t.direction?(t.currentSlide+1===t.slideCount-1&&(t.direction=0),t.slideHandler(t.currentSlide+t.options.slidesToScroll)):(t.currentSlide-1===0&&(t.direction=1),t.slideHandler(t.currentSlide-t.options.slidesToScroll)):t.slideHandler(t.currentSlide+t.options.slidesToScroll)},e.prototype.buildArrows=function(){var e=this;e.options.arrows===!0&&e.slideCount>e.options.slidesToShow&&(e.$prevArrow=t(e.options.prevArrow),e.$nextArrow=t(e.options.nextArrow),e.htmlExpr.test(e.options.prevArrow)&&e.$prevArrow.appendTo(e.options.appendArrows),e.htmlExpr.test(e.options.nextArrow)&&e.$nextArrow.appendTo(e.options.appendArrows),e.options.infinite!==!0&&e.$prevArrow.addClass("slick-disabled"))},e.prototype.buildDots=function(){var e,i,o=this;if(o.options.dots===!0&&o.slideCount>o.options.slidesToShow){for(i='<ul class="'+o.options.dotsClass+'">',e=0;e<=o.getDotCount();e+=1)i+="<li>"+o.options.customPaging.call(this,o,e)+"</li>";i+="</ul>",o.$dots=t(i).appendTo(o.options.appendDots),o.$dots.find("li").first().addClass("slick-active")}},e.prototype.buildOut=function(){var e=this;e.$slides=e.$slider.children(e.options.slide+":not(.slick-cloned)").addClass("slick-slide"),e.slideCount=e.$slides.length,e.$slides.each(function(e,i){t(i).attr("index",e)}),e.$slidesCache=e.$slides,e.$slider.addClass("slick-slider"),e.$slideTrack=0===e.slideCount?t('<div class="slick-track"/>').appendTo(e.$slider):e.$slides.wrapAll('<div class="slick-track"/>').parent(),e.$list=e.$slideTrack.wrap('<div class="slick-list"/>').parent(),e.$slideTrack.css("opacity",0),e.options.centerMode===!0&&(e.options.slidesToScroll=1),t("img[data-lazy]",e.$slider).not("[src]").addClass("slick-loading"),e.setupInfinite(),e.buildArrows(),e.buildDots(),e.updateDots(),e.options.accessibility===!0&&e.$list.prop("tabIndex",0),e.setSlideClasses("number"==typeof this.currentSlide?this.currentSlide:0),e.options.draggable===!0&&e.$list.addClass("draggable")},e.prototype.checkResponsive=function(){var e,i,o,n=this,s=n.$slider.width(),r=window.innerWidth||t(window).width();if("window"===n.respondTo?o=r:"slider"===n.respondTo?o=s:"min"===n.respondTo&&(o=Math.min(r,s)),n.originalSettings.responsive&&n.originalSettings.responsive.length>-1&&null!==n.originalSettings.responsive){i=null;for(e in n.breakpoints)n.breakpoints.hasOwnProperty(e)&&o<n.breakpoints[e]&&(i=n.breakpoints[e]);null!==i?null!==n.activeBreakpoint?i!==n.activeBreakpoint&&(n.activeBreakpoint=i,n.options=t.extend({},n.originalSettings,n.breakpointSettings[i]),n.refresh()):(n.activeBreakpoint=i,n.options=t.extend({},n.originalSettings,n.breakpointSettings[i]),n.refresh()):null!==n.activeBreakpoint&&(n.activeBreakpoint=null,n.options=n.originalSettings,n.refresh())}},e.prototype.changeSlide=function(e,i){var o,n,s,r,a,c=this,l=t(e.target);switch(l.is("a")&&e.preventDefault(),s=c.slideCount%c.options.slidesToScroll!==0,o=s?0:(c.slideCount-c.currentSlide)%c.options.slidesToScroll,e.data.message){case"previous":n=0===o?c.options.slidesToScroll:c.options.slidesToShow-o,c.slideCount>c.options.slidesToShow&&c.slideHandler(c.currentSlide-n,!1,i);break;case"next":n=0===o?c.options.slidesToScroll:o,c.slideCount>c.options.slidesToShow&&c.slideHandler(c.currentSlide+n,!1,i);break;case"index":var h=0===e.data.index?0:e.data.index||t(e.target).parent().index()*c.options.slidesToScroll;if(r=c.getNavigableIndexes(),a=0,r[h]&&r[h]===h)if(h>r[r.length-1])h=r[r.length-1];else for(var u in r){if(h<r[u]){h=a;break}a=r[u]}c.slideHandler(h,!1,i);default:return}},e.prototype.clickHandler=function(t){var e=this;e.shouldClick===!1&&(t.stopImmediatePropagation(),t.stopPropagation(),t.preventDefault())},e.prototype.destroy=function(){var e=this;e.autoPlayClear(),e.touchObject={},t(".slick-cloned",e.$slider).remove(),e.$dots&&e.$dots.remove(),e.$prevArrow&&"object"!=typeof e.options.prevArrow&&e.$prevArrow.remove(),e.$nextArrow&&"object"!=typeof e.options.nextArrow&&e.$nextArrow.remove(),e.$slides.parent().hasClass("slick-track")&&e.$slides.unwrap().unwrap(),e.$slides.removeClass("slick-slide slick-active slick-center slick-visible").removeAttr("index").css({position:"",left:"",top:"",zIndex:"",opacity:"",width:""}),e.$slider.removeClass("slick-slider"),e.$slider.removeClass("slick-initialized"),e.$list.off(".slick"),t(window).off(".slick-"+e.instanceUid),t(document).off(".slick-"+e.instanceUid)},e.prototype.disableTransition=function(t){var e=this,i={};i[e.transitionType]="",e.options.fade===!1?e.$slideTrack.css(i):e.$slides.eq(t).css(i)},e.prototype.fadeSlide=function(t,e,i){var o=this;o.cssTransitions===!1?(o.$slides.eq(e).css({zIndex:1e3}),o.$slides.eq(e).animate({opacity:1},o.options.speed,o.options.easing,i),o.$slides.eq(t).animate({opacity:0},o.options.speed,o.options.easing)):(o.applyTransition(e),o.applyTransition(t),o.$slides.eq(e).css({opacity:1,zIndex:1e3}),o.$slides.eq(t).css({opacity:0}),i&&setTimeout(function(){o.disableTransition(e),o.disableTransition(t),i.call()},o.options.speed))},e.prototype.filterSlides=function(t){var e=this;null!==t&&(e.unload(),e.$slideTrack.children(this.options.slide).detach(),e.$slidesCache.filter(t).appendTo(e.$slideTrack),e.reinit())},e.prototype.getCurrent=function(){var t=this;return t.currentSlide},e.prototype.getDotCount=function(){var t=this,e=0,i=0,o=0;if(t.options.infinite===!0)o=Math.ceil(t.slideCount/t.options.slidesToScroll);else for(;e<t.slideCount;)++o,e=i+t.options.slidesToShow,i+=t.options.slidesToScroll<=t.options.slidesToShow?t.options.slidesToScroll:t.options.slidesToShow;return o-1},e.prototype.getLeft=function(t){var e,i,o,n=this,s=0;return n.slideOffset=0,i=n.$slides.first().outerHeight(),n.options.infinite===!0?(n.slideCount>n.options.slidesToShow&&(n.slideOffset=n.slideWidth*n.options.slidesToShow*-1,s=i*n.options.slidesToShow*-1),n.slideCount%n.options.slidesToScroll!==0&&t+n.options.slidesToScroll>n.slideCount&&n.slideCount>n.options.slidesToShow&&(t>n.slideCount?(n.slideOffset=(n.options.slidesToShow-(t-n.slideCount))*n.slideWidth*-1,s=(n.options.slidesToShow-(t-n.slideCount))*i*-1):(n.slideOffset=n.slideCount%n.options.slidesToScroll*n.slideWidth*-1,s=n.slideCount%n.options.slidesToScroll*i*-1))):t+n.options.slidesToShow>n.slideCount&&(n.slideOffset=(t+n.options.slidesToShow-n.slideCount)*n.slideWidth,s=(t+n.options.slidesToShow-n.slideCount)*i),n.slideCount<=n.options.slidesToShow&&(n.slideOffset=0,s=0),n.options.centerMode===!0&&n.options.infinite===!0?n.slideOffset+=n.slideWidth*Math.floor(n.options.slidesToShow/2)-n.slideWidth:n.options.centerMode===!0&&(n.slideOffset=0,n.slideOffset+=n.slideWidth*Math.floor(n.options.slidesToShow/2)),e=n.options.vertical===!1?t*n.slideWidth*-1+n.slideOffset:t*i*-1+s,n.options.variableWidth===!0&&(o=n.$slideTrack.children(".slick-slide").eq(n.slideCount<=n.options.slidesToShow||n.options.infinite===!1?t:t+n.options.slidesToShow),e=o[0]?-1*o[0].offsetLeft:0,n.options.centerMode===!0&&(o=n.$slideTrack.children(".slick-slide").eq(n.options.infinite===!1?t:t+n.options.slidesToShow+1),e=o[0]?-1*o[0].offsetLeft:0,e+=(n.$list.width()-o.outerWidth())/2)),e},e.prototype.getNavigableIndexes=function(){for(var t=this,e=0,i=0,o=[];e<t.slideCount;)o.push(e),e=i+t.options.slidesToScroll,i+=t.options.slidesToScroll<=t.options.slidesToShow?t.options.slidesToScroll:t.options.slidesToShow;return o},e.prototype.getSlideCount=function(){var e,i=this;if(i.options.swipeToSlide===!0){var o=null;return i.$slideTrack.find(".slick-slide").each(function(e,n){return n.offsetLeft+t(n).outerWidth()/2>-1*i.swipeLeft?(o=n,!1):void 0}),e=Math.abs(t(o).attr("index")-i.currentSlide)}return i.options.slidesToScroll},e.prototype.init=function(){var e=this;t(e.$slider).hasClass("slick-initialized")||(t(e.$slider).addClass("slick-initialized"),e.buildOut(),e.setProps(),e.startLoad(),e.loadSlider(),e.initializeEvents(),e.updateArrows(),e.updateDots()),null!==e.options.onInit&&e.options.onInit.call(this,e)},e.prototype.initArrowEvents=function(){var t=this;t.options.arrows===!0&&t.slideCount>t.options.slidesToShow&&(t.$prevArrow.on("click.slick",{message:"previous"},t.changeSlide),t.$nextArrow.on("click.slick",{message:"next"},t.changeSlide))},e.prototype.initDotEvents=function(){var e=this;e.options.dots===!0&&e.slideCount>e.options.slidesToShow&&t("li",e.$dots).on("click.slick",{message:"index"},e.changeSlide),e.options.dots===!0&&e.options.pauseOnDotsHover===!0&&e.options.autoplay===!0&&t("li",e.$dots).on("mouseenter.slick",function(){e.paused=!0,e.autoPlayClear()}).on("mouseleave.slick",function(){e.paused=!1,e.autoPlay()})},e.prototype.initializeEvents=function(){var e=this;e.initArrowEvents(),e.initDotEvents(),e.$list.on("touchstart.slick mousedown.slick",{action:"start"},e.swipeHandler),e.$list.on("touchmove.slick mousemove.slick",{action:"move"},e.swipeHandler),e.$list.on("touchend.slick mouseup.slick",{action:"end"},e.swipeHandler),e.$list.on("touchcancel.slick mouseleave.slick",{action:"end"},e.swipeHandler),e.$list.on("click.slick",e.clickHandler),e.options.pauseOnHover===!0&&e.options.autoplay===!0&&(e.$list.on("mouseenter.slick",function(){e.paused=!0,e.autoPlayClear()}),e.$list.on("mouseleave.slick",function(){e.paused=!1,e.autoPlay()})),e.options.accessibility===!0&&e.$list.on("keydown.slick",e.keyHandler),e.options.focusOnSelect===!0&&t(e.options.slide,e.$slideTrack).on("click.slick",e.selectHandler),t(window).on("orientationchange.slick.slick-"+e.instanceUid,function(){e.checkResponsive(),e.setPosition()}),t(window).on("resize.slick.slick-"+e.instanceUid,function(){t(window).width()!==e.windowWidth&&(clearTimeout(e.windowDelay),e.windowDelay=window.setTimeout(function(){e.windowWidth=t(window).width(),e.checkResponsive(),e.setPosition()},50))}),t("*[draggable!=true]",e.$slideTrack).on("dragstart",function(t){t.preventDefault()}),t(window).on("load.slick.slick-"+e.instanceUid,e.setPosition),t(document).on("ready.slick.slick-"+e.instanceUid,e.setPosition)},e.prototype.initUI=function(){var t=this;t.options.arrows===!0&&t.slideCount>t.options.slidesToShow&&(t.$prevArrow.show(),t.$nextArrow.show()),t.options.dots===!0&&t.slideCount>t.options.slidesToShow&&t.$dots.show(),t.options.autoplay===!0&&t.autoPlay()},e.prototype.keyHandler=function(t){var e=this;37===t.keyCode&&e.options.accessibility===!0?e.changeSlide({data:{message:"previous"}}):39===t.keyCode&&e.options.accessibility===!0&&e.changeSlide({data:{message:"next"}})},e.prototype.lazyLoad=function(){function e(e){t("img[data-lazy]",e).each(function(){var e=t(this),i=t(this).attr("data-lazy");e.load(function(){e.animate({opacity:1},200)}).css({opacity:0}).attr("src",i).removeAttr("data-lazy").removeClass("slick-loading")})}var i,o,n,s,r=this;r.options.centerMode===!0?r.options.infinite===!0?(n=r.currentSlide+(r.options.slidesToShow/2+1),s=n+r.options.slidesToShow+2):(n=Math.max(0,r.currentSlide-(r.options.slidesToShow/2+1)),s=2+(r.options.slidesToShow/2+1)+r.currentSlide):(n=r.options.infinite?r.options.slidesToShow+r.currentSlide:r.currentSlide,s=n+r.options.slidesToShow,r.options.fade===!0&&(n>0&&n--,s<=r.slideCount&&s++)),i=r.$slider.find(".slick-slide").slice(n,s),e(i),r.slideCount<=r.options.slidesToShow?(o=r.$slider.find(".slick-slide"),e(o)):r.currentSlide>=r.slideCount-r.options.slidesToShow?(o=r.$slider.find(".slick-cloned").slice(0,r.options.slidesToShow),e(o)):0===r.currentSlide&&(o=r.$slider.find(".slick-cloned").slice(-1*r.options.slidesToShow),e(o))},e.prototype.loadSlider=function(){var t=this;t.setPosition(),t.$slideTrack.css({opacity:1}),t.$slider.removeClass("slick-loading"),t.initUI(),"progressive"===t.options.lazyLoad&&t.progressiveLazyLoad()},e.prototype.postSlide=function(t){var e=this;null!==e.options.onAfterChange&&e.options.onAfterChange.call(this,e,t),e.animating=!1,e.setPosition(),e.swipeLeft=null,e.options.autoplay===!0&&e.paused===!1&&e.autoPlay()},e.prototype.progressiveLazyLoad=function(){var e,i,o=this;e=t("img[data-lazy]",o.$slider).length,e>0&&(i=t("img[data-lazy]",o.$slider).first(),i.attr("src",i.attr("data-lazy")).removeClass("slick-loading").load(function(){i.removeAttr("data-lazy"),o.progressiveLazyLoad()}).error(function(){i.removeAttr("data-lazy"),o.progressiveLazyLoad()}))},e.prototype.refresh=function(){var e=this,i=e.currentSlide;e.destroy(),t.extend(e,e.initials),e.init(),e.changeSlide({data:{message:"index",index:i}},!0)},e.prototype.reinit=function(){var e=this;e.$slides=e.$slideTrack.children(e.options.slide).addClass("slick-slide"),e.slideCount=e.$slides.length,e.currentSlide>=e.slideCount&&0!==e.currentSlide&&(e.currentSlide=e.currentSlide-e.options.slidesToScroll),e.slideCount<=e.options.slidesToShow&&(e.currentSlide=0),e.setProps(),e.setupInfinite(),e.buildArrows(),e.updateArrows(),e.initArrowEvents(),e.buildDots(),e.updateDots(),e.initDotEvents(),e.options.focusOnSelect===!0&&t(e.options.slide,e.$slideTrack).on("click.slick",e.selectHandler),e.setSlideClasses(0),e.setPosition(),null!==e.options.onReInit&&e.options.onReInit.call(this,e)},e.prototype.removeSlide=function(t,e,i){var o=this;return"boolean"==typeof t?(e=t,t=e===!0?0:o.slideCount-1):t=e===!0?--t:t,o.slideCount<1||0>t||t>o.slideCount-1?!1:(o.unload(),i===!0?o.$slideTrack.children().remove():o.$slideTrack.children(this.options.slide).eq(t).remove(),o.$slides=o.$slideTrack.children(this.options.slide),o.$slideTrack.children(this.options.slide).detach(),o.$slideTrack.append(o.$slides),o.$slidesCache=o.$slides,void o.reinit())},e.prototype.setCSS=function(t){var e,i,o=this,n={};o.options.rtl===!0&&(t=-t),e="left"==o.positionProp?t+"px":"0px",i="top"==o.positionProp?t+"px":"0px",n[o.positionProp]=t,o.transformsEnabled===!1?o.$slideTrack.css(n):(n={},o.cssTransitions===!1?(n[o.animType]="translate("+e+", "+i+")",o.$slideTrack.css(n)):(n[o.animType]="translate3d("+e+", "+i+", 0px)",o.$slideTrack.css(n)))},e.prototype.setDimensions=function(){var e=this;if(e.options.vertical===!1?e.options.centerMode===!0&&e.$list.css({padding:"0px "+e.options.centerPadding}):(e.$list.height(e.$slides.first().outerHeight(!0)*e.options.slidesToShow),e.options.centerMode===!0&&e.$list.css({padding:e.options.centerPadding+" 0px"})),e.listWidth=e.$list.width(),e.listHeight=e.$list.height(),e.options.vertical===!1&&e.options.variableWidth===!1)e.slideWidth=Math.ceil(e.listWidth/e.options.slidesToShow),e.$slideTrack.width(Math.ceil(e.slideWidth*e.$slideTrack.children(".slick-slide").length));else if(e.options.variableWidth===!0){var i=0;e.slideWidth=Math.ceil(e.listWidth/e.options.slidesToShow),e.$slideTrack.children(".slick-slide").each(function(){i+=Math.ceil(t(this).outerWidth(!0))}),e.$slideTrack.width(Math.ceil(i)+1)}else e.slideWidth=Math.ceil(e.listWidth),e.$slideTrack.height(Math.ceil(e.$slides.first().outerHeight(!0)*e.$slideTrack.children(".slick-slide").length));var o=e.$slides.first().outerWidth(!0)-e.$slides.first().width();e.options.variableWidth===!1&&e.$slideTrack.children(".slick-slide").width(e.slideWidth-o)},e.prototype.setFade=function(){var e,i=this;i.$slides.each(function(o,n){e=i.slideWidth*o*-1,t(n).css(i.options.rtl===!0?{position:"relative",right:e,top:0,zIndex:800,opacity:0}:{position:"relative",left:e,top:0,zIndex:800,opacity:0})}),i.$slides.eq(i.currentSlide).css({zIndex:900,opacity:1})},e.prototype.setHeight=function(){var t=this;if(1===t.options.slidesToShow&&t.options.adaptiveHeight===!0&&t.options.vertical===!1){var e=t.$slides.eq(t.currentSlide).outerHeight(!0);t.$list.css("height",e)}},e.prototype.setPosition=function(){var t=this;t.setDimensions(),t.setHeight(),t.options.fade===!1?t.setCSS(t.getLeft(t.currentSlide)):t.setFade(),null!==t.options.onSetPosition&&t.options.onSetPosition.call(this,t)},e.prototype.setProps=function(){var t=this,e=document.body.style;t.positionProp=t.options.vertical===!0?"top":"left","top"===t.positionProp?t.$slider.addClass("slick-vertical"):t.$slider.removeClass("slick-vertical"),(void 0!==e.WebkitTransition||void 0!==e.MozTransition||void 0!==e.msTransition)&&t.options.useCSS===!0&&(t.cssTransitions=!0),void 0!==e.OTransform&&(t.animType="OTransform",t.transformType="-o-transform",t.transitionType="OTransition",void 0===e.perspectiveProperty&&void 0===e.webkitPerspective&&(t.animType=!1)),void 0!==e.MozTransform&&(t.animType="MozTransform",t.transformType="-moz-transform",t.transitionType="MozTransition",void 0===e.perspectiveProperty&&void 0===e.MozPerspective&&(t.animType=!1)),void 0!==e.webkitTransform&&(t.animType="webkitTransform",t.transformType="-webkit-transform",t.transitionType="webkitTransition",void 0===e.perspectiveProperty&&void 0===e.webkitPerspective&&(t.animType=!1)),void 0!==e.msTransform&&(t.animType="msTransform",t.transformType="-ms-transform",t.transitionType="msTransition",void 0===e.msTransform&&(t.animType=!1)),void 0!==e.transform&&t.animType!==!1&&(t.animType="transform",t.transformType="transform",t.transitionType="transition"),t.transformsEnabled=null!==t.animType&&t.animType!==!1},e.prototype.setSlideClasses=function(t){var e,i,o,n,s=this;s.$slider.find(".slick-slide").removeClass("slick-active").removeClass("slick-center"),i=s.$slider.find(".slick-slide"),s.options.centerMode===!0?(e=Math.floor(s.options.slidesToShow/2),s.options.infinite===!0&&(t>=e&&t<=s.slideCount-1-e?s.$slides.slice(t-e,t+e+1).addClass("slick-active"):(o=s.options.slidesToShow+t,i.slice(o-e+1,o+e+2).addClass("slick-active")),0===t?i.eq(i.length-1-s.options.slidesToShow).addClass("slick-center"):t===s.slideCount-1&&i.eq(s.options.slidesToShow).addClass("slick-center")),s.$slides.eq(t).addClass("slick-center")):t>=0&&t<=s.slideCount-s.options.slidesToShow?s.$slides.slice(t,t+s.options.slidesToShow).addClass("slick-active"):i.length<=s.options.slidesToShow?i.addClass("slick-active"):(n=s.slideCount%s.options.slidesToShow,o=s.options.infinite===!0?s.options.slidesToShow+t:t,s.options.slidesToShow==s.options.slidesToScroll&&s.slideCount-t<s.options.slidesToShow?i.slice(o-(s.options.slidesToShow-n),o+n).addClass("slick-active"):i.slice(o,o+s.options.slidesToShow).addClass("slick-active")),"ondemand"===s.options.lazyLoad&&s.lazyLoad()},e.prototype.setupInfinite=function(){var e,i,o,n=this;if(n.options.fade===!0&&(n.options.centerMode=!1),n.options.infinite===!0&&n.options.fade===!1&&(i=null,n.slideCount>n.options.slidesToShow)){for(o=n.options.centerMode===!0?n.options.slidesToShow+1:n.options.slidesToShow,e=n.slideCount;e>n.slideCount-o;e-=1)i=e-1,t(n.$slides[i]).clone(!0).attr("id","").attr("index",i-n.slideCount).prependTo(n.$slideTrack).addClass("slick-cloned");for(e=0;o>e;e+=1)i=e,t(n.$slides[i]).clone(!0).attr("id","").attr("index",i+n.slideCount).appendTo(n.$slideTrack).addClass("slick-cloned");n.$slideTrack.find(".slick-cloned").find("[id]").each(function(){t(this).attr("id","")})}},e.prototype.selectHandler=function(e){var i=this,o=parseInt(t(e.target).parents(".slick-slide").attr("index"));return o||(o=0),i.slideCount<=i.options.slidesToShow?(i.$slider.find(".slick-slide").removeClass("slick-active"),i.$slides.eq(o).addClass("slick-active"),i.options.centerMode===!0&&(i.$slider.find(".slick-slide").removeClass("slick-center"),i.$slides.eq(o).addClass("slick-center")),void i.asNavFor(o)):void i.slideHandler(o)},e.prototype.slideHandler=function(t,e,i){var o,n,s,r,a=null,c=this;return e=e||!1,c.animating===!0&&c.options.waitForAnimate===!0||c.options.fade===!0&&c.currentSlide===t||c.slideCount<=c.options.slidesToShow?void 0:(e===!1&&c.asNavFor(t),o=t,a=c.getLeft(o),r=c.getLeft(c.currentSlide),c.currentLeft=null===c.swipeLeft?r:c.swipeLeft,c.options.infinite===!1&&c.options.centerMode===!1&&(0>t||t>c.getDotCount()*c.options.slidesToScroll)?void(c.options.fade===!1&&(o=c.currentSlide,i!==!0?c.animateSlide(r,function(){c.postSlide(o)}):c.postSlide(o))):c.options.infinite===!1&&c.options.centerMode===!0&&(0>t||t>c.slideCount-c.options.slidesToScroll)?void(c.options.fade===!1&&(o=c.currentSlide,i!==!0?c.animateSlide(r,function(){c.postSlide(o)}):c.postSlide(o))):(c.options.autoplay===!0&&clearInterval(c.autoPlayTimer),n=0>o?c.slideCount%c.options.slidesToScroll!==0?c.slideCount-c.slideCount%c.options.slidesToScroll:c.slideCount+o:o>=c.slideCount?c.slideCount%c.options.slidesToScroll!==0?0:o-c.slideCount:o,c.animating=!0,null!==c.options.onBeforeChange&&t!==c.currentSlide&&c.options.onBeforeChange.call(this,c,c.currentSlide,n),s=c.currentSlide,c.currentSlide=n,c.setSlideClasses(c.currentSlide),c.updateDots(),c.updateArrows(),c.options.fade===!0?void(i!==!0?c.fadeSlide(s,n,function(){c.postSlide(n)}):c.postSlide(n)):void(i!==!0?c.animateSlide(a,function(){c.postSlide(n)}):c.postSlide(n))))},e.prototype.startLoad=function(){var t=this;t.options.arrows===!0&&t.slideCount>t.options.slidesToShow&&(t.$prevArrow.hide(),t.$nextArrow.hide()),t.options.dots===!0&&t.slideCount>t.options.slidesToShow&&t.$dots.hide(),t.$slider.addClass("slick-loading")},e.prototype.swipeDirection=function(){var t,e,i,o,n=this;return t=n.touchObject.startX-n.touchObject.curX,e=n.touchObject.startY-n.touchObject.curY,i=Math.atan2(e,t),o=Math.round(180*i/Math.PI),0>o&&(o=360-Math.abs(o)),45>=o&&o>=0?n.options.rtl===!1?"left":"right":360>=o&&o>=315?n.options.rtl===!1?"left":"right":o>=135&&225>=o?n.options.rtl===!1?"right":"left":"vertical"},e.prototype.swipeEnd=function(){var t=this;if(t.dragging=!1,t.shouldClick=t.touchObject.swipeLength>10?!1:!0,void 0===t.touchObject.curX)return!1;if(t.touchObject.swipeLength>=t.touchObject.minSwipe)switch(t.swipeDirection()){case"left":t.slideHandler(t.currentSlide+t.getSlideCount()),t.currentDirection=0,t.touchObject={};break;case"right":t.slideHandler(t.currentSlide-t.getSlideCount()),t.currentDirection=1,t.touchObject={}}else t.touchObject.startX!==t.touchObject.curX&&(t.slideHandler(t.currentSlide),t.touchObject={})},e.prototype.swipeHandler=function(t){var e=this;if(!(e.options.swipe===!1||"ontouchend"in document&&e.options.swipe===!1||e.options.draggable===!1&&-1!==t.type.indexOf("mouse")))switch(e.touchObject.fingerCount=t.originalEvent&&void 0!==t.originalEvent.touches?t.originalEvent.touches.length:1,e.touchObject.minSwipe=e.listWidth/e.options.touchThreshold,t.data.action){case"start":e.swipeStart(t);break;case"move":e.swipeMove(t);break;case"end":e.swipeEnd(t)}},e.prototype.swipeMove=function(t){var e,i,o,n,s=this;return n=void 0!==t.originalEvent?t.originalEvent.touches:null,!s.dragging||n&&1!==n.length?!1:(e=s.getLeft(s.currentSlide),s.touchObject.curX=void 0!==n?n[0].pageX:t.clientX,s.touchObject.curY=void 0!==n?n[0].pageY:t.clientY,s.touchObject.swipeLength=Math.round(Math.sqrt(Math.pow(s.touchObject.curX-s.touchObject.startX,2))),i=s.swipeDirection(),"vertical"!==i?(void 0!==t.originalEvent&&s.touchObject.swipeLength>4&&t.preventDefault(),o=(s.options.rtl===!1?1:-1)*(s.touchObject.curX>s.touchObject.startX?1:-1),s.swipeLeft=s.options.vertical===!1?e+s.touchObject.swipeLength*o:e+s.touchObject.swipeLength*(s.$list.height()/s.listWidth)*o,s.options.fade===!0||s.options.touchMove===!1?!1:s.animating===!0?(s.swipeLeft=null,!1):void s.setCSS(s.swipeLeft)):void 0)},e.prototype.swipeStart=function(t){var e,i=this;return 1!==i.touchObject.fingerCount||i.slideCount<=i.options.slidesToShow?(i.touchObject={},!1):(void 0!==t.originalEvent&&void 0!==t.originalEvent.touches&&(e=t.originalEvent.touches[0]),i.touchObject.startX=i.touchObject.curX=void 0!==e?e.pageX:t.clientX,i.touchObject.startY=i.touchObject.curY=void 0!==e?e.pageY:t.clientY,void(i.dragging=!0))},e.prototype.unfilterSlides=function(){var t=this;null!==t.$slidesCache&&(t.unload(),t.$slideTrack.children(this.options.slide).detach(),t.$slidesCache.appendTo(t.$slideTrack),t.reinit())},e.prototype.unload=function(){var e=this;t(".slick-cloned",e.$slider).remove(),e.$dots&&e.$dots.remove(),e.$prevArrow&&"object"!=typeof e.options.prevArrow&&e.$prevArrow.remove(),e.$nextArrow&&"object"!=typeof e.options.nextArrow&&e.$nextArrow.remove(),e.$slides.removeClass("slick-slide slick-active slick-visible").css("width","")},e.prototype.updateArrows=function(){var t,e=this;t=Math.floor(e.options.slidesToShow/2),e.options.arrows===!0&&e.options.infinite!==!0&&e.slideCount>e.options.slidesToShow&&(e.$prevArrow.removeClass("slick-disabled"),e.$nextArrow.removeClass("slick-disabled"),0===e.currentSlide?(e.$prevArrow.addClass("slick-disabled"),e.$nextArrow.removeClass("slick-disabled")):e.currentSlide>=e.slideCount-e.options.slidesToShow&&e.options.centerMode===!1?(e.$nextArrow.addClass("slick-disabled"),e.$prevArrow.removeClass("slick-disabled")):e.currentSlide>e.slideCount-e.options.slidesToShow+t&&e.options.centerMode===!0&&(e.$nextArrow.addClass("slick-disabled"),e.$prevArrow.removeClass("slick-disabled")))},e.prototype.updateDots=function(){var t=this;null!==t.$dots&&(t.$dots.find("li").removeClass("slick-active"),t.$dots.find("li").eq(Math.floor(t.currentSlide/t.options.slidesToScroll)).addClass("slick-active"))},t.fn.slick=function(t){var i=this;return i.each(function(i,o){o.slick=new e(o,t)})},t.fn.slickAdd=function(t,e,i){var o=this;return o.each(function(o,n){n.slick.addSlide(t,e,i)})},t.fn.slickCurrentSlide=function(){var t=this;return t.get(0).slick.getCurrent()},t.fn.slickFilter=function(t){var e=this;return e.each(function(e,i){i.slick.filterSlides(t)})},t.fn.slickGoTo=function(t,e){var i=this;return i.each(function(i,o){o.slick.changeSlide({data:{message:"index",index:parseInt(t)}},e)})},t.fn.slickNext=function(){var t=this;return t.each(function(t,e){e.slick.changeSlide({data:{message:"next"}})})},t.fn.slickPause=function(){var t=this;return t.each(function(t,e){e.slick.autoPlayClear(),e.slick.paused=!0})},t.fn.slickPlay=function(){var t=this;return t.each(function(t,e){e.slick.paused=!1,e.slick.autoPlay()})},t.fn.slickPrev=function(){var t=this;return t.each(function(t,e){e.slick.changeSlide({data:{message:"previous"}})})},t.fn.slickRemove=function(t,e){var i=this;return i.each(function(i,o){o.slick.removeSlide(t,e)})},t.fn.slickRemoveAll=function(){var t=this;return t.each(function(t,e){e.slick.removeSlide(null,null,!0)})},t.fn.slickGetOption=function(t){var e=this;return e.get(0).slick.options[t]},t.fn.slickSetOption=function(t,e,i){var o=this;return o.each(function(o,n){n.slick.options[t]=e,i===!0&&(n.slick.unload(),n.slick.reinit())})},t.fn.slickUnfilter=function(){var t=this;return t.each(function(t,e){e.slick.unfilterSlides()})},t.fn.unslick=function(){var t=this;return t.each(function(t,e){e.slick&&e.slick.destroy()})},t.fn.getSlick=function(){var t=null,e=this;return e.each(function(e,i){t=i.slick}),t}}),n("undefined"!=typeof slick?slick:window.slick)}.call(i,void 0,void 0,void 0,void 0,function(t){e.exports=t})}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],4:[function(t,e){routes={home:{name:"home"},services:{name:"services"},def:{name:"default"}},e.exports=routes},{}],5:[function(t){$(document).ready(function(){var e=t("./modules/core.current_page_is");e.init(),t("./modules/core.page_transitions")})},{"./modules/core.current_page_is":6,"./modules/core.page_transitions":8}],6:[function(t,e){function i(){for(var t in n)$("body").hasClass("page--"+n[t].name)&&(s[t].init(),r())}function o(){for(var t in n)if($("body").hasClass("page--"+n[t].name))return s[t].destroy(),!0}var i,o,n=t("../config"),s=t("../pages/pages"),r=t("../pages/header");e.exports={init:i,destroy:o}},{"../config":4,"../pages/header":9,"../pages/pages":13}],7:[function(t,e){function i(){n.addClass("active")}function o(){n.removeClass("active")}var n=$(".preload-wrapper");e.exports={init:i,destroy:o}},{}],8:[function(t){t("pjax");var e=t("./core.current_page_is"),i=t("./core.page_preloader");$.pjax({area:".page-body, .header",callback:function(){console.log("page load callback")},wait:1e3,callback:function(){},rewrite:function(t){console.log("Rewriting page parts");var e=$("body",t).attr("class");$("body").attr("class",e)}}),$(document).bind("pjax:fetch",function(){function t(){i.init()}console.log("fetching new page");setTimeout(t,400);e.destroy()}),$(document).bind("pjax:render",function(){function t(){i.destroy()}function o(){e.init()}console.log("rendering new page");setTimeout(t,1e3),setTimeout(o,1e3)})},{"./core.current_page_is":6,"./core.page_preloader":7,pjax:2}],9:[function(t,e){function i(){var t=document.querySelector("header"),e=new Headroom(t);e.init({tolerance:{up:20,down:10}})}t("headroom");e.exports=i},{headroom:1}],10:[function(t,e){function i(){}function o(){}e.exports={init:i,destroy:o}},{}],11:[function(t,e){function i(){I={},hex={},x=$(".hex_col"),E=$(".spine"),S=E.length,k=150,O=$("body").outerWidth(),j=$("body").outerHeight(),A=$(".hex_col").outerWidth(),U=$(".hex_col").length,R=Number($(".hex_col:nth-child(2)").css("margin-left").replace(/[^-\d\.]/g,"")),hex.colCount=x.length,hex.count=E.length,hex.colWidth=$(".hex_col").outerWidth(),hex.colShiftMarginLeft=Number($(".hex_col:nth-child(2)").css("margin-left").replace(/[^-\d\.]/g,"")),I.hexCount=x.children().length,I.hexInView=I.hexCount,I.totalWidth=0,I.totalColumnsOffViewToLeft=0,I.$columnsOffViewToLeft=[],I.totalHexagonsOffViewToLeft=0,I.totalColumnsOffViewToRight=0,I.$columnsOffViewToRight=[],I.totalHexagonsOffViewToRight=0,I.totalColumnsInView=0,I.$columnsInView=[],I.firstColumnInView=0,I.firstHexInView=0,s(),D=I.hexInView*k,L=new X,P=new X,C=new X}function o(){$(".project-list").width(N)}function n(){H=setTimeout(function(){y(),_(),w(),s(),f(),m(),$(window).resize(function(){s()})},D+300)}function s(){a(),c(),l(),h(),u(),p(),d()}function r(){N=A*U+R*(U-1),I.totalWidth=N}function a(){var t;"object"==typeof M?offsetleft=Math.abs(M.x):t=0,I.totalColumnsOffViewToLeft=Math.floor(t/hex.colWidth)}function c(){var t=I.totalColumnsOffViewToLeft;I.totalHexagonsOffViewToLeft=x.slice(0,t).children().length}function l(){I.$columnsOffViewToRight.length=0,x.each(function(){$(this).offset().left>O&&I.$columnsOffViewToRight.push($(this))}),I.totalColumnsOffViewToRight=I.$columnsOffViewToRight.length}function h(){I.$columnsInView.length=0,x.each(function(){$(this).offset().left>-hex.colWidth&&$(this).offset().left<O&&I.$columnsInView.push($(this))}),I.totalColumnsInView=I.$columnsInView.length}function u(){var t=0;$.each(I.$columnsInView,function(e,i){t+=$(i[0]).children().length}),I.hexInView=t}function p(){var t=$(I.$columnsInView[0][0]);I.firstColumnInView=x.index(t)}function d(){var t=$(I.$columnsInView[0][0]).children().first();I.firstHexInView=E.index(t)}function f(){$(".full-width-wrapper").toggleClass("init")}function m(){$(".hex-slider").slick({draggable:!1,fade:!0,arrows:!1,autoplay:!0,speed:2e3,autoplaySpeed:2500,cssEase:"linear"})}function v(){L.translate({from:{x:-300,y:0},to:{x:0,y:0},duration:600,stiffness:9,bounces:1}).rotate({from:-45,to:0,duration:1600,stiffness:2,bounces:2}).scale({from:{x:.5,y:.5},to:{x:1,y:1},duration:2600,bounces:8,stiffness:7}),E.each(function(t,e){var i,o=k*(t+1);i=setTimeout(function(){$(e).removeClass("spine--init"),L.applyTo(e)},o)})}function y(){E.each(function(t,e){var i,o=50*(t+1);i=setTimeout(function(){$(e).removeClass("spine--init-text")},o)})}function g(){f(),C.scale({from:{x:1,y:1},to:{x:.8,y:.8},duration:1300,bounces:2,stiffness:3}),E.slice(I.firstHexInView,I.hexInView+I.firstHexInView).each(function(t,e){var i,o=50*(t+1);i=setTimeout(function(){$(e).addClass("spine--init"),C.applyTo(e)},o)})}function w(){E.hammer().bind("tap click",function(t){return M.moved?($.pjax.disable(),void t.preventDefault()):(g(),void $.pjax.enable())})}function _(){P.scale({from:{x:1,y:1},to:{x:.98,y:.98},duration:1e3,bounces:0,stiffness:2,delay:0}).scale({from:{x:1,y:1},to:{x:1.02,y:1.02},duration:1e3,bounces:8,stiffness:2,delay:250}),E.hover(function(){P.applyTo($(this))},function(){})}function T(){M=new z("#iscroll",{scrollY:!1,scrollX:!0,mouseWheel:!1}),M.on("scrollEnd",function(){s()})}function b(){i(),r(),o(),T(),v(),n()}{var x,E,S,k,D,M,L,P,C,O,j,A,U,R,H,I,N,X=t("bounce.js"),z=t("iscroll");t("jquery-hammerjs")
}e.exports={init:b,destroy:g}},{"bounce.js":14,iscroll:16,"jquery-hammerjs":17}],12:[function(t,e){function i(){$(".page-header-window").addClass("active"),$(".testimonials__slider").slick({dots:!0,autoplay:!0,autoplaySpeed:4e3,arrows:!1})}function o(){$(".page-header-window").removeClass("active")}t("slick.js"),e.exports={init:i,destroy:o}},{"slick.js":3}],13:[function(t,e){e.exports={home:t("./page.home"),services:t("./page.services"),def:t("./page.default")}},{"./page.default":10,"./page.home":11,"./page.services":12}],14:[function(t,e){(function(i){__browserify_shim_require__=t,function(t,e,o,n,s){!function(o){if("object"==typeof e)t.exports=o();else if("function"==typeof n&&n.amd)n(o);else{var s;"undefined"!=typeof window?s=window:"undefined"!=typeof i?s=i:"undefined"!=typeof self&&(s=self),s.Bounce=o()}}(function(){return function t(e,i,n){function s(a,c){if(!i[a]){if(!e[a]){var l="function"==typeof o&&o;if(!c&&l)return l(a,!0);if(r)return r(a,!0);throw new Error("Cannot find module '"+a+"'")}var h=i[a]={exports:{}};e[a][0].call(h.exports,function(t){var i=e[a][1][t];return s(i?i:t)},h,h.exports,t,e,i,n)}return i[a].exports}for(var r="function"==typeof o&&o,a=0;a<n.length;a++)s(n[a]);return s}({1:[function(t,e){var i,o,n;n=t("../math/matrix4d"),o={bounce:t("../easing/bounce"),sway:t("../easing/sway"),hardbounce:t("../easing/hardbounce"),hardsway:t("../easing/hardsway")},i=function(){function t(t){t||(t={}),null!=t.easing&&(this.easing=t.easing),null!=t.duration&&(this.duration=t.duration),null!=t.delay&&(this.delay=t.delay),null!=t.from&&(this.from=t.from),null!=t.to&&(this.to=t.to),this.easingObject=new o[this.easing](t)}return t.prototype.easing="bounce",t.prototype.duration=1e3,t.prototype.delay=0,t.prototype.from=null,t.prototype.to=null,t.prototype.calculateEase=function(t){return this.easingObject.calculate(t)},t.prototype.getMatrix=function(){return(new n).identity()},t.prototype.getEasedMatrix=function(){return this.getMatrix()},t.prototype.serialize=function(){var t,e,i,o;e={type:this.constructor.name.toLowerCase(),easing:this.easing,duration:this.duration,delay:this.delay,from:this.from,to:this.to},o=this.easingObject.serialize();for(t in o)i=o[t],e[t]=i;return e},t}(),e.exports=i},{"../easing/bounce":6,"../easing/hardbounce":7,"../easing/hardsway":8,"../easing/sway":10,"../math/matrix4d":12}],2:[function(t,e){var i,o,n,s,r={}.hasOwnProperty,a=function(t,e){function i(){this.constructor=t}for(var o in e)r.call(e,o)&&(t[o]=e[o]);return i.prototype=e.prototype,t.prototype=new i,t.__super__=e.prototype,t};o=t("../math/matrix4d"),s=t("../math/vector2d"),i=t("./index"),n=function(t){function e(){e.__super__.constructor.apply(this,arguments),this.diff=this.to-this.from}return a(e,t),e.prototype.from=0,e.prototype.to=90,e.prototype.getMatrix=function(t){var e,i,n;return i=t/180*Math.PI,e=Math.cos(i),n=Math.sin(i),new o([e,-n,0,0,n,e,0,0,0,0,1,0,0,0,0,1])},e.prototype.getEasedMatrix=function(t){var e,i;return i=this.calculateEase(t),e=this.from+this.diff*i,this.getMatrix(e)},e}(i),e.exports=n},{"../math/matrix4d":12,"../math/vector2d":13,"./index":1}],3:[function(t,e){var i,o,n,s,r={}.hasOwnProperty,a=function(t,e){function i(){this.constructor=t}for(var o in e)r.call(e,o)&&(t[o]=e[o]);return i.prototype=e.prototype,t.prototype=new i,t.__super__=e.prototype,t};o=t("../math/matrix4d"),s=t("../math/vector2d"),i=t("./index"),n=function(t){function e(){e.__super__.constructor.apply(this,arguments),this.fromVector=new s(this.from.x,this.from.y),this.toVector=new s(this.to.x,this.to.y),this.diff=this.toVector.clone().subtract(this.fromVector)}return a(e,t),e.prototype.from={x:.5,y:.5},e.prototype.to={x:1,y:1},e.prototype.getMatrix=function(t,e){var i;return i=1,new o([t,0,0,0,0,e,0,0,0,0,i,0,0,0,0,1])},e.prototype.getEasedMatrix=function(t){var e,i;return e=this.calculateEase(t),i=this.fromVector.clone().add(this.diff.clone().multiply(e)),this.getMatrix(i.x,i.y)},e}(i),e.exports=n},{"../math/matrix4d":12,"../math/vector2d":13,"./index":1}],4:[function(t,e){var i,o,n,s,r={}.hasOwnProperty,a=function(t,e){function i(){this.constructor=t}for(var o in e)r.call(e,o)&&(t[o]=e[o]);return i.prototype=e.prototype,t.prototype=new i,t.__super__=e.prototype,t};o=t("../math/matrix4d"),s=t("../math/vector2d"),i=t("./index"),n=function(t){function e(){e.__super__.constructor.apply(this,arguments),this.fromVector=new s(this.from.x,this.from.y),this.toVector=new s(this.to.x,this.to.y),this.diff=this.toVector.clone().subtract(this.fromVector)}return a(e,t),e.prototype.from={x:0,y:0},e.prototype.to={x:20,y:0},e.prototype.getMatrix=function(t,e){var i,n,s,r;return i=t/180*Math.PI,n=e/180*Math.PI,s=Math.tan(i),r=Math.tan(n),new o([1,s,0,0,r,1,0,0,0,0,1,0,0,0,0,1])},e.prototype.getEasedMatrix=function(t){var e,i;return e=this.calculateEase(t),i=this.fromVector.clone().add(this.diff.clone().multiply(e)),this.getMatrix(i.x,i.y)},e}(i),e.exports=n},{"../math/matrix4d":12,"../math/vector2d":13,"./index":1}],5:[function(t,e){var i,o,n,s,r={}.hasOwnProperty,a=function(t,e){function i(){this.constructor=t}for(var o in e)r.call(e,o)&&(t[o]=e[o]);return i.prototype=e.prototype,t.prototype=new i,t.__super__=e.prototype,t};o=t("../math/matrix4d"),s=t("../math/vector2d"),i=t("./index"),n=function(t){function e(){e.__super__.constructor.apply(this,arguments),this.fromVector=new s(this.from.x,this.from.y),this.toVector=new s(this.to.x,this.to.y),this.diff=this.toVector.clone().subtract(this.fromVector)}return a(e,t),e.prototype.from={x:0,y:0},e.prototype.to={x:0,y:0},e.prototype.getMatrix=function(t,e){var i;return i=0,new o([1,0,0,t,0,1,0,e,0,0,1,i,0,0,0,1])},e.prototype.getEasedMatrix=function(t){var e,i;return e=this.calculateEase(t),i=this.fromVector.clone().add(this.diff.clone().multiply(e)),this.getMatrix(i.x,i.y)},e}(i),e.exports=n},{"../math/matrix4d":12,"../math/vector2d":13,"./index":1}],6:[function(t,e){var i,o,n={}.hasOwnProperty,s=function(t,e){function i(){this.constructor=t}for(var o in e)n.call(e,o)&&(t[o]=e[o]);return i.prototype=e.prototype,t.prototype=new i,t.__super__=e.prototype,t};o=t("./index"),i=function(t){function e(t){var i;null==t&&(t={}),e.__super__.constructor.apply(this,arguments),null!=t.stiffness&&(this.stiffness=t.stiffness),null!=t.bounces&&(this.bounces=t.bounces),this.alpha=this.stiffness/100,i=.005/Math.pow(10,this.stiffness),this.limit=Math.floor(Math.log(i)/-this.alpha),this.omega=this.bounces*Math.PI/this.limit}return s(e,t),e.prototype.bounces=4,e.prototype.stiffness=3,e.prototype.calculate=function(t){var e;return t>=1?1:(e=t*this.limit,1-this.exponent(e)*this.oscillation(e))},e.prototype.exponent=function(t){return Math.pow(Math.E,-this.alpha*t)},e.prototype.oscillation=function(t){return Math.cos(this.omega*t)},e.prototype.serialize=function(){return{stiffness:this.stiffness,bounces:this.bounces}},e}(o),e.exports=i},{"./index":9}],7:[function(t,e){var i,o,n={}.hasOwnProperty,s=function(t,e){function i(){this.constructor=t}for(var o in e)n.call(e,o)&&(t[o]=e[o]);return i.prototype=e.prototype,t.prototype=new i,t.__super__=e.prototype,t};i=t("./bounce"),o=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return s(e,t),e.prototype.oscillation=function(t){return Math.abs(Math.cos(this.omega*t))},e}(i),e.exports=o},{"./bounce":6}],8:[function(t,e){var i,o,n={}.hasOwnProperty,s=function(t,e){function i(){this.constructor=t}for(var o in e)n.call(e,o)&&(t[o]=e[o]);return i.prototype=e.prototype,t.prototype=new i,t.__super__=e.prototype,t};o=t("./sway"),i=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return s(e,t),e.prototype.oscillation=function(t){return Math.abs(Math.sin(this.omega*t))},e}(o),e.exports=i},{"./sway":10}],9:[function(t,e){var i;i=function(){function t(){}return t.prototype.calculate=function(t){return t},t.prototype.serialize=function(){return{}},t}(),e.exports=i},{}],10:[function(t,e){var i,o,n={}.hasOwnProperty,s=function(t,e){function i(){this.constructor=t}for(var o in e)n.call(e,o)&&(t[o]=e[o]);return i.prototype=e.prototype,t.prototype=new i,t.__super__=e.prototype,t};i=t("./bounce"),o=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return s(e,t),e.prototype.calculate=function(t){var e;return t>=1?0:(e=t*this.limit,this.exponent(e)*this.oscillation(e))},e.prototype.oscillation=function(t){return Math.sin(this.omega*t)},e}(i),e.exports=o},{"./bounce":6}],11:[function(t,e){var i,o,n;n=t("./math/matrix4d"),o={scale:t("./components/scale"),rotate:t("./components/rotate"),translate:t("./components/translate"),skew:t("./components/skew")},i=function(){function t(){this.components=[]}return t.FPS=30,t.counter=1,t.prototype.components=null,t.prototype.duration=0,t.prototype.scale=function(t){return this.addComponent(new o.scale(t))},t.prototype.rotate=function(t){return this.addComponent(new o.rotate(t))},t.prototype.translate=function(t){return this.addComponent(new o.translate(t))},t.prototype.skew=function(t){return this.addComponent(new o.skew(t))},t.prototype.addComponent=function(t){return this.components.push(t),this.updateDuration(),this},t.prototype.serialize=function(){var t,e,i,o,n;for(e=[],n=this.components,i=0,o=n.length;o>i;i++)t=n[i],e.push(t.serialize());return e},t.prototype.deserialize=function(t){var e,i,n;for(i=0,n=t.length;n>i;i++)e=t[i],this.addComponent(new o[e.type](e));return this},t.prototype.updateDuration=function(){return this.duration=this.components.map(function(t){return t.duration+t.delay}).reduce(function(t,e){return Math.max(t,e)})},t.prototype.define=function(e){return this.name=e||t.generateName(),this.styleElement=document.createElement("style"),this.styleElement.innerHTML=this.getKeyframeCSS({name:this.name,prefix:!0}),document.body.appendChild(this.styleElement),this},t.prototype.applyTo=function(t,e){var i,o,n,s,r,a,c,l,h,u;for(null==e&&(e={}),this.define(),t.length||(t=[t]),r=this.getPrefixes(),o=null,window.jQuery&&window.jQuery.Deferred&&(o=new window.jQuery.Deferred),a=0,l=t.length;l>a;a++)for(n=t[a],u=r.animation,c=0,h=u.length;h>c;c++)s=u[c],i=[this.name,""+this.duration+"ms","linear","both"],e.loop&&i.push("infinite"),n.style[""+s+"animation"]=i.join(" ");return e.loop||setTimeout(function(t){return function(){return e.remove&&t.remove(),"function"==typeof e.onComplete&&e.onComplete(),o?o.resolve():void 0}}(this),this.duration),o},t.prototype.remove=function(){var t;return null!=(t=this.styleElement)?t.remove():void 0},t.prototype.getPrefixes=function(t){var e,i;return e={transform:[""],animation:[""]},i=document.createElement("dummy").style,(t||!("transform"in i)&&"webkitTransform"in i)&&(e.transform=["-webkit-",""]),(t||!("animation"in i)&&"webkitAnimation"in i)&&(e.animation=["-webkit-",""]),e},t.prototype.getKeyframeCSS=function(e){var i,o,n,s,r,a,c,l,h,u,p,d,f,m,v,y,g,w;for(null==e&&(e={}),this.name=e.name||t.generateName(),c={transform:[""],animation:[""]},(e.prefix||e.forcePrefix)&&(c=this.getPrefixes(e.forcePrefix)),n=[],s=this.getKeyframes(),y=this.keys,u=0,f=y.length;f>u;u++){for(o=y[u],r=s[o],l="matrix3d"+r,h=[],g=c.transform,p=0,m=g.length;m>p;p++)a=g[p],h.push(""+a+"transform: "+l+";");n.push(""+Math.round(100*o*1e6)/1e6+"% { "+h.join(" ")+" }")}for(i=[],w=c.animation,d=0,v=w.length;v>d;d++)a=w[d],i.push("@"+a+"keyframes "+this.name+" { \n  "+n.join("\n  ")+" \n}");return i.join("\n\n")},t.prototype.getKeyframes=function(){var e,i,o,s,r,a,c,l,h,u,p,d,f,m,v;for(o=Math.round(this.duration/1e3*t.FPS),this.keys=[],s=h=0;o>=0?o>=h:h>=o;s=o>=0?++h:--h)this.keys.push(s/o);for(a={},m=this.keys,u=0,d=m.length;d>u;u++){for(r=m[u],c=(new n).identity(),v=this.components,p=0,f=v.length;f>p;p++)e=v[p],i=r*this.duration,e.delay-i>1e-8||(l=(r-e.delay/this.duration)/(e.duration/this.duration),c.multiply(e.getEasedMatrix(l)));a[r]=c.transpose().toFixed(5)}return a},t.generateName=function(){return"animation-"+t.counter++},t.isSupported=function(){var t,e,i,o,n,s,r,a,c;for(n=document.createElement("dummy").style,o=[["transform","webkitTransform"],["animation","webkitAnimation"]],s=0,a=o.length;a>s;s++){for(i=o[s],e=!1,r=0,c=i.length;c>r;r++)t=i[r],e||(e=t in n);if(!e)return!1}return!0},t}(),e.exports=i},{"./components/rotate":2,"./components/scale":3,"./components/skew":4,"./components/translate":5,"./math/matrix4d":12}],12:[function(t,e){var i;i=function(){function t(t){this._array=(null!=t?t.slice(0):void 0)||[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]}return t.prototype._array=null,t.prototype.equals=function(t){return this.toString()===t.toString()},t.prototype.identity=function(){return this.setArray([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]),this},t.prototype.multiply=function(e){var i,o,n,s,r,a,c,l;for(s=new t,i=a=0;4>a;i=++a)for(o=c=0;4>c;o=++c)for(n=l=0;4>l;n=++l)r=s.get(i,o)+this.get(i,n)*e.get(n,o),s.set(i,o,r);return this.copy(s)},t.prototype.transpose=function(){var t;return t=this.getArray(),this.setArray([t[0],t[4],t[8],t[12],t[1],t[5],t[9],t[13],t[2],t[6],t[10],t[14],t[3],t[7],t[11],t[15]]),this},t.prototype.get=function(t,e){return this.getArray()[4*t+e]},t.prototype.set=function(t,e,i){return this._array[4*t+e]=i},t.prototype.copy=function(t){return this._array=t.getArray(),this},t.prototype.clone=function(){return new t(this.getArray())},t.prototype.getArray=function(){return this._array.slice(0)},t.prototype.setArray=function(t){return this._array=t,this},t.prototype.toString=function(){return"("+this.getArray().join(", ")+")"},t.prototype.toFixed=function(t){var e;return this._array=function(){var i,o,n,s;for(n=this._array,s=[],i=0,o=n.length;o>i;i++)e=n[i],s.push(parseFloat(e.toFixed(t)));return s}.call(this),this},t}(),e.exports=i},{}],13:[function(t,e){var i;i=function(){function t(t,e){this.x=null!=t?t:0,this.y=null!=e?e:0}return t.prototype.x=0,t.prototype.y=0,t.prototype.add=function(e){return t.isVector2D(e)?(this.x+=e.x,this.y+=e.y,this):this._addScalar(e)},t.prototype._addScalar=function(t){return this.x+=t,this.y+=t,this},t.prototype.subtract=function(e){return t.isVector2D(e)?(this.x-=e.x,this.y-=e.y,this):this._subtractScalar(e)},t.prototype._subtractScalar=function(t){return this._addScalar(-t)},t.prototype.multiply=function(e){return t.isVector2D(e)?(this.x*=e.x,this.y*=e.y,this):this._multiplyScalar(e)},t.prototype._multiplyScalar=function(t){return this.x*=t,this.y*=t,this},t.prototype.divide=function(e){return t.isVector2D(e)?(this.x/=e.x,this.y/=e.y,this):this._divideScalar(e)},t.prototype._divideScalar=function(t){return this._multiplyScalar(1/t)},t.prototype.clone=function(){return new t(this.x,this.y)},t.prototype.copy=function(t){return this.x=t.x,this.y=t.y,this},t.prototype.equals=function(t){return t.x===this.x&&t.y===this.y},t.prototype.toString=function(){return"("+this.x+", "+this.y+")"},t.prototype.toFixed=function(t){return this.x=parseFloat(this.x.toFixed(t)),this.y=parseFloat(this.y.toFixed(t)),this},t.prototype.toArray=function(){return[this.x,this.y]},t.isVector2D=function(e){return e instanceof t},t}(),e.exports=i},{}]},{},[11])(11)}),s("undefined"!=typeof Bounce?Bounce:window.Bounce)}.call(i,void 0,void 0,void 0,void 0,function(t){e.exports=t})}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],15:[function(t,e){(function(i){__browserify_shim_require__=t,function(t,e,i,o,n){!function(e,i,n,s){"use strict";function r(t,e,i){return setTimeout(p(t,i),e)}function a(t,e,i){return Array.isArray(t)?(c(t,i[e],i),!0):!1}function c(t,e,i){var o;if(t)if(t.forEach)t.forEach(e,i);else if(t.length!==s)for(o=0;o<t.length;)e.call(i,t[o],o,t),o++;else for(o in t)t.hasOwnProperty(o)&&e.call(i,t[o],o,t)}function l(t,e,i){for(var o=Object.keys(e),n=0;n<o.length;)(!i||i&&t[o[n]]===s)&&(t[o[n]]=e[o[n]]),n++;return t}function h(t,e){return l(t,e,!0)}function u(t,e,i){var o,n=e.prototype;o=t.prototype=Object.create(n),o.constructor=t,o._super=n,i&&l(o,i)}function p(t,e){return function(){return t.apply(e,arguments)}}function d(t,e){return typeof t==pe?t.apply(e?e[0]||s:s,e):t}function f(t,e){return t===s?e:t}function m(t,e,i){c(w(e),function(e){t.addEventListener(e,i,!1)})}function v(t,e,i){c(w(e),function(e){t.removeEventListener(e,i,!1)})}function y(t,e){for(;t;){if(t==e)return!0;t=t.parentNode}return!1}function g(t,e){return t.indexOf(e)>-1}function w(t){return t.trim().split(/\s+/g)}function _(t,e,i){if(t.indexOf&&!i)return t.indexOf(e);for(var o=0;o<t.length;){if(i&&t[o][i]==e||!i&&t[o]===e)return o;o++}return-1}function T(t){return Array.prototype.slice.call(t,0)}function b(t,e,i){for(var o=[],n=[],s=0;s<t.length;){var r=e?t[s][e]:t[s];_(n,r)<0&&o.push(t[s]),n[s]=r,s++}return i&&(o=e?o.sort(function(t,i){return t[e]>i[e]}):o.sort()),o}function x(t,e){for(var i,o,n=e[0].toUpperCase()+e.slice(1),r=0;r<he.length;){if(i=he[r],o=i?i+n:e,o in t)return o;r++}return s}function E(){return ve++}function S(t){var e=t.ownerDocument;return e.defaultView||e.parentWindow}function k(t,e){var i=this;this.manager=t,this.callback=e,this.element=t.element,this.target=t.options.inputTarget,this.domHandler=function(e){d(t.options.enable,[t])&&i.handler(e)},this.init()}function D(t){var e,i=t.options.inputClass;return new(e=i?i:we?X:_e?q:ge?Y:N)(t,M)}function M(t,e,i){var o=i.pointers.length,n=i.changedPointers.length,s=e&ke&&o-n===0,r=e&(Me|Le)&&o-n===0;i.isFirst=!!s,i.isFinal=!!r,s&&(t.session={}),i.eventType=e,L(t,i),t.emit("hammer.input",i),t.recognize(i),t.session.prevInput=i}function L(t,e){var i=t.session,o=e.pointers,n=o.length;i.firstInput||(i.firstInput=O(e)),n>1&&!i.firstMultiple?i.firstMultiple=O(e):1===n&&(i.firstMultiple=!1);var s=i.firstInput,r=i.firstMultiple,a=r?r.center:s.center,c=e.center=j(o);e.timeStamp=me(),e.deltaTime=e.timeStamp-s.timeStamp,e.angle=H(a,c),e.distance=R(a,c),P(i,e),e.offsetDirection=U(e.deltaX,e.deltaY),e.scale=r?I(r.pointers,o):1,e.rotation=r?$(r.pointers,o):0,C(i,e);var l=t.element;y(e.srcEvent.target,l)&&(l=e.srcEvent.target),e.target=l}function P(t,e){var i=e.center,o=t.offsetDelta||{},n=t.prevDelta||{},s=t.prevInput||{};(e.eventType===ke||s.eventType===Me)&&(n=t.prevDelta={x:s.deltaX||0,y:s.deltaY||0},o=t.offsetDelta={x:i.x,y:i.y}),e.deltaX=n.x+(i.x-o.x),e.deltaY=n.y+(i.y-o.y)}function C(t,e){var i,o,n,r,a=t.lastInterval||e,c=e.timeStamp-a.timeStamp;if(e.eventType!=Le&&(c>Se||a.velocity===s)){var l=a.deltaX-e.deltaX,h=a.deltaY-e.deltaY,u=A(c,l,h);o=u.x,n=u.y,i=fe(u.x)>fe(u.y)?u.x:u.y,r=U(l,h),t.lastInterval=e}else i=a.velocity,o=a.velocityX,n=a.velocityY,r=a.direction;e.velocity=i,e.velocityX=o,e.velocityY=n,e.direction=r}function O(t){for(var e=[],i=0;i<t.pointers.length;)e[i]={clientX:de(t.pointers[i].clientX),clientY:de(t.pointers[i].clientY)},i++;return{timeStamp:me(),pointers:e,center:j(e),deltaX:t.deltaX,deltaY:t.deltaY}}function j(t){var e=t.length;if(1===e)return{x:de(t[0].clientX),y:de(t[0].clientY)};for(var i=0,o=0,n=0;e>n;)i+=t[n].clientX,o+=t[n].clientY,n++;return{x:de(i/e),y:de(o/e)}}function A(t,e,i){return{x:e/t||0,y:i/t||0}}function U(t,e){return t===e?Pe:fe(t)>=fe(e)?t>0?Ce:Oe:e>0?je:Ae}function R(t,e,i){i||(i=$e);var o=e[i[0]]-t[i[0]],n=e[i[1]]-t[i[1]];return Math.sqrt(o*o+n*n)}function H(t,e,i){i||(i=$e);var o=e[i[0]]-t[i[0]],n=e[i[1]]-t[i[1]];return 180*Math.atan2(n,o)/Math.PI}function $(t,e){return H(e[1],e[0],Ie)-H(t[1],t[0],Ie)}function I(t,e){return R(e[0],e[1],Ie)/R(t[0],t[1],Ie)}function N(){this.evEl=Xe,this.evWin=ze,this.allow=!0,this.pressed=!1,k.apply(this,arguments)}function X(){this.evEl=Qe,this.evWin=Ye,k.apply(this,arguments),this.store=this.manager.session.pointerEvents=[]}function z(){this.evTarget=Ve,this.evWin=We,this.started=!1,k.apply(this,arguments)}function B(t,e){var i=T(t.touches),o=T(t.changedTouches);return e&(Me|Le)&&(i=b(i.concat(o),"identifier",!0)),[i,o]}function q(){this.evTarget=Ge,this.targetIds={},k.apply(this,arguments)}function Q(t,e){var i=T(t.touches),o=this.targetIds;if(e&(ke|De)&&1===i.length)return o[i[0].identifier]=!0,[i,i];var n,s,r=T(t.changedTouches),a=[],c=this.target;if(s=i.filter(function(t){return y(t.target,c)}),e===ke)for(n=0;n<s.length;)o[s[n].identifier]=!0,n++;for(n=0;n<r.length;)o[r[n].identifier]&&a.push(r[n]),e&(Me|Le)&&delete o[r[n].identifier],n++;return a.length?[b(s.concat(a),"identifier",!0),a]:void 0}function Y(){k.apply(this,arguments);var t=p(this.handler,this);this.touch=new q(this.manager,t),this.mouse=new N(this.manager,t)}function F(t,e){this.manager=t,this.set(e)}function V(t){if(g(t,oi))return oi;var e=g(t,ni),i=g(t,si);return e&&i?ni+" "+si:e||i?e?ni:si:g(t,ii)?ii:ei}function W(t){this.id=E(),this.manager=null,this.options=h(t||{},this.defaults),this.options.enable=f(this.options.enable,!0),this.state=ri,this.simultaneous={},this.requireFail=[]}function K(t){return t&ui?"cancel":t&li?"end":t&ci?"move":t&ai?"start":""}function G(t){return t==Ae?"down":t==je?"up":t==Ce?"left":t==Oe?"right":""}function Z(t,e){var i=e.manager;return i?i.get(t):t}function J(){W.apply(this,arguments)}function te(){J.apply(this,arguments),this.pX=null,this.pY=null}function ee(){J.apply(this,arguments)}function ie(){W.apply(this,arguments),this._timer=null,this._input=null}function oe(){J.apply(this,arguments)}function ne(){J.apply(this,arguments)}function se(){W.apply(this,arguments),this.pTime=!1,this.pCenter=!1,this._timer=null,this._input=null,this.count=0}function re(t,e){return e=e||{},e.recognizers=f(e.recognizers,re.defaults.preset),new ae(t,e)}function ae(t,e){e=e||{},this.options=h(e,re.defaults),this.options.inputTarget=this.options.inputTarget||t,this.handlers={},this.session={},this.recognizers=[],this.element=t,this.input=D(this),this.touchAction=new F(this,this.options.touchAction),ce(this,!0),c(e.recognizers,function(t){var e=this.add(new t[0](t[1]));t[2]&&e.recognizeWith(t[2]),t[3]&&e.requireFailure(t[3])},this)}function ce(t,e){var i=t.element;c(t.options.cssProps,function(t,o){i.style[x(i.style,o)]=e?t:""})}function le(t,e){var o=i.createEvent("Event");o.initEvent(t,!0,!0),o.gesture=e,e.target.dispatchEvent(o)}var he=["","webkit","moz","MS","ms","o"],ue=i.createElement("div"),pe="function",de=Math.round,fe=Math.abs,me=Date.now,ve=1,ye=/mobile|tablet|ip(ad|hone|od)|android/i,ge="ontouchstart"in e,we=x(e,"PointerEvent")!==s,_e=ge&&ye.test(navigator.userAgent),Te="touch",be="pen",xe="mouse",Ee="kinect",Se=25,ke=1,De=2,Me=4,Le=8,Pe=1,Ce=2,Oe=4,je=8,Ae=16,Ue=Ce|Oe,Re=je|Ae,He=Ue|Re,$e=["x","y"],Ie=["clientX","clientY"];k.prototype={handler:function(){},init:function(){this.evEl&&m(this.element,this.evEl,this.domHandler),this.evTarget&&m(this.target,this.evTarget,this.domHandler),this.evWin&&m(S(this.element),this.evWin,this.domHandler)},destroy:function(){this.evEl&&v(this.element,this.evEl,this.domHandler),this.evTarget&&v(this.target,this.evTarget,this.domHandler),this.evWin&&v(S(this.element),this.evWin,this.domHandler)}};var Ne={mousedown:ke,mousemove:De,mouseup:Me},Xe="mousedown",ze="mousemove mouseup";u(N,k,{handler:function(t){var e=Ne[t.type];e&ke&&0===t.button&&(this.pressed=!0),e&De&&1!==t.which&&(e=Me),this.pressed&&this.allow&&(e&Me&&(this.pressed=!1),this.callback(this.manager,e,{pointers:[t],changedPointers:[t],pointerType:xe,srcEvent:t}))}});var Be={pointerdown:ke,pointermove:De,pointerup:Me,pointercancel:Le,pointerout:Le},qe={2:Te,3:be,4:xe,5:Ee},Qe="pointerdown",Ye="pointermove pointerup pointercancel";e.MSPointerEvent&&(Qe="MSPointerDown",Ye="MSPointerMove MSPointerUp MSPointerCancel"),u(X,k,{handler:function(t){var e=this.store,i=!1,o=t.type.toLowerCase().replace("ms",""),n=Be[o],s=qe[t.pointerType]||t.pointerType,r=s==Te,a=_(e,t.pointerId,"pointerId");n&ke&&(0===t.button||r)?0>a&&(e.push(t),a=e.length-1):n&(Me|Le)&&(i=!0),0>a||(e[a]=t,this.callback(this.manager,n,{pointers:e,changedPointers:[t],pointerType:s,srcEvent:t}),i&&e.splice(a,1))}});var Fe={touchstart:ke,touchmove:De,touchend:Me,touchcancel:Le},Ve="touchstart",We="touchstart touchmove touchend touchcancel";u(z,k,{handler:function(t){var e=Fe[t.type];if(e===ke&&(this.started=!0),this.started){var i=B.call(this,t,e);e&(Me|Le)&&i[0].length-i[1].length===0&&(this.started=!1),this.callback(this.manager,e,{pointers:i[0],changedPointers:i[1],pointerType:Te,srcEvent:t})}}});var Ke={touchstart:ke,touchmove:De,touchend:Me,touchcancel:Le},Ge="touchstart touchmove touchend touchcancel";u(q,k,{handler:function(t){var e=Ke[t.type],i=Q.call(this,t,e);i&&this.callback(this.manager,e,{pointers:i[0],changedPointers:i[1],pointerType:Te,srcEvent:t})}}),u(Y,k,{handler:function(t,e,i){var o=i.pointerType==Te,n=i.pointerType==xe;if(o)this.mouse.allow=!1;else if(n&&!this.mouse.allow)return;e&(Me|Le)&&(this.mouse.allow=!0),this.callback(t,e,i)},destroy:function(){this.touch.destroy(),this.mouse.destroy()}});var Ze=x(ue.style,"touchAction"),Je=Ze!==s,ti="compute",ei="auto",ii="manipulation",oi="none",ni="pan-x",si="pan-y";F.prototype={set:function(t){t==ti&&(t=this.compute()),Je&&(this.manager.element.style[Ze]=t),this.actions=t.toLowerCase().trim()},update:function(){this.set(this.manager.options.touchAction)},compute:function(){var t=[];return c(this.manager.recognizers,function(e){d(e.options.enable,[e])&&(t=t.concat(e.getTouchAction()))}),V(t.join(" "))},preventDefaults:function(t){if(!Je){var e=t.srcEvent,i=t.offsetDirection;if(this.manager.session.prevented)return void e.preventDefault();var o=this.actions,n=g(o,oi),s=g(o,si),r=g(o,ni);return n||s&&i&Ue||r&&i&Re?this.preventSrc(e):void 0}},preventSrc:function(t){this.manager.session.prevented=!0,t.preventDefault()}};var ri=1,ai=2,ci=4,li=8,hi=li,ui=16,pi=32;W.prototype={defaults:{},set:function(t){return l(this.options,t),this.manager&&this.manager.touchAction.update(),this},recognizeWith:function(t){if(a(t,"recognizeWith",this))return this;var e=this.simultaneous;return t=Z(t,this),e[t.id]||(e[t.id]=t,t.recognizeWith(this)),this},dropRecognizeWith:function(t){return a(t,"dropRecognizeWith",this)?this:(t=Z(t,this),delete this.simultaneous[t.id],this)},requireFailure:function(t){if(a(t,"requireFailure",this))return this;var e=this.requireFail;return t=Z(t,this),-1===_(e,t)&&(e.push(t),t.requireFailure(this)),this},dropRequireFailure:function(t){if(a(t,"dropRequireFailure",this))return this;t=Z(t,this);var e=_(this.requireFail,t);return e>-1&&this.requireFail.splice(e,1),this},hasRequireFailures:function(){return this.requireFail.length>0},canRecognizeWith:function(t){return!!this.simultaneous[t.id]},emit:function(t){function e(e){i.manager.emit(i.options.event+(e?K(o):""),t)}var i=this,o=this.state;li>o&&e(!0),e(),o>=li&&e(!0)},tryEmit:function(t){return this.canEmit()?this.emit(t):void(this.state=pi)},canEmit:function(){for(var t=0;t<this.requireFail.length;){if(!(this.requireFail[t].state&(pi|ri)))return!1;t++}return!0},recognize:function(t){var e=l({},t);return d(this.options.enable,[this,e])?(this.state&(hi|ui|pi)&&(this.state=ri),this.state=this.process(e),void(this.state&(ai|ci|li|ui)&&this.tryEmit(e))):(this.reset(),void(this.state=pi))},process:function(){},getTouchAction:function(){},reset:function(){}},u(J,W,{defaults:{pointers:1},attrTest:function(t){var e=this.options.pointers;return 0===e||t.pointers.length===e},process:function(t){var e=this.state,i=t.eventType,o=e&(ai|ci),n=this.attrTest(t);return o&&(i&Le||!n)?e|ui:o||n?i&Me?e|li:e&ai?e|ci:ai:pi}}),u(te,J,{defaults:{event:"pan",threshold:10,pointers:1,direction:He},getTouchAction:function(){var t=this.options.direction,e=[];return t&Ue&&e.push(si),t&Re&&e.push(ni),e},directionTest:function(t){var e=this.options,i=!0,o=t.distance,n=t.direction,s=t.deltaX,r=t.deltaY;return n&e.direction||(e.direction&Ue?(n=0===s?Pe:0>s?Ce:Oe,i=s!=this.pX,o=Math.abs(t.deltaX)):(n=0===r?Pe:0>r?je:Ae,i=r!=this.pY,o=Math.abs(t.deltaY))),t.direction=n,i&&o>e.threshold&&n&e.direction},attrTest:function(t){return J.prototype.attrTest.call(this,t)&&(this.state&ai||!(this.state&ai)&&this.directionTest(t))},emit:function(t){this.pX=t.deltaX,this.pY=t.deltaY;var e=G(t.direction);e&&this.manager.emit(this.options.event+e,t),this._super.emit.call(this,t)}}),u(ee,J,{defaults:{event:"pinch",threshold:0,pointers:2},getTouchAction:function(){return[oi]},attrTest:function(t){return this._super.attrTest.call(this,t)&&(Math.abs(t.scale-1)>this.options.threshold||this.state&ai)},emit:function(t){if(this._super.emit.call(this,t),1!==t.scale){var e=t.scale<1?"in":"out";this.manager.emit(this.options.event+e,t)}}}),u(ie,W,{defaults:{event:"press",pointers:1,time:500,threshold:5},getTouchAction:function(){return[ei]},process:function(t){var e=this.options,i=t.pointers.length===e.pointers,o=t.distance<e.threshold,n=t.deltaTime>e.time;if(this._input=t,!o||!i||t.eventType&(Me|Le)&&!n)this.reset();else if(t.eventType&ke)this.reset(),this._timer=r(function(){this.state=hi,this.tryEmit()},e.time,this);else if(t.eventType&Me)return hi;return pi},reset:function(){clearTimeout(this._timer)},emit:function(t){this.state===hi&&(t&&t.eventType&Me?this.manager.emit(this.options.event+"up",t):(this._input.timeStamp=me(),this.manager.emit(this.options.event,this._input)))}}),u(oe,J,{defaults:{event:"rotate",threshold:0,pointers:2},getTouchAction:function(){return[oi]},attrTest:function(t){return this._super.attrTest.call(this,t)&&(Math.abs(t.rotation)>this.options.threshold||this.state&ai)}}),u(ne,J,{defaults:{event:"swipe",threshold:10,velocity:.65,direction:Ue|Re,pointers:1},getTouchAction:function(){return te.prototype.getTouchAction.call(this)},attrTest:function(t){var e,i=this.options.direction;return i&(Ue|Re)?e=t.velocity:i&Ue?e=t.velocityX:i&Re&&(e=t.velocityY),this._super.attrTest.call(this,t)&&i&t.direction&&t.distance>this.options.threshold&&fe(e)>this.options.velocity&&t.eventType&Me},emit:function(t){var e=G(t.direction);e&&this.manager.emit(this.options.event+e,t),this.manager.emit(this.options.event,t)}}),u(se,W,{defaults:{event:"tap",pointers:1,taps:1,interval:300,time:250,threshold:2,posThreshold:10},getTouchAction:function(){return[ii]},process:function(t){var e=this.options,i=t.pointers.length===e.pointers,o=t.distance<e.threshold,n=t.deltaTime<e.time;if(this.reset(),t.eventType&ke&&0===this.count)return this.failTimeout();if(o&&n&&i){if(t.eventType!=Me)return this.failTimeout();var s=this.pTime?t.timeStamp-this.pTime<e.interval:!0,a=!this.pCenter||R(this.pCenter,t.center)<e.posThreshold;this.pTime=t.timeStamp,this.pCenter=t.center,a&&s?this.count+=1:this.count=1,this._input=t;var c=this.count%e.taps;if(0===c)return this.hasRequireFailures()?(this._timer=r(function(){this.state=hi,this.tryEmit()},e.interval,this),ai):hi}return pi},failTimeout:function(){return this._timer=r(function(){this.state=pi},this.options.interval,this),pi},reset:function(){clearTimeout(this._timer)},emit:function(){this.state==hi&&(this._input.tapCount=this.count,this.manager.emit(this.options.event,this._input))}}),re.VERSION="2.0.4",re.defaults={domEvents:!1,touchAction:ti,enable:!0,inputTarget:null,inputClass:null,preset:[[oe,{enable:!1}],[ee,{enable:!1},["rotate"]],[ne,{direction:Ue}],[te,{direction:Ue},["swipe"]],[se],[se,{event:"doubletap",taps:2},["tap"]],[ie]],cssProps:{userSelect:"none",touchSelect:"none",touchCallout:"none",contentZooming:"none",userDrag:"none",tapHighlightColor:"rgba(0,0,0,0)"}};var di=1,fi=2;ae.prototype={set:function(t){return l(this.options,t),t.touchAction&&this.touchAction.update(),t.inputTarget&&(this.input.destroy(),this.input.target=t.inputTarget,this.input.init()),this},stop:function(t){this.session.stopped=t?fi:di},recognize:function(t){var e=this.session;if(!e.stopped){this.touchAction.preventDefaults(t);var i,o=this.recognizers,n=e.curRecognizer;(!n||n&&n.state&hi)&&(n=e.curRecognizer=null);for(var s=0;s<o.length;)i=o[s],e.stopped===fi||n&&i!=n&&!i.canRecognizeWith(n)?i.reset():i.recognize(t),!n&&i.state&(ai|ci|li)&&(n=e.curRecognizer=i),s++}},get:function(t){if(t instanceof W)return t;for(var e=this.recognizers,i=0;i<e.length;i++)if(e[i].options.event==t)return e[i];return null},add:function(t){if(a(t,"add",this))return this;var e=this.get(t.options.event);return e&&this.remove(e),this.recognizers.push(t),t.manager=this,this.touchAction.update(),t
},remove:function(t){if(a(t,"remove",this))return this;var e=this.recognizers;return t=this.get(t),e.splice(_(e,t),1),this.touchAction.update(),this},on:function(t,e){var i=this.handlers;return c(w(t),function(t){i[t]=i[t]||[],i[t].push(e)}),this},off:function(t,e){var i=this.handlers;return c(w(t),function(t){e?i[t].splice(_(i[t],e),1):delete i[t]}),this},emit:function(t,e){this.options.domEvents&&le(t,e);var i=this.handlers[t]&&this.handlers[t].slice();if(i&&i.length){e.type=t,e.preventDefault=function(){e.srcEvent.preventDefault()};for(var o=0;o<i.length;)i[o](e),o++}},destroy:function(){this.element&&ce(this,!1),this.handlers={},this.session={},this.input.destroy(),this.element=null}},l(re,{INPUT_START:ke,INPUT_MOVE:De,INPUT_END:Me,INPUT_CANCEL:Le,STATE_POSSIBLE:ri,STATE_BEGAN:ai,STATE_CHANGED:ci,STATE_ENDED:li,STATE_RECOGNIZED:hi,STATE_CANCELLED:ui,STATE_FAILED:pi,DIRECTION_NONE:Pe,DIRECTION_LEFT:Ce,DIRECTION_RIGHT:Oe,DIRECTION_UP:je,DIRECTION_DOWN:Ae,DIRECTION_HORIZONTAL:Ue,DIRECTION_VERTICAL:Re,DIRECTION_ALL:He,Manager:ae,Input:k,TouchAction:F,TouchInput:q,MouseInput:N,PointerEventInput:X,TouchMouseInput:Y,SingleTouchInput:z,Recognizer:W,AttrRecognizer:J,Tap:se,Pan:te,Swipe:ne,Pinch:ee,Rotate:oe,Press:ie,on:m,off:v,each:c,merge:h,extend:l,inherit:u,bindFn:p,prefixed:x}),typeof o==pe&&o.amd?o(function(){return re}):"undefined"!=typeof t&&t.exports?t.exports=re:e[n]=re}(window,document,"Hammer"),n("undefined"!=typeof Hammer?Hammer:window.Hammer)}.call(i,void 0,void 0,void 0,void 0,function(t){e.exports=t})}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],16:[function(t,e){!function(t,i,o){function n(t,e){this.wrapper="string"==typeof t?i.querySelector(t):t,this.scroller=this.wrapper.children[0],this.scrollerStyle=this.scroller.style,this.options={resizeScrollbars:!0,mouseWheelSpeed:20,snapThreshold:.334,startX:0,startY:0,scrollY:!0,directionLockThreshold:5,momentum:!0,bounce:!0,bounceTime:600,bounceEasing:"",preventDefault:!0,preventDefaultException:{tagName:/^(INPUT|TEXTAREA|BUTTON|SELECT)$/},HWCompositing:!0,useTransition:!0,useTransform:!0};for(var o in e)this.options[o]=e[o];this.translateZ=this.options.HWCompositing&&c.hasPerspective?" translateZ(0)":"",this.options.useTransition=c.hasTransition&&this.options.useTransition,this.options.useTransform=c.hasTransform&&this.options.useTransform,this.options.eventPassthrough=this.options.eventPassthrough===!0?"vertical":this.options.eventPassthrough,this.options.preventDefault=!this.options.eventPassthrough&&this.options.preventDefault,this.options.scrollY="vertical"==this.options.eventPassthrough?!1:this.options.scrollY,this.options.scrollX="horizontal"==this.options.eventPassthrough?!1:this.options.scrollX,this.options.freeScroll=this.options.freeScroll&&!this.options.eventPassthrough,this.options.directionLockThreshold=this.options.eventPassthrough?0:this.options.directionLockThreshold,this.options.bounceEasing="string"==typeof this.options.bounceEasing?c.ease[this.options.bounceEasing]||c.ease.circular:this.options.bounceEasing,this.options.resizePolling=void 0===this.options.resizePolling?60:this.options.resizePolling,this.options.tap===!0&&(this.options.tap="tap"),"scale"==this.options.shrinkScrollbars&&(this.options.useTransition=!1),this.options.invertWheelDirection=this.options.invertWheelDirection?-1:1,this.x=0,this.y=0,this.directionX=0,this.directionY=0,this._events={},this._init(),this.refresh(),this.scrollTo(this.options.startX,this.options.startY),this.enable()}function s(t,e,o){var n=i.createElement("div"),s=i.createElement("div");return o===!0&&(n.style.cssText="position:absolute;z-index:9999",s.style.cssText="-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box;position:absolute;background:rgba(0,0,0,0.5);border:1px solid rgba(255,255,255,0.9);border-radius:3px"),s.className="iScrollIndicator","h"==t?(o===!0&&(n.style.cssText+=";height:7px;left:2px;right:2px;bottom:0",s.style.height="100%"),n.className="iScrollHorizontalScrollbar"):(o===!0&&(n.style.cssText+=";width:7px;bottom:2px;top:2px;right:1px",s.style.width="100%"),n.className="iScrollVerticalScrollbar"),n.style.cssText+=";overflow:hidden",e||(n.style.pointerEvents="none"),n.appendChild(s),n}function r(e,o){this.wrapper="string"==typeof o.el?i.querySelector(o.el):o.el,this.wrapperStyle=this.wrapper.style,this.indicator=this.wrapper.children[0],this.indicatorStyle=this.indicator.style,this.scroller=e,this.options={listenX:!0,listenY:!0,interactive:!1,resize:!0,defaultScrollbars:!1,shrink:!1,fade:!1,speedRatioX:0,speedRatioY:0};for(var n in o)this.options[n]=o[n];this.sizeRatioX=1,this.sizeRatioY=1,this.maxPosX=0,this.maxPosY=0,this.options.interactive&&(this.options.disableTouch||(c.addEvent(this.indicator,"touchstart",this),c.addEvent(t,"touchend",this)),this.options.disablePointer||(c.addEvent(this.indicator,c.prefixPointerEvent("pointerdown"),this),c.addEvent(t,c.prefixPointerEvent("pointerup"),this)),this.options.disableMouse||(c.addEvent(this.indicator,"mousedown",this),c.addEvent(t,"mouseup",this))),this.options.fade&&(this.wrapperStyle[c.style.transform]=this.scroller.translateZ,this.wrapperStyle[c.style.transitionDuration]=c.isBadAndroid?"0.001s":"0ms",this.wrapperStyle.opacity="0")}var a=t.requestAnimationFrame||t.webkitRequestAnimationFrame||t.mozRequestAnimationFrame||t.oRequestAnimationFrame||t.msRequestAnimationFrame||function(e){t.setTimeout(e,1e3/60)},c=function(){function e(t){return r===!1?!1:""===r?t:r+t.charAt(0).toUpperCase()+t.substr(1)}var n={},s=i.createElement("div").style,r=function(){for(var t,e=["t","webkitT","MozT","msT","OT"],i=0,o=e.length;o>i;i++)if(t=e[i]+"ransform",t in s)return e[i].substr(0,e[i].length-1);return!1}();n.getTime=Date.now||function(){return(new Date).getTime()},n.extend=function(t,e){for(var i in e)t[i]=e[i]},n.addEvent=function(t,e,i,o){t.addEventListener(e,i,!!o)},n.removeEvent=function(t,e,i,o){t.removeEventListener(e,i,!!o)},n.prefixPointerEvent=function(e){return t.MSPointerEvent?"MSPointer"+e.charAt(9).toUpperCase()+e.substr(10):e},n.momentum=function(t,e,i,n,s,r){var a,c,l=t-e,h=o.abs(l)/i;return r=void 0===r?6e-4:r,a=t+h*h/(2*r)*(0>l?-1:1),c=h/r,n>a?(a=s?n-s/2.5*(h/8):n,l=o.abs(a-t),c=l/h):a>0&&(a=s?s/2.5*(h/8):0,l=o.abs(t)+a,c=l/h),{destination:o.round(a),duration:c}};var a=e("transform");return n.extend(n,{hasTransform:a!==!1,hasPerspective:e("perspective")in s,hasTouch:"ontouchstart"in t,hasPointer:t.PointerEvent||t.MSPointerEvent,hasTransition:e("transition")in s}),n.isBadAndroid=/Android /.test(t.navigator.appVersion)&&!/Chrome\/\d/.test(t.navigator.appVersion),n.extend(n.style={},{transform:a,transitionTimingFunction:e("transitionTimingFunction"),transitionDuration:e("transitionDuration"),transitionDelay:e("transitionDelay"),transformOrigin:e("transformOrigin")}),n.hasClass=function(t,e){var i=new RegExp("(^|\\s)"+e+"(\\s|$)");return i.test(t.className)},n.addClass=function(t,e){if(!n.hasClass(t,e)){var i=t.className.split(" ");i.push(e),t.className=i.join(" ")}},n.removeClass=function(t,e){if(n.hasClass(t,e)){var i=new RegExp("(^|\\s)"+e+"(\\s|$)","g");t.className=t.className.replace(i," ")}},n.offset=function(t){for(var e=-t.offsetLeft,i=-t.offsetTop;t=t.offsetParent;)e-=t.offsetLeft,i-=t.offsetTop;return{left:e,top:i}},n.preventDefaultException=function(t,e){for(var i in e)if(e[i].test(t[i]))return!0;return!1},n.extend(n.eventType={},{touchstart:1,touchmove:1,touchend:1,mousedown:2,mousemove:2,mouseup:2,pointerdown:3,pointermove:3,pointerup:3,MSPointerDown:3,MSPointerMove:3,MSPointerUp:3}),n.extend(n.ease={},{quadratic:{style:"cubic-bezier(0.25, 0.46, 0.45, 0.94)",fn:function(t){return t*(2-t)}},circular:{style:"cubic-bezier(0.1, 0.57, 0.1, 1)",fn:function(t){return o.sqrt(1- --t*t)}},back:{style:"cubic-bezier(0.175, 0.885, 0.32, 1.275)",fn:function(t){var e=4;return(t-=1)*t*((e+1)*t+e)+1}},bounce:{style:"",fn:function(t){return(t/=1)<1/2.75?7.5625*t*t:2/2.75>t?7.5625*(t-=1.5/2.75)*t+.75:2.5/2.75>t?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375}},elastic:{style:"",fn:function(t){var e=.22,i=.4;return 0===t?0:1==t?1:i*o.pow(2,-10*t)*o.sin(2*(t-e/4)*o.PI/e)+1}}}),n.tap=function(t,e){var o=i.createEvent("Event");o.initEvent(e,!0,!0),o.pageX=t.pageX,o.pageY=t.pageY,t.target.dispatchEvent(o)},n.click=function(t){var e,o=t.target;/(SELECT|INPUT|TEXTAREA)/i.test(o.tagName)||(e=i.createEvent("MouseEvents"),e.initMouseEvent("click",!0,!0,t.view,1,o.screenX,o.screenY,o.clientX,o.clientY,t.ctrlKey,t.altKey,t.shiftKey,t.metaKey,0,null),e._constructed=!0,o.dispatchEvent(e))},n}();n.prototype={version:"5.1.3",_init:function(){this._initEvents(),(this.options.scrollbars||this.options.indicators)&&this._initIndicators(),this.options.mouseWheel&&this._initWheel(),this.options.snap&&this._initSnap(),this.options.keyBindings&&this._initKeys()},destroy:function(){this._initEvents(!0),this._execEvent("destroy")},_transitionEnd:function(t){t.target==this.scroller&&this.isInTransition&&(this._transitionTime(),this.resetPosition(this.options.bounceTime)||(this.isInTransition=!1,this._execEvent("scrollEnd")))},_start:function(t){if(!(1!=c.eventType[t.type]&&0!==t.button||!this.enabled||this.initiated&&c.eventType[t.type]!==this.initiated)){!this.options.preventDefault||c.isBadAndroid||c.preventDefaultException(t.target,this.options.preventDefaultException)||t.preventDefault();var e,i=t.touches?t.touches[0]:t;this.initiated=c.eventType[t.type],this.moved=!1,this.distX=0,this.distY=0,this.directionX=0,this.directionY=0,this.directionLocked=0,this._transitionTime(),this.startTime=c.getTime(),this.options.useTransition&&this.isInTransition?(this.isInTransition=!1,e=this.getComputedPosition(),this._translate(o.round(e.x),o.round(e.y)),this._execEvent("scrollEnd")):!this.options.useTransition&&this.isAnimating&&(this.isAnimating=!1,this._execEvent("scrollEnd")),this.startX=this.x,this.startY=this.y,this.absStartX=this.x,this.absStartY=this.y,this.pointX=i.pageX,this.pointY=i.pageY,this._execEvent("beforeScrollStart")}},_move:function(t){if(this.enabled&&c.eventType[t.type]===this.initiated){this.options.preventDefault&&t.preventDefault();var e,i,n,s,r=t.touches?t.touches[0]:t,a=r.pageX-this.pointX,l=r.pageY-this.pointY,h=c.getTime();if(this.pointX=r.pageX,this.pointY=r.pageY,this.distX+=a,this.distY+=l,n=o.abs(this.distX),s=o.abs(this.distY),!(h-this.endTime>300&&10>n&&10>s)){if(this.directionLocked||this.options.freeScroll||(this.directionLocked=n>s+this.options.directionLockThreshold?"h":s>=n+this.options.directionLockThreshold?"v":"n"),"h"==this.directionLocked){if("vertical"==this.options.eventPassthrough)t.preventDefault();else if("horizontal"==this.options.eventPassthrough)return void(this.initiated=!1);l=0}else if("v"==this.directionLocked){if("horizontal"==this.options.eventPassthrough)t.preventDefault();else if("vertical"==this.options.eventPassthrough)return void(this.initiated=!1);a=0}a=this.hasHorizontalScroll?a:0,l=this.hasVerticalScroll?l:0,e=this.x+a,i=this.y+l,(e>0||e<this.maxScrollX)&&(e=this.options.bounce?this.x+a/3:e>0?0:this.maxScrollX),(i>0||i<this.maxScrollY)&&(i=this.options.bounce?this.y+l/3:i>0?0:this.maxScrollY),this.directionX=a>0?-1:0>a?1:0,this.directionY=l>0?-1:0>l?1:0,this.moved||this._execEvent("scrollStart"),this.moved=!0,this._translate(e,i),h-this.startTime>300&&(this.startTime=h,this.startX=this.x,this.startY=this.y)}}},_end:function(t){if(this.enabled&&c.eventType[t.type]===this.initiated){this.options.preventDefault&&!c.preventDefaultException(t.target,this.options.preventDefaultException)&&t.preventDefault();var e,i,n=(t.changedTouches?t.changedTouches[0]:t,c.getTime()-this.startTime),s=o.round(this.x),r=o.round(this.y),a=o.abs(s-this.startX),l=o.abs(r-this.startY),h=0,u="";if(this.isInTransition=0,this.initiated=0,this.endTime=c.getTime(),!this.resetPosition(this.options.bounceTime)){if(this.scrollTo(s,r),!this.moved)return this.options.tap&&c.tap(t,this.options.tap),this.options.click&&c.click(t),void this._execEvent("scrollCancel");if(this._events.flick&&200>n&&100>a&&100>l)return void this._execEvent("flick");if(this.options.momentum&&300>n&&(e=this.hasHorizontalScroll?c.momentum(this.x,this.startX,n,this.maxScrollX,this.options.bounce?this.wrapperWidth:0,this.options.deceleration):{destination:s,duration:0},i=this.hasVerticalScroll?c.momentum(this.y,this.startY,n,this.maxScrollY,this.options.bounce?this.wrapperHeight:0,this.options.deceleration):{destination:r,duration:0},s=e.destination,r=i.destination,h=o.max(e.duration,i.duration),this.isInTransition=1),this.options.snap){var p=this._nearestSnap(s,r);this.currentPage=p,h=this.options.snapSpeed||o.max(o.max(o.min(o.abs(s-p.x),1e3),o.min(o.abs(r-p.y),1e3)),300),s=p.x,r=p.y,this.directionX=0,this.directionY=0,u=this.options.bounceEasing}return s!=this.x||r!=this.y?((s>0||s<this.maxScrollX||r>0||r<this.maxScrollY)&&(u=c.ease.quadratic),void this.scrollTo(s,r,h,u)):void this._execEvent("scrollEnd")}}},_resize:function(){var t=this;clearTimeout(this.resizeTimeout),this.resizeTimeout=setTimeout(function(){t.refresh()},this.options.resizePolling)},resetPosition:function(t){var e=this.x,i=this.y;return t=t||0,!this.hasHorizontalScroll||this.x>0?e=0:this.x<this.maxScrollX&&(e=this.maxScrollX),!this.hasVerticalScroll||this.y>0?i=0:this.y<this.maxScrollY&&(i=this.maxScrollY),e==this.x&&i==this.y?!1:(this.scrollTo(e,i,t,this.options.bounceEasing),!0)},disable:function(){this.enabled=!1},enable:function(){this.enabled=!0},refresh:function(){this.wrapper.offsetHeight;this.wrapperWidth=this.wrapper.clientWidth,this.wrapperHeight=this.wrapper.clientHeight,this.scrollerWidth=this.scroller.offsetWidth,this.scrollerHeight=this.scroller.offsetHeight,this.maxScrollX=this.wrapperWidth-this.scrollerWidth,this.maxScrollY=this.wrapperHeight-this.scrollerHeight,this.hasHorizontalScroll=this.options.scrollX&&this.maxScrollX<0,this.hasVerticalScroll=this.options.scrollY&&this.maxScrollY<0,this.hasHorizontalScroll||(this.maxScrollX=0,this.scrollerWidth=this.wrapperWidth),this.hasVerticalScroll||(this.maxScrollY=0,this.scrollerHeight=this.wrapperHeight),this.endTime=0,this.directionX=0,this.directionY=0,this.wrapperOffset=c.offset(this.wrapper),this._execEvent("refresh"),this.resetPosition()},on:function(t,e){this._events[t]||(this._events[t]=[]),this._events[t].push(e)},off:function(t,e){if(this._events[t]){var i=this._events[t].indexOf(e);i>-1&&this._events[t].splice(i,1)}},_execEvent:function(t){if(this._events[t]){var e=0,i=this._events[t].length;if(i)for(;i>e;e++)this._events[t][e].apply(this,[].slice.call(arguments,1))}},scrollBy:function(t,e,i,o){t=this.x+t,e=this.y+e,i=i||0,this.scrollTo(t,e,i,o)},scrollTo:function(t,e,i,o){o=o||c.ease.circular,this.isInTransition=this.options.useTransition&&i>0,!i||this.options.useTransition&&o.style?(this._transitionTimingFunction(o.style),this._transitionTime(i),this._translate(t,e)):this._animate(t,e,i,o.fn)},scrollToElement:function(t,e,i,n,s){if(t=t.nodeType?t:this.scroller.querySelector(t)){var r=c.offset(t);r.left-=this.wrapperOffset.left,r.top-=this.wrapperOffset.top,i===!0&&(i=o.round(t.offsetWidth/2-this.wrapper.offsetWidth/2)),n===!0&&(n=o.round(t.offsetHeight/2-this.wrapper.offsetHeight/2)),r.left-=i||0,r.top-=n||0,r.left=r.left>0?0:r.left<this.maxScrollX?this.maxScrollX:r.left,r.top=r.top>0?0:r.top<this.maxScrollY?this.maxScrollY:r.top,e=void 0===e||null===e||"auto"===e?o.max(o.abs(this.x-r.left),o.abs(this.y-r.top)):e,this.scrollTo(r.left,r.top,e,s)}},_transitionTime:function(t){if(t=t||0,this.scrollerStyle[c.style.transitionDuration]=t+"ms",!t&&c.isBadAndroid&&(this.scrollerStyle[c.style.transitionDuration]="0.001s"),this.indicators)for(var e=this.indicators.length;e--;)this.indicators[e].transitionTime(t)},_transitionTimingFunction:function(t){if(this.scrollerStyle[c.style.transitionTimingFunction]=t,this.indicators)for(var e=this.indicators.length;e--;)this.indicators[e].transitionTimingFunction(t)},_translate:function(t,e){if(this.options.useTransform?this.scrollerStyle[c.style.transform]="translate("+t+"px,"+e+"px)"+this.translateZ:(t=o.round(t),e=o.round(e),this.scrollerStyle.left=t+"px",this.scrollerStyle.top=e+"px"),this.x=t,this.y=e,this.indicators)for(var i=this.indicators.length;i--;)this.indicators[i].updatePosition()},_initEvents:function(e){var i=e?c.removeEvent:c.addEvent,o=this.options.bindToWrapper?this.wrapper:t;i(t,"orientationchange",this),i(t,"resize",this),this.options.click&&i(this.wrapper,"click",this,!0),this.options.disableMouse||(i(this.wrapper,"mousedown",this),i(o,"mousemove",this),i(o,"mousecancel",this),i(o,"mouseup",this)),c.hasPointer&&!this.options.disablePointer&&(i(this.wrapper,c.prefixPointerEvent("pointerdown"),this),i(o,c.prefixPointerEvent("pointermove"),this),i(o,c.prefixPointerEvent("pointercancel"),this),i(o,c.prefixPointerEvent("pointerup"),this)),c.hasTouch&&!this.options.disableTouch&&(i(this.wrapper,"touchstart",this),i(o,"touchmove",this),i(o,"touchcancel",this),i(o,"touchend",this)),i(this.scroller,"transitionend",this),i(this.scroller,"webkitTransitionEnd",this),i(this.scroller,"oTransitionEnd",this),i(this.scroller,"MSTransitionEnd",this)},getComputedPosition:function(){var e,i,o=t.getComputedStyle(this.scroller,null);return this.options.useTransform?(o=o[c.style.transform].split(")")[0].split(", "),e=+(o[12]||o[4]),i=+(o[13]||o[5])):(e=+o.left.replace(/[^-\d.]/g,""),i=+o.top.replace(/[^-\d.]/g,"")),{x:e,y:i}},_initIndicators:function(){function t(t){for(var e=a.indicators.length;e--;)t.call(a.indicators[e])}var e,i=this.options.interactiveScrollbars,o="string"!=typeof this.options.scrollbars,n=[],a=this;this.indicators=[],this.options.scrollbars&&(this.options.scrollY&&(e={el:s("v",i,this.options.scrollbars),interactive:i,defaultScrollbars:!0,customStyle:o,resize:this.options.resizeScrollbars,shrink:this.options.shrinkScrollbars,fade:this.options.fadeScrollbars,listenX:!1},this.wrapper.appendChild(e.el),n.push(e)),this.options.scrollX&&(e={el:s("h",i,this.options.scrollbars),interactive:i,defaultScrollbars:!0,customStyle:o,resize:this.options.resizeScrollbars,shrink:this.options.shrinkScrollbars,fade:this.options.fadeScrollbars,listenY:!1},this.wrapper.appendChild(e.el),n.push(e))),this.options.indicators&&(n=n.concat(this.options.indicators));for(var c=n.length;c--;)this.indicators.push(new r(this,n[c]));this.options.fadeScrollbars&&(this.on("scrollEnd",function(){t(function(){this.fade()})}),this.on("scrollCancel",function(){t(function(){this.fade()})}),this.on("scrollStart",function(){t(function(){this.fade(1)})}),this.on("beforeScrollStart",function(){t(function(){this.fade(1,!0)})})),this.on("refresh",function(){t(function(){this.refresh()})}),this.on("destroy",function(){t(function(){this.destroy()}),delete this.indicators})},_initWheel:function(){c.addEvent(this.wrapper,"wheel",this),c.addEvent(this.wrapper,"mousewheel",this),c.addEvent(this.wrapper,"DOMMouseScroll",this),this.on("destroy",function(){c.removeEvent(this.wrapper,"wheel",this),c.removeEvent(this.wrapper,"mousewheel",this),c.removeEvent(this.wrapper,"DOMMouseScroll",this)})},_wheel:function(t){if(this.enabled){t.preventDefault(),t.stopPropagation();var e,i,n,s,r=this;if(void 0===this.wheelTimeout&&r._execEvent("scrollStart"),clearTimeout(this.wheelTimeout),this.wheelTimeout=setTimeout(function(){r._execEvent("scrollEnd"),r.wheelTimeout=void 0},400),"deltaX"in t)1===t.deltaMode?(e=-t.deltaX*this.options.mouseWheelSpeed,i=-t.deltaY*this.options.mouseWheelSpeed):(e=-t.deltaX,i=-t.deltaY);else if("wheelDeltaX"in t)e=t.wheelDeltaX/120*this.options.mouseWheelSpeed,i=t.wheelDeltaY/120*this.options.mouseWheelSpeed;else if("wheelDelta"in t)e=i=t.wheelDelta/120*this.options.mouseWheelSpeed;else{if(!("detail"in t))return;e=i=-t.detail/3*this.options.mouseWheelSpeed}if(e*=this.options.invertWheelDirection,i*=this.options.invertWheelDirection,this.hasVerticalScroll||(e=i,i=0),this.options.snap)return n=this.currentPage.pageX,s=this.currentPage.pageY,e>0?n--:0>e&&n++,i>0?s--:0>i&&s++,void this.goToPage(n,s);n=this.x+o.round(this.hasHorizontalScroll?e:0),s=this.y+o.round(this.hasVerticalScroll?i:0),n>0?n=0:n<this.maxScrollX&&(n=this.maxScrollX),s>0?s=0:s<this.maxScrollY&&(s=this.maxScrollY),this.scrollTo(n,s,0)}},_initSnap:function(){this.currentPage={},"string"==typeof this.options.snap&&(this.options.snap=this.scroller.querySelectorAll(this.options.snap)),this.on("refresh",function(){var t,e,i,n,s,r,a=0,c=0,l=0,h=this.options.snapStepX||this.wrapperWidth,u=this.options.snapStepY||this.wrapperHeight;if(this.pages=[],this.wrapperWidth&&this.wrapperHeight&&this.scrollerWidth&&this.scrollerHeight){if(this.options.snap===!0)for(i=o.round(h/2),n=o.round(u/2);l>-this.scrollerWidth;){for(this.pages[a]=[],t=0,s=0;s>-this.scrollerHeight;)this.pages[a][t]={x:o.max(l,this.maxScrollX),y:o.max(s,this.maxScrollY),width:h,height:u,cx:l-i,cy:s-n},s-=u,t++;l-=h,a++}else for(r=this.options.snap,t=r.length,e=-1;t>a;a++)(0===a||r[a].offsetLeft<=r[a-1].offsetLeft)&&(c=0,e++),this.pages[c]||(this.pages[c]=[]),l=o.max(-r[a].offsetLeft,this.maxScrollX),s=o.max(-r[a].offsetTop,this.maxScrollY),i=l-o.round(r[a].offsetWidth/2),n=s-o.round(r[a].offsetHeight/2),this.pages[c][e]={x:l,y:s,width:r[a].offsetWidth,height:r[a].offsetHeight,cx:i,cy:n},l>this.maxScrollX&&c++;this.goToPage(this.currentPage.pageX||0,this.currentPage.pageY||0,0),this.options.snapThreshold%1===0?(this.snapThresholdX=this.options.snapThreshold,this.snapThresholdY=this.options.snapThreshold):(this.snapThresholdX=o.round(this.pages[this.currentPage.pageX][this.currentPage.pageY].width*this.options.snapThreshold),this.snapThresholdY=o.round(this.pages[this.currentPage.pageX][this.currentPage.pageY].height*this.options.snapThreshold))}}),this.on("flick",function(){var t=this.options.snapSpeed||o.max(o.max(o.min(o.abs(this.x-this.startX),1e3),o.min(o.abs(this.y-this.startY),1e3)),300);this.goToPage(this.currentPage.pageX+this.directionX,this.currentPage.pageY+this.directionY,t)})},_nearestSnap:function(t,e){if(!this.pages.length)return{x:0,y:0,pageX:0,pageY:0};var i=0,n=this.pages.length,s=0;if(o.abs(t-this.absStartX)<this.snapThresholdX&&o.abs(e-this.absStartY)<this.snapThresholdY)return this.currentPage;for(t>0?t=0:t<this.maxScrollX&&(t=this.maxScrollX),e>0?e=0:e<this.maxScrollY&&(e=this.maxScrollY);n>i;i++)if(t>=this.pages[i][0].cx){t=this.pages[i][0].x;break}for(n=this.pages[i].length;n>s;s++)if(e>=this.pages[0][s].cy){e=this.pages[0][s].y;break}return i==this.currentPage.pageX&&(i+=this.directionX,0>i?i=0:i>=this.pages.length&&(i=this.pages.length-1),t=this.pages[i][0].x),s==this.currentPage.pageY&&(s+=this.directionY,0>s?s=0:s>=this.pages[0].length&&(s=this.pages[0].length-1),e=this.pages[0][s].y),{x:t,y:e,pageX:i,pageY:s}},goToPage:function(t,e,i,n){n=n||this.options.bounceEasing,t>=this.pages.length?t=this.pages.length-1:0>t&&(t=0),e>=this.pages[t].length?e=this.pages[t].length-1:0>e&&(e=0);var s=this.pages[t][e].x,r=this.pages[t][e].y;i=void 0===i?this.options.snapSpeed||o.max(o.max(o.min(o.abs(s-this.x),1e3),o.min(o.abs(r-this.y),1e3)),300):i,this.currentPage={x:s,y:r,pageX:t,pageY:e},this.scrollTo(s,r,i,n)},next:function(t,e){var i=this.currentPage.pageX,o=this.currentPage.pageY;i++,i>=this.pages.length&&this.hasVerticalScroll&&(i=0,o++),this.goToPage(i,o,t,e)},prev:function(t,e){var i=this.currentPage.pageX,o=this.currentPage.pageY;i--,0>i&&this.hasVerticalScroll&&(i=0,o--),this.goToPage(i,o,t,e)},_initKeys:function(){var e,i={pageUp:33,pageDown:34,end:35,home:36,left:37,up:38,right:39,down:40};if("object"==typeof this.options.keyBindings)for(e in this.options.keyBindings)"string"==typeof this.options.keyBindings[e]&&(this.options.keyBindings[e]=this.options.keyBindings[e].toUpperCase().charCodeAt(0));else this.options.keyBindings={};for(e in i)this.options.keyBindings[e]=this.options.keyBindings[e]||i[e];c.addEvent(t,"keydown",this),this.on("destroy",function(){c.removeEvent(t,"keydown",this)})},_key:function(t){if(this.enabled){var e,i=this.options.snap,n=i?this.currentPage.pageX:this.x,s=i?this.currentPage.pageY:this.y,r=c.getTime(),a=this.keyTime||0,l=.25;switch(this.options.useTransition&&this.isInTransition&&(e=this.getComputedPosition(),this._translate(o.round(e.x),o.round(e.y)),this.isInTransition=!1),this.keyAcceleration=200>r-a?o.min(this.keyAcceleration+l,50):0,t.keyCode){case this.options.keyBindings.pageUp:this.hasHorizontalScroll&&!this.hasVerticalScroll?n+=i?1:this.wrapperWidth:s+=i?1:this.wrapperHeight;break;case this.options.keyBindings.pageDown:this.hasHorizontalScroll&&!this.hasVerticalScroll?n-=i?1:this.wrapperWidth:s-=i?1:this.wrapperHeight;break;case this.options.keyBindings.end:n=i?this.pages.length-1:this.maxScrollX,s=i?this.pages[0].length-1:this.maxScrollY;break;case this.options.keyBindings.home:n=0,s=0;break;case this.options.keyBindings.left:n+=i?-1:5+this.keyAcceleration>>0;break;case this.options.keyBindings.up:s+=i?1:5+this.keyAcceleration>>0;break;case this.options.keyBindings.right:n-=i?-1:5+this.keyAcceleration>>0;break;case this.options.keyBindings.down:s-=i?1:5+this.keyAcceleration>>0;break;default:return}if(i)return void this.goToPage(n,s);n>0?(n=0,this.keyAcceleration=0):n<this.maxScrollX&&(n=this.maxScrollX,this.keyAcceleration=0),s>0?(s=0,this.keyAcceleration=0):s<this.maxScrollY&&(s=this.maxScrollY,this.keyAcceleration=0),this.scrollTo(n,s,0),this.keyTime=r}},_animate:function(t,e,i,o){function n(){var p,d,f,m=c.getTime();return m>=u?(s.isAnimating=!1,s._translate(t,e),void(s.resetPosition(s.options.bounceTime)||s._execEvent("scrollEnd"))):(m=(m-h)/i,f=o(m),p=(t-r)*f+r,d=(e-l)*f+l,s._translate(p,d),void(s.isAnimating&&a(n)))}var s=this,r=this.x,l=this.y,h=c.getTime(),u=h+i;this.isAnimating=!0,n()},handleEvent:function(t){switch(t.type){case"touchstart":case"pointerdown":case"MSPointerDown":case"mousedown":this._start(t);break;case"touchmove":case"pointermove":case"MSPointerMove":case"mousemove":this._move(t);break;case"touchend":case"pointerup":case"MSPointerUp":case"mouseup":case"touchcancel":case"pointercancel":case"MSPointerCancel":case"mousecancel":this._end(t);break;case"orientationchange":case"resize":this._resize();break;case"transitionend":case"webkitTransitionEnd":case"oTransitionEnd":case"MSTransitionEnd":this._transitionEnd(t);break;case"wheel":case"DOMMouseScroll":case"mousewheel":this._wheel(t);break;case"keydown":this._key(t);break;case"click":t._constructed||(t.preventDefault(),t.stopPropagation())}}},r.prototype={handleEvent:function(t){switch(t.type){case"touchstart":case"pointerdown":case"MSPointerDown":case"mousedown":this._start(t);break;case"touchmove":case"pointermove":case"MSPointerMove":case"mousemove":this._move(t);break;case"touchend":case"pointerup":case"MSPointerUp":case"mouseup":case"touchcancel":case"pointercancel":case"MSPointerCancel":case"mousecancel":this._end(t)}},destroy:function(){this.options.interactive&&(c.removeEvent(this.indicator,"touchstart",this),c.removeEvent(this.indicator,c.prefixPointerEvent("pointerdown"),this),c.removeEvent(this.indicator,"mousedown",this),c.removeEvent(t,"touchmove",this),c.removeEvent(t,c.prefixPointerEvent("pointermove"),this),c.removeEvent(t,"mousemove",this),c.removeEvent(t,"touchend",this),c.removeEvent(t,c.prefixPointerEvent("pointerup"),this),c.removeEvent(t,"mouseup",this)),this.options.defaultScrollbars&&this.wrapper.parentNode.removeChild(this.wrapper)},_start:function(e){var i=e.touches?e.touches[0]:e;e.preventDefault(),e.stopPropagation(),this.transitionTime(),this.initiated=!0,this.moved=!1,this.lastPointX=i.pageX,this.lastPointY=i.pageY,this.startTime=c.getTime(),this.options.disableTouch||c.addEvent(t,"touchmove",this),this.options.disablePointer||c.addEvent(t,c.prefixPointerEvent("pointermove"),this),this.options.disableMouse||c.addEvent(t,"mousemove",this),this.scroller._execEvent("beforeScrollStart")},_move:function(t){{var e,i,o,n,s=t.touches?t.touches[0]:t;c.getTime()}this.moved||this.scroller._execEvent("scrollStart"),this.moved=!0,e=s.pageX-this.lastPointX,this.lastPointX=s.pageX,i=s.pageY-this.lastPointY,this.lastPointY=s.pageY,o=this.x+e,n=this.y+i,this._pos(o,n),t.preventDefault(),t.stopPropagation()},_end:function(e){if(this.initiated){if(this.initiated=!1,e.preventDefault(),e.stopPropagation(),c.removeEvent(t,"touchmove",this),c.removeEvent(t,c.prefixPointerEvent("pointermove"),this),c.removeEvent(t,"mousemove",this),this.scroller.options.snap){var i=this.scroller._nearestSnap(this.scroller.x,this.scroller.y),n=this.options.snapSpeed||o.max(o.max(o.min(o.abs(this.scroller.x-i.x),1e3),o.min(o.abs(this.scroller.y-i.y),1e3)),300);(this.scroller.x!=i.x||this.scroller.y!=i.y)&&(this.scroller.directionX=0,this.scroller.directionY=0,this.scroller.currentPage=i,this.scroller.scrollTo(i.x,i.y,n,this.scroller.options.bounceEasing))}this.moved&&this.scroller._execEvent("scrollEnd")}},transitionTime:function(t){t=t||0,this.indicatorStyle[c.style.transitionDuration]=t+"ms",!t&&c.isBadAndroid&&(this.indicatorStyle[c.style.transitionDuration]="0.001s")},transitionTimingFunction:function(t){this.indicatorStyle[c.style.transitionTimingFunction]=t},refresh:function(){this.transitionTime(),this.indicatorStyle.display=this.options.listenX&&!this.options.listenY?this.scroller.hasHorizontalScroll?"block":"none":this.options.listenY&&!this.options.listenX?this.scroller.hasVerticalScroll?"block":"none":this.scroller.hasHorizontalScroll||this.scroller.hasVerticalScroll?"block":"none",this.scroller.hasHorizontalScroll&&this.scroller.hasVerticalScroll?(c.addClass(this.wrapper,"iScrollBothScrollbars"),c.removeClass(this.wrapper,"iScrollLoneScrollbar"),this.options.defaultScrollbars&&this.options.customStyle&&(this.options.listenX?this.wrapper.style.right="8px":this.wrapper.style.bottom="8px")):(c.removeClass(this.wrapper,"iScrollBothScrollbars"),c.addClass(this.wrapper,"iScrollLoneScrollbar"),this.options.defaultScrollbars&&this.options.customStyle&&(this.options.listenX?this.wrapper.style.right="2px":this.wrapper.style.bottom="2px"));this.wrapper.offsetHeight;this.options.listenX&&(this.wrapperWidth=this.wrapper.clientWidth,this.options.resize?(this.indicatorWidth=o.max(o.round(this.wrapperWidth*this.wrapperWidth/(this.scroller.scrollerWidth||this.wrapperWidth||1)),8),this.indicatorStyle.width=this.indicatorWidth+"px"):this.indicatorWidth=this.indicator.clientWidth,this.maxPosX=this.wrapperWidth-this.indicatorWidth,"clip"==this.options.shrink?(this.minBoundaryX=-this.indicatorWidth+8,this.maxBoundaryX=this.wrapperWidth-8):(this.minBoundaryX=0,this.maxBoundaryX=this.maxPosX),this.sizeRatioX=this.options.speedRatioX||this.scroller.maxScrollX&&this.maxPosX/this.scroller.maxScrollX),this.options.listenY&&(this.wrapperHeight=this.wrapper.clientHeight,this.options.resize?(this.indicatorHeight=o.max(o.round(this.wrapperHeight*this.wrapperHeight/(this.scroller.scrollerHeight||this.wrapperHeight||1)),8),this.indicatorStyle.height=this.indicatorHeight+"px"):this.indicatorHeight=this.indicator.clientHeight,this.maxPosY=this.wrapperHeight-this.indicatorHeight,"clip"==this.options.shrink?(this.minBoundaryY=-this.indicatorHeight+8,this.maxBoundaryY=this.wrapperHeight-8):(this.minBoundaryY=0,this.maxBoundaryY=this.maxPosY),this.maxPosY=this.wrapperHeight-this.indicatorHeight,this.sizeRatioY=this.options.speedRatioY||this.scroller.maxScrollY&&this.maxPosY/this.scroller.maxScrollY),this.updatePosition()},updatePosition:function(){var t=this.options.listenX&&o.round(this.sizeRatioX*this.scroller.x)||0,e=this.options.listenY&&o.round(this.sizeRatioY*this.scroller.y)||0;this.options.ignoreBoundaries||(t<this.minBoundaryX?("scale"==this.options.shrink&&(this.width=o.max(this.indicatorWidth+t,8),this.indicatorStyle.width=this.width+"px"),t=this.minBoundaryX):t>this.maxBoundaryX?"scale"==this.options.shrink?(this.width=o.max(this.indicatorWidth-(t-this.maxPosX),8),this.indicatorStyle.width=this.width+"px",t=this.maxPosX+this.indicatorWidth-this.width):t=this.maxBoundaryX:"scale"==this.options.shrink&&this.width!=this.indicatorWidth&&(this.width=this.indicatorWidth,this.indicatorStyle.width=this.width+"px"),e<this.minBoundaryY?("scale"==this.options.shrink&&(this.height=o.max(this.indicatorHeight+3*e,8),this.indicatorStyle.height=this.height+"px"),e=this.minBoundaryY):e>this.maxBoundaryY?"scale"==this.options.shrink?(this.height=o.max(this.indicatorHeight-3*(e-this.maxPosY),8),this.indicatorStyle.height=this.height+"px",e=this.maxPosY+this.indicatorHeight-this.height):e=this.maxBoundaryY:"scale"==this.options.shrink&&this.height!=this.indicatorHeight&&(this.height=this.indicatorHeight,this.indicatorStyle.height=this.height+"px")),this.x=t,this.y=e,this.scroller.options.useTransform?this.indicatorStyle[c.style.transform]="translate("+t+"px,"+e+"px)"+this.scroller.translateZ:(this.indicatorStyle.left=t+"px",this.indicatorStyle.top=e+"px")
},_pos:function(t,e){0>t?t=0:t>this.maxPosX&&(t=this.maxPosX),0>e?e=0:e>this.maxPosY&&(e=this.maxPosY),t=this.options.listenX?o.round(t/this.sizeRatioX):this.scroller.x,e=this.options.listenY?o.round(e/this.sizeRatioY):this.scroller.y,this.scroller.scrollTo(t,e)},fade:function(t,e){if(!e||this.visible){clearTimeout(this.fadeTimeout),this.fadeTimeout=null;var i=t?250:500,o=t?0:300;t=t?"1":"0",this.wrapperStyle[c.style.transitionDuration]=i+"ms",this.fadeTimeout=setTimeout(function(t){this.wrapperStyle.opacity=t,this.visible=+t}.bind(this,t),o)}}},n.utils=c,"undefined"!=typeof e&&e.exports?e.exports=n:t.IScroll=n}(window,document,Math)},{}],17:[function(t,e){(function(i){t("/Users/KingScooty/Sites/wildflame/supremo/node_modules/hammerjs/hammer.js"),__browserify_shim_require__=t,function(t,e,i,o,n){!function(t){"function"==typeof o&&o.amd?o(["jquery","hammerjs"],t):"object"==typeof e?t(__browserify_shim_require__("jquery"),__browserify_shim_require__("hammerjs")):t(jQuery,Hammer)}(function(t,e){function i(i,o){var n=t(i);n.data("hammer")||n.data("hammer",new e(n[0],o))}t.fn.hammer=function(t){return this.each(function(){i(this,t)})},e.Manager.prototype.emit=function(e){return function(i,o){e.call(this,i,o),t(this.element).trigger({type:i,gesture:o})}}(e.Manager.prototype.emit)}),n("undefined"!=typeof hammer?hammer:window.hammer)}.call(i,void 0,void 0,void 0,void 0,function(t){e.exports=t})}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"/Users/KingScooty/Sites/wildflame/supremo/node_modules/hammerjs/hammer.js":15}]},{},[5]);